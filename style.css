:root {
  --screen-width: 350px;
  --screen-height: 650px;
  --secondary-bg: #ffffff;
  --border-color: #e0e0e0;
  --text-primary: #1f1f1f;
  --text-secondary: #8a8a8a;
  --accent-color: #007bff;
  --status-bar-text-color: var(--accent-color);
}
html {
  -webkit-text-size-adjust: 100%;
  height: 100%;
}

body {
  margin: 0;
  font-family:
    "bulangni",
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    Helvetica,
    Arial,
    sans-serif;
  font-weight: normal;
  background-color: #f0f2f5;
  height: 100%;
  overflow: hidden;
}
#phone-screen {
  width: 100%;
  height: 100vh;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  background-color: #ffffff;
}

.header,
.qzone-header {
  padding-top: calc(15px + env(safe-area-inset-top));
}

#chat-input-area {
  padding-bottom: calc(8px + env(safe-area-inset-bottom));
}

#chat-list-bottom-nav {
  padding-bottom: env(safe-area-inset-bottom);
}

#status-bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  padding: 12px 20px;
  display: none;
  justify-content: space-between;
  align-items: center;
  color: var(--accent-color);
  z-index: 10;
  font-size: 14px;
  box-sizing: border-box;
  pointer-events: none;
  font-family: "bulangni", sans-serif;
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
}

#status-bar-time {
  font-weight: 600;
}

.battery-container {
  display: flex;
  align-items: center;
  gap: 5px;
}

.battery-icon {
  width: 25px;
  height: 12px;
  border: 1.5px solid currentColor;
  border-radius: 5px;
  position: relative;
  padding: 1px;
}

.battery-icon::after {
  content: "";
  position: absolute;
  right: -4px;
  top: 2.5px;
  width: 2px;
  height: 5px;
  background-color: currentColor;
  border-radius: 0 2px 2px 0;
}

.battery-level {
  height: 100%;
  background-color: currentColor;
  border-radius: 3px;
  transition: width 0.5s ease;
}

.battery-container.charging .battery-level {
  animation: charge-breath 2s infinite;
}
@keyframes charge-breath {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.screen {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;

  display: flex;
  flex-direction: column;
  overflow: hidden;
  opacity: 0;
  visibility: hidden;
  transition:
    opacity 0.3s,
    visibility 0.3s;
}
.screen.active {
  opacity: 1;
  visibility: visible;
  z-index: 1;
}
.header {
  position: relative;
  z-index: 15;
  flex-shrink: 0;
  padding: 15px 15px;
  padding-top: 45px;
  background-color: rgba(247, 247, 247, 0.8);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 18px;
  font-weight: 600;
  height: 110px;
  box-sizing: border-box;
}

.header .header-actions {
  display: flex;
  align-items: center;
  gap: 5px;
}
.header .back-btn,
.header .action-btn {
  font-size: 24px;
  cursor: pointer;
  color: var(--accent-color);
  display: flex;
  align-items: center;
  justify-content: center;

  /* --- æ ¸å¿ƒä¿®æ”¹ä»è¿™é‡Œå¼€å§‹ --- */
  width: 40px; /* 1. å°†æŒ‰é’®å®½åº¦ä»30pxå¢åŠ åˆ°40px */
  height: 40px; /* 2. å°†æŒ‰é’®é«˜åº¦ä»30pxå¢åŠ åˆ°40px */
  border-radius: 50%;
  transition: background-color 0.2s;
}

/* ã€æ–°å¢ã€‘ä¸ºæŒ‰é’®æ·»åŠ æ‚¬åœ/ç‚¹å‡»æ—¶çš„èƒŒæ™¯è‰²ï¼Œç»™ç”¨æˆ·æ˜ç¡®çš„åé¦ˆ */
.header .back-btn:hover,
.header .action-btn:hover {
  background-color: rgba(0, 0, 0, 0.05); /* é¼ æ ‡æ”¾ä¸Šå»æ—¶ç»™ä¸€ä¸ªæ·¡æ·¡çš„èƒŒæ™¯ */
}
#phone-screen.dark-mode .header .back-btn:hover,
#phone-screen.dark-mode .header .action-btn:hover {
  background-color: rgba(255, 255, 255, 0.1); /* å¤œé—´æ¨¡å¼ä¸‹çš„æ‚¬åœé¢œè‰² */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

.header .action-btn {
  font-size: 16px; /* ä¸“é—¨ä¸ºâ€œä¸Šä¼ â€ã€â€œ+â€ç­‰æ–‡å­—æŒ‰é’®ç¼©å°å­—å· */
  font-weight: 600; /* å¯ä»¥åŠ ç²—ä¸€ç‚¹è®©å®ƒæ›´æ¸…æ™° */
}

.header .action-btn img {
  height: 26px;
}
.header .save-btn {
  font-size: 16px;
  color: var(--accent-color);
  font-weight: 600;
  cursor: pointer;
}
/* â–¼â–¼â–¼ ã€ç»ˆæåˆå¹¶ä¿®æ­£ç‰ˆã€‘è¯·ç”¨è¿™å—ä»£ç å®Œæ•´æ›¿æ¢æ‰æ—§çš„ #home-screen, #clock-container, .app-grid æ ·å¼ â–¼â–¼â–¼ */

/* 1. (æ ¸å¿ƒ) ä¸ºé”å±å’Œä¸»å±å¹•åº”ç”¨ç›¸åŒçš„å…¨å±å¸ƒå±€ (æ­¤éƒ¨åˆ†ä¿æŒä¸å˜) */
#lock-screen,
#home-screen {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;

  /* ç”¨paddingæŠŠå†…å®¹æŒ¤è¿›æ¥ï¼ŒåŒæ—¶è®©èƒŒæ™¯é“ºæ»¡å®‰å…¨åŒº */
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: 20px;
  padding-right: 20px;

  box-sizing: border-box;
}

/* 3. ä¿æŒä¸»å±å¹•çš„æ—¶é’Ÿå’ŒAppå›¾æ ‡å¸ƒå±€ä¸å˜ */
#clock-container {
  text-align: center;
  color: white;
  text-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
  margin-bottom: 20px;
  flex-shrink: 0;
  margin-top: 60px;
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
.app-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
  font-size: 14px;
  font-weight: 500;
  text-align: center;
}
.app-icon .icon-bg {
  width: 65px;
  height: 65px;
  border-radius: 18px;
  background-color: var(--secondary-bg);
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 32px;
  margin-bottom: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  transition: transform 0.2s ease;
  overflow: hidden;
}
.app-icon:active .icon-bg {
  transform: scale(0.9);
}
.app-icon .icon-bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.app-icon .label {
  color: white;
}
.form-container,
.list-container {
  padding: 20px;
  overflow-y: auto;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
}
.form-group {
  margin-bottom: 20px;
}
.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
  color: var(--text-secondary);
}
.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-size: 16px;
  box-sizing: border-box;
}
.form-group textarea {
  min-height: 80px;
  resize: vertical;
}
#world-book-content-input {
  height: calc(100% - 120px);
}
.form-button {
  width: 100%;
  padding: 15px;
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  margin-top: 10px;
}
.form-button-secondary {
  background-color: #f0f0f0;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
#wallpaper-screen .form-container {
  align-items: center;
}
#wallpaper-preview {
  width: 180px;
  height: 320px;
  border: 2px dashed var(--border-color);
  background-color: var(--secondary-bg);
  margin-bottom: 20px;
  background-size: cover;
  background-position: center;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(--text-secondary);
}
#wallpaper-upload-input {
  display: none;
}
/* ä¿®æ”¹åçš„ #world-book-list æ ·å¼ */
/* ã€ç»ˆæä¿®å¤ç‰ˆã€‘ä¸–ç•Œä¹¦ä¸»ç•Œé¢åˆ—è¡¨æ ·å¼ */
#world-book-list {
  flex-grow: 1; /* è®©åˆ—è¡¨å æ®æ‰€æœ‰å‰©ä½™çš„å‚ç›´ç©ºé—´ */
  overflow-y: auto; /* å†…å®¹è¶…å‡ºæ—¶ï¼Œè‡ªåŠ¨æ˜¾ç¤ºå‚ç›´æ»šåŠ¨æ¡ */
  min-height: 0; /* è§£å†³Flexå¸ƒå±€ä¸‹çš„æ»šåŠ¨å…¼å®¹æ€§é—®é¢˜ */
  background-color: var(--secondary-bg); /* ä¿ç•™ä½ å–œæ¬¢çš„èƒŒæ™¯è‰² */
  /* æˆ‘ä»¬ä¸å†éœ€è¦ padding-top å’Œ margin-top è¿™ä¸¤ä¸ªæŠ€å·§äº† */
}

/* ä¿®æ”¹åçš„ #chat-list æ ·å¼ï¼Œé€‚é…äº†iOSåº•éƒ¨å®‰å…¨åŒº */
#chat-list {
  flex-grow: 1;
  background-color: var(--secondary-bg);
  padding-top: 110px;
  /* æ ¸å¿ƒä¿®å¤ï¼šå°†åº•éƒ¨å†…è¾¹è·ä» 8px å¢åŠ åˆ° 60pxï¼Œä¸ºå¯¼èˆªæ ç•™å‡ºè¶³å¤Ÿç©ºé—´ */
  padding-bottom: calc(60px + env(safe-area-inset-bottom));
  box-sizing: border-box;
}

.list-item {
  display: flex;
  flex-direction: column;
  padding: 12px 20px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
}
.list-item:hover {
  background-color: #f5f5f5;
}
.list-item .item-title {
  font-weight: 500;
  font-size: 16px;
  margin-bottom: 5px;
}
.list-item .item-content {
  font-size: 14px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.chat-list-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
  position: relative;
}
.chat-list-item:hover {
  background-color: #f5f5f5;
}
.chat-list-item .avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  margin-right: 12px;
  object-fit: cover;
  background-color: #ccc;
}
.chat-list-item .info {
  flex-grow: 1;
  overflow: hidden;
}
.chat-list-item .name-line {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 2px;
}
.chat-list-item .name {
  font-weight: 500;
  color: var(--text-primary);
}
.chat-list-item .group-tag {
  font-size: 10px;
  color: var(--accent-color);
  background-color: #e7f3ff;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: bold;
  flex-shrink: 0;
}
.chat-list-item .last-msg {
  font-size: 13px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 180px;
}
/* ä¿®æ”¹åçš„ä»£ç  */
/* â–¼â–¼â–¼ ç”¨è¿™å—ã€ç»ˆæä¿®å¤ç‰ˆã€‘ä»£ç ï¼Œæ›¿æ¢ä½ æ—§çš„ #chat-interface-screen å’Œ #chat-messages æ ·å¼ â–¼â–¼â–¼ */

/* 1. èŠå¤©å±å¹•æ€»å®¹å™¨ï¼šè®©å®ƒæˆä¸ºä¸€ä¸ªæ’‘æ»¡å±å¹•çš„Flexåˆ—å¸ƒå±€ */
#chat-interface-screen {
  background-size: cover;
  background-position: center;
  display: flex; /* <-- æ ¸å¿ƒï¼šå¿…é¡»æ˜¯flexå¸ƒå±€ */
  flex-direction: column; /* <-- æ ¸å¿ƒï¼šå­å…ƒç´ å‚ç›´æ’åˆ— */
  height: 100%; /* <-- æ ¸å¿ƒï¼šæ’‘æ»¡çˆ¶å®¹å™¨ */
  overflow: hidden; /* <-- æ ¸å¿ƒï¼šé˜²æ­¢ä»»ä½•æ„å¤–æº¢å‡º */
}

/* 2. èŠå¤©æ¶ˆæ¯åŒºåŸŸï¼šè®©å®ƒè‡ªåŠ¨å¡«å……å‰©ä½™ç©ºé—´ï¼Œè€Œä¸æ˜¯å›ºå®šé«˜åº¦ */
#chat-messages {
  flex-grow: 1; /* â˜…â˜…â˜… æœ€æœ€å…³é”®çš„ä¸€è¡Œï¼è®©å®ƒè‡ªåŠ¨ä¼¸ç¼©ï¼Œå¡«æ»¡å‰©ä½™ç©ºé—´ â˜…â˜…â˜… */
  min-height: 0; /* ä¸€ä¸ªç¥å¥‡çš„ä¿é™©ä¸ï¼Œè§£å†³Flexå¸ƒå±€ä¸‹çš„æ»šåŠ¨å…¼å®¹é—®é¢˜ */
  overflow-y: auto; /* å†…å®¹è¶…å‡ºæ—¶ï¼Œå…è®¸è‡ªèº«å‚ç›´æ»šåŠ¨ */
  overflow-x: hidden;
  padding: 10px 15px; /* ä¿ç•™èˆ’é€‚çš„å·¦å³å†…è¾¹è· */
  box-sizing: border-box;

  /* 
     * ä¿ç•™ä½ çš„å¤´éƒ¨é€‚é…æ–¹æ¡ˆï¼š
     * ä¸ºé¡¶éƒ¨åŠé€æ˜çš„headerç•™å‡ºç©ºé—´ï¼ŒåŒæ—¶è®©èƒŒæ™¯å›¾èƒ½é€ä¸Šå»ã€‚
     * 110pxæ˜¯headerçš„é«˜åº¦, -80pxæ˜¯å‘ä¸Šæ‹‰çš„è·ç¦»ï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„headeræ ·å¼å¾®è°ƒã€‚
    */
  padding-top: 110px;
  margin-top: -80px;

  /* ä¿æŒå†…éƒ¨æ¶ˆæ¯æ°”æ³¡çš„flexå¸ƒå±€ */
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
#load-more-btn {
  text-align: center;
  padding: 10px;
  color: var(--accent-color);
  font-size: 14px;
  cursor: pointer;
  background-color: transparent;
  border: none;
  width: 100%;
}
#load-more-btn:hover {
  text-decoration: underline;
}

/* â–¼â–¼â–¼ ç”¨è¿™æ•´å—ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰€æœ‰æ—§çš„ .sender-name æ ·å¼ â–¼â–¼â–¼ */

/* 1. è¿™æ˜¯å‘é€è€…ä¿¡æ¯è¡Œ (åå­—+æ ‡ç­¾) çš„æ€»å®¹å™¨ */
/* â–¼â–¼â–¼ ã€ç‹¬å®¶å®šåˆ¶ã€‘æ˜µç§°/å¤´è¡”ä¸Šç§»ä¿®å¤ â–¼â–¼â–¼ */
/* 
  ç”¨è¿™æ•´å—ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ æ—§çš„ .group-sender-line æ ·å¼ã€‚
  å®ƒå°†æŠŠåå­—å’Œæ ‡ç­¾æ•´ä½“å‘ä¸Šç§»åŠ¨ä¸€ç‚¹ï¼Œé¿å…é®æŒ¡æ°”æ³¡ã€‚
*/

.group-sender-line {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 11px;
  color: #666;
  position: absolute;

  /* â˜…â˜…â˜… ä¿®æ”¹è¿™é‡Œï¼šä» -16px æ”¹ä¸º -18pxï¼Œè®©å®ƒå‘ä¸Šç§»åŠ¨2åƒç´  â˜…â˜…â˜… */
  /* ä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½ï¼Œç»§ç»­å‡å°è¿™ä¸ªå€¼ï¼ˆæ¯”å¦‚-20pxï¼‰è®©å®ƒæ›´é«˜ */
  top: -18px;

  left: 50px;
  white-space: nowrap;

  /* ã€æ–°å¢ã€‘ä¸ºäº†ä¿è¯å±‚çº§ï¼Œç¡®ä¿å®ƒåœ¨æ°”æ³¡ä¹‹ä¸Š */
  z-index: 1;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* 2. æˆ‘ä»¬ä¸å†éœ€è¦é’ˆå¯¹ .sender-name çš„ç‰¹æ®Šå®šä½äº†ï¼Œå› ä¸ºç°åœ¨éƒ½ç”± .group-sender-line æ§åˆ¶ */
/* æ‰€ä»¥ï¼Œå¯ä»¥æŠŠæ—§çš„ .message-wrapper.ai .sender-name è§„åˆ™åˆ æ‰ï¼Œæˆ–è€…ç”¨è¿™ä¸ªç©ºçš„è§„åˆ™è¦†ç›–æ‰å®ƒ */
.message-wrapper.ai .sender-name {
  /* è¿™ä¸ªè§„åˆ™ç°åœ¨æ˜¯ç©ºçš„ï¼Œå› ä¸ºå®ƒå·²ç»è¢«æ–°çš„ .group-sender-line æ›¿ä»£äº† */
}

/* 3. ã€å…¨æ–°ã€‘è¿™æ˜¯èŠå¤©ç•Œé¢å†…ï¼Œè·Ÿåœ¨åå­—åé¢çš„èº«ä»½å’Œå¤´è¡”æ ‡ç­¾çš„ä¸“å±æ ·å¼ */
.group-sender-tags {
  display: inline-flex; /* ç¡®ä¿å®ƒè‡ªå·±ä¹Ÿæ˜¯ä¸€ä¸ª flex å®¹å™¨ï¼Œè®©å†…éƒ¨çš„æ ‡ç­¾èƒ½æ°´å¹³æ’åˆ— */
  align-items: center;
  gap: 5px; /* æ ‡ç­¾ä¹‹é—´çš„é—´è· */
}

.group-role-tag,
.group-title-tag {
  font-size: 10px;
  padding: 1px 5px;
  border-radius: 8px; /* åœ†æ¶¦çš„èƒ¶å›Šå½¢çŠ¶ */
  font-weight: 500;
  line-height: 1.4;
}

/* ç¾¤ä¸»å’Œç®¡ç†å‘˜çš„é¢œè‰² */
.group-role-tag.owner {
  background-color: #fff2c2;
  color: #d98c00;
  border: 1px solid #ffe89d;
}
.group-role-tag.admin {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

/* â–¼â–¼â–¼ ã€ç‹¬å®¶ç»ˆæä¿®å¤ç‰ˆã€‘è¯·ç”¨è¿™æ•´å—ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰æ‰€æœ‰æ—§çš„ .group-title-tag æ ·å¼ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘è¯·å°†è¿™æ•´å—ä»£ç ç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* 1. å…ˆä¸ºã€æ‰€æœ‰ã€‘å¤´è¡”è®¾ç½®ä½ æƒ³è¦çš„ç´«è‰²ä½œä¸ºé»˜è®¤å€¼ */
.group-title-tag {
  background-color: #e9e7fd !important; /* æ·¡ç´«è‰²èƒŒæ™¯ */
  color: #5e548e !important; /* æ·±ç´«è‰²æ–‡å­— */
  border: 1px solid #d9d5f8 !important; /* ç¨æ·±çš„ç´«è‰²è¾¹æ¡† */
}

/* 2. ç„¶åï¼Œå•ç‹¬ä¸ºã€ç®¡ç†å‘˜ã€‘çš„å¤´è¡”è®¾ç½®ç»¿è‰² */
.group-role-tag.admin ~ .group-title-tag {
  background-color: #d4edda !important; /* å¤åˆ¶ç®¡ç†å‘˜æ ‡ç­¾çš„ç»¿è‰² */
  color: #155724 !important;
  border: 1px solid #c3e6cb !important;
}

/* 3. åŒç†ï¼Œä¸ºã€ç¾¤ä¸»ã€‘çš„å¤´è¡”è®¾ç½®é»„è‰² */
.group-role-tag.owner ~ .group-title-tag {
  background-color: #fff2c2 !important; /* å¤åˆ¶ç¾¤ä¸»æ ‡ç­¾çš„é»„è‰² */
  color: #d98c00 !important;
  border: 1px solid #ffe89d !important;
}

/* === å¤œé—´æ¨¡å¼é€‚é… (åŸç†ç›¸åŒ) === */

/* å¤œé—´æ¨¡å¼ä¸‹çš„é»˜è®¤ç´«è‰² */
#phone-screen.dark-mode .group-title-tag {
  background-color: #3b3355 !important;
  color: #c3b9e7 !important;
  border-color: #514777 !important;
}

/* å¤œé—´æ¨¡å¼ä¸‹çš„ç®¡ç†å‘˜ç»¿è‰² */
#phone-screen.dark-mode .group-role-tag.admin ~ .group-title-tag {
  background-color: #104a3c !important;
  color: #76ddc4 !important;
  border-color: #176854 !important;
}

/* å¤œé—´æ¨¡å¼ä¸‹çš„ç¾¤ä¸»é»„è‰² */
#phone-screen.dark-mode .group-role-tag.owner ~ .group-title-tag {
  background-color: #594200 !important;
  color: #ffd466 !important;
  border-color: #795b00 !important;
}

/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* === ã€å…¨æ–°ã€‘æ¶ˆæ¯å¸ƒå±€ä¸æ—¶é—´æˆ³æ ·å¼ === */

/* 1. æ¶ˆæ¯å•å…ƒçš„æ€»å®¹å™¨ (é‡æ„) */
.message-wrapper {
  display: flex; /* ä½¿ç”¨Flexå¸ƒå±€ */
  gap: 8px; /* æ°”æ³¡å’Œæ—¶é—´æˆ³ä¹‹é—´çš„é—´è· */
  align-items: flex-end; /* æ ¸å¿ƒï¼šè®©æ°”æ³¡å’Œæ—¶é—´æˆ³åº•éƒ¨å¯¹é½ */
  position: relative;
  max-width: 90%; /* å¯ä»¥ç¨å¾®æ”¾å®½ä¸€ç‚¹ï¼Œå› ä¸ºæ—¶é—´æˆ³ç°åœ¨åœ¨å¤–é¢äº† */
}

/* 2. AIæ¶ˆæ¯å•å…ƒé å·¦ */
.message-wrapper.ai {
  align-self: flex-start;
  flex-direction: row; /* å¤´åƒã€æ°”æ³¡ã€æ—¶é—´æˆ³ï¼Œä»å·¦åˆ°å³æ’åˆ— */
}

/* 3. ç”¨æˆ·æ¶ˆæ¯å•å…ƒé å³ */
.message-wrapper.user {
  align-self: flex-end;
  flex-direction: row-reverse; /* æ—¶é—´æˆ³ã€æ°”æ³¡ã€å¤´åƒï¼Œä»å³åˆ°å·¦æ’åˆ— */
}

/* 4. æ°”æ³¡å’Œå¤´åƒçš„ç›´æ¥å®¹å™¨ (ä¿æŒä¸å˜) */
.message-bubble {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  max-width: 100%;
}

.timestamp {
  /* ç§»é™¤æ—§çš„ position: absolute */
  font-size: 11px;
  color: #999;
  text-shadow: 0 0 3px rgba(255, 255, 255, 0.6);
  white-space: nowrap; /* é˜²æ­¢æ—¶é—´æ¢è¡Œ */
  margin-bottom: 5px; /* è®©å®ƒå’Œæ°”æ³¡åº•éƒ¨æœ‰è½»å¾®çš„å¯¹é½åç§»ï¼Œæ›´ç¾è§‚ */
  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
}

.message-bubble.selected::after {
  content: "âœ”";
  position: absolute;
  left: -10px;
  top: 50%;
  transform: translateY(-50%);
  background-color: var(--accent-color);
  color: white;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
}
.message-bubble.user.selected::after {
  left: auto;
  right: -10px;
}

.message-bubble.user {
  flex-direction: row-reverse;
}
#typing-indicator {
  align-self: flex-start;
  display: none;
  margin: 0 10px 10px;
  color: var(--text-secondary);
}
/* ä¿®æ”¹èŠå¤©è¾“å…¥æ¡†åŒºåŸŸçš„ padding */
#chat-input-area {
  flex-shrink: 0;
  /* â–¼â–¼â–¼ æ ¸å¿ƒä¿®æ”¹1ï¼šå¢åŠ äº†ä¸Šã€å·¦ã€å³çš„å†…è¾¹è·ï¼Œè®©æ•´ä¸ªåŒºåŸŸæ›´â€œå®½æ•â€ â–¼â–¼â–¼ */
  padding: 10px 12px;
  background-color: rgba(247, 247, 247, 0.8);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  gap: 5px;
}

/* ä¿®æ”¹iPhoneåº•éƒ¨å®‰å…¨åŒºçš„é€‚é… */
#chat-input-area {
  /* â–¼â–¼â–¼ æ ¸å¿ƒä¿®æ”¹2ï¼šå°†è¿™é‡Œçš„ 8px ä¹ŸåŒæ­¥ä¸º 10pxï¼Œä¿æŒä¸€è‡´ â–¼â–¼â–¼ */
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

#chat-input-main-row {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  width: 100%;
}
#chat-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  max-height: 100px;
  resize: none;
}
.action-button {
  border: none;
  color: white;
  border-radius: 20px;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
  flex-shrink: 0;
}
#send-btn {
  background-color: var(--accent-color);
  height: 40px;
  padding: 0 15px;
}
.modal {
  /* â–¼â–¼â–¼ æ ¸å¿ƒä¿®æ”¹ï¼šå°†å®šä½æ–¹å¼ä» absolute æ”¹ä¸º fixed â–¼â–¼â–¼ */
  position: fixed;
  /* â–²â–²â–² ä¿®æ”¹ç»“æŸ â–²â–²â–² */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 100;
}

.modal.visible {
  display: flex;
}
.modal-content {
  width: 90%;
  max-height: 90%;
  background-color: white;
  border-radius: 15px;
  display: flex;
  flex-direction: column;
}
.modal-header {
  padding: 15px;
  font-weight: 600;
  border-bottom: 1px solid var(--border-color);
  text-align: center;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.modal-body {
  padding: 15px;
  overflow-y: auto;
}
.modal-footer {
  padding: 15px;
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: space-around;
}
.modal-footer button {
  width: 45%;
  padding: 12px;
  border-radius: 8px;
  border: 1px solid var(--accent-color);
  cursor: pointer;
  font-size: 16px;
}
.modal-footer .save {
  background-color: var(--accent-color);
  color: white;
}
.modal-footer .cancel {
  background-color: white;
  color: var(--accent-color);
}
.avatar-upload {
  display: flex;
  align-items: center;
  gap: 15px;
}
.avatar-upload img {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
  background-color: #eee;
}
.avatar-upload button {
  padding: 8px 12px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 5px;
  cursor: pointer;
}
#open-persona-library-btn {
  font-size: 14px;
  padding: 6px 10px;
  margin-left: 0;
}
.avatar-upload input[type="file"] {
  display: none;
}
.theme-selector label {
  display: inline-flex;
  align-items: center;
  margin-right: 15px;
  margin-bottom: 5px;
  cursor: pointer;
}
#reset-theme-btn {
  background: none;
  border: 1px solid #ccc;
  color: #555;
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 5px;
  cursor: pointer;
  margin-left: 10px;
}
#group-members-settings {
  display: flex;
  overflow-x: auto;
  padding-bottom: 10px;
  gap: 15px;
}
.member-editor {
  text-align: center;
  cursor: pointer;
}
.member-editor img {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
  background-color: #eee;
  margin-bottom: 5px;
}
.member-editor .member-name {
  font-size: 12px;
}
#notification-bar {
  position: absolute;
  top: 40px;
  left: 50%;
  width: 90%;
  z-index: 500;
  background-color: rgba(250, 250, 250, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-radius: 16px;
  padding: 10px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  transform: translateX(-50%) translateY(-150%);
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  visibility: hidden;
}
#notification-bar.visible {
  /* å…³é”®ï¼šåœ¨Yè½´å›åˆ°åŸä½çš„åŒæ—¶ï¼Œä¿æŒXè½´çš„å±…ä¸­å˜æ¢ */
  transform: translateX(-50%) translateY(0);
  visibility: visible;
}
#notification-avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  object-fit: cover;
}
#notification-content .name {
  font-weight: 600;
  font-size: 15px;
  color: #000;
}
#notification-content .message {
  font-size: 14px;
  color: #555;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 200px;
}

.message-bubble.is-sticker,
.message-bubble.is-voice-message,
.message-bubble.is-ai-image,
.message-bubble.has-image:has(img:only-child) {
  padding: 0;
  background: transparent;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

#chat-input-actions-top {
  display: flex;
  gap: 8px;
  padding: 0 5px;
}
.chat-action-icon-btn {
  font-size: 24px;
  padding: 0;
  width: 38px;
  height: 38px;
  line-height: 38px;
  text-align: center;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.5);
  color: var(--text-primary);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(0, 0, 0, 0.05);
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
}
#sticker-panel {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 50%;
  background-color: rgba(242, 242, 247, 0.85);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-top: 1px solid var(--border-color);
  border-radius: 20px 20px 0 0;
  z-index: 200;
  display: flex;
  flex-direction: column;
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  visibility: hidden;
}
#sticker-panel.visible {
  transform: translateY(0);
  visibility: visible;
}
#sticker-panel-header {
  padding: 10px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-shrink: 0;
  border-bottom: 1px solid var(--border-color);
}
#sticker-panel-header .title {
  font-weight: 600;
}
#sticker-panel-header .panel-btn {
  font-size: 16px;
  padding: 5px 10px;
  cursor: pointer;
  color: var(--accent-color);
}
#sticker-grid,
#exclusive-sticker-grid,
#common-sticker-grid {
  flex-grow: 1;
  overflow-y: auto;
  padding: 15px;
  display: grid;
  /* æ ¸å¿ƒä¿®æ”¹ï¼šå°† 80px å¢å¤§åˆ° 100pxï¼Œè®©æ¯ä¸ªè¡¨æƒ…æ ¼å­å˜å¤§ */
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 15px;
}
.sticker-item .delete-btn {
  display: none;
  position: absolute;
  top: -5px;
  right: -5px;
  width: 20px;
  height: 20px;
  background-color: #ff3b30;
  color: white;
  border-radius: 50%;
  text-align: center;
  line-height: 20px;
  font-size: 14px;
  cursor: pointer;
  border: 2px solid white;
}
#input-actions-wrapper {
  position: static;
  display: flex;
  align-items: flex-end;
  gap: 8px;
  flex-shrink: 0;
}
#wait-reply-btn {
  position: static;
  bottom: auto;
  right: auto;
  width: auto;
  height: 40px;
  padding: 0 10px;
  border-radius: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition:
    opacity 0.2s,
    transform 0.1s;
  cursor: pointer;
}
#wait-reply-btn:hover {
  opacity: 0.8;
}
#wait-reply-btn:active {
  transform: scale(0.9);
}
#wait-reply-btn img {
  height: 22px;
  display: block;
  margin: auto;
}
.chat-image {
  max-width: 100%;
  border-radius: 10px;
  display: block;
}
.message-bubble.has-image .content {
  padding: 5px;
}
#custom-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
}
#custom-modal-overlay.visible {
  display: flex;
  opacity: 1;
}
#custom-modal {
  background-color: #fff;
  width: 280px;
  border-radius: 14px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  transform: scale(0.95);
  transition: transform 0.2s ease-in-out;
}
#custom-modal-overlay.visible #custom-modal {
  transform: scale(1);
}
.custom-modal-header {
  padding: 16px;
  font-size: 17px;
  font-weight: 600;
  text-align: center;
}
.custom-modal-body {
  padding: 0 16px 16px;
  text-align: center;
  font-size: 14px;
  color: #333;
  line-height: 1.5;
}
.custom-modal-body p {
  margin: 0;
  margin-bottom: 12px;
}
.custom-modal-body input {
  width: 100%;
  padding: 8px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-size: 14px;
  box-sizing: border-box;
}
.custom-modal-footer {
  border-top: 1px solid #dbdbdb;
  display: flex;
}
.custom-modal-footer button {
  flex: 1;
  background: none;
  border: none;
  padding: 12px;
  font-size: 17px;
  cursor: pointer;
  color: var(--accent-color);
}
.custom-modal-footer button:first-child {
  border-right: 1px solid #dbdbdb;
}
.custom-modal-footer .confirm-btn {
  font-weight: 600;
}
.custom-modal-footer .confirm-btn.btn-danger {
  color: #ff3b30;
}
#preset-actions-modal .custom-modal-footer {
  flex-direction: column;
}
#preset-actions-modal .custom-modal-footer button {
  width: 100%;
  border: none;
  border-bottom: 1px solid #dbdbdb;
  padding: 14px;
  font-size: 18px;
}
#preset-actions-modal .custom-modal-footer button:last-child {
  border-bottom: none;
}
.custom-multiselect {
  position: relative;
  user-select: none;
}
.select-box {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  font-size: 16px;
  box-sizing: border-box;
  background-color: #fff;
  cursor: pointer;
}
.select-box .selected-options-text {
  flex-grow: 1;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: var(--text-primary);
}
.select-box .arrow-down {
  margin-left: auto;
  font-size: 10px;
  color: var(--text-secondary);
  transition: transform 0.2s;
}
.select-box.expanded .arrow-down {
  transform: rotate(180deg);
}

.checkboxes-container {
  display: none;
  position: absolute;
  top: 100%;
  margin-top: 5px;
  left: 0;
  right: 0;
  max-height: 400px; /* â˜…â˜…â˜… ä¿®æ”¹ç‚¹åœ¨è¿™é‡Œ â˜…â˜…â˜… æˆ‘æŠŠé«˜åº¦ä» 150px å¢åŠ åˆ°äº† 350px */
  overflow-y: auto;
  overflow-x: hidden;
  background-color: #fff;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  z-index: 101;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
.checkboxes-container.visible {
  display: block;
}
.checkboxes-container label {
  display: block;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: normal;
  color: var(--text-primary);
}

.checkboxes-container label {
  display: block;
  padding: 12px 15px; /* <-- ä¿®æ”¹ï¼šå¢åŠ äº†ä¸Šä¸‹å’Œå·¦å³çš„å†…è¾¹è·ï¼Œè®©æ¯ä¸€è¡Œæ›´é«˜æ›´å®½ */
  cursor: pointer;
  font-weight: normal;
  color: var(--text-primary);
  font-size: 15px; /* <-- æ–°å¢ï¼šå°†å­—ä½“å¤§å°ä»é»˜è®¤å€¼æ”¾å¤§åˆ°15px */
}

.checkboxes-container input {
  margin-right: 10px;
  vertical-align: middle;
}
.bg-upload-container {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 8px;
  flex-wrap: wrap;
}
.bg-preview-img {
  max-width: 120px;
  max-height: 80px;
  border-radius: 8px;
  border: 1px solid var(--border-color);
  object-fit: cover;
  display: none;
}
#remove-bg-btn {
  padding: 8px 12px;
  border: 1px solid #ff3b30;
  color: #ff3b30;
  background-color: #fff;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
  display: none;
}
.message-bubble.is-ai-image .content {
  padding: 5px;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}
.ai-generated-image {
  max-width: 180px;
  border-radius: 12px;
  display: block;
  cursor: pointer;
  transition:
    transform 0.2s,
    box-shadow 0.2s;
}
.ai-generated-image:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}
.voice-message-body {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: 8px 12px;
  min-width: 80px;
  max-width: 200px;
}
.message-bubble.user .voice-message-body {
  color: #1a3d00;
  flex-direction: row-reverse;
}
.message-bubble.ai .voice-message-body {
  color: var(--text-primary);
}
.voice-waveform {
  display: flex;
  align-items: center;
  height: 20px;
  gap: 2px;
  flex-grow: 1;
  margin: 0 10px;
}
.voice-waveform div {
  width: 3px;
  background-color: currentColor;
  border-radius: 2px;
  animation: wave-quiet 1.5s ease-in-out infinite;
}
@keyframes wave-quiet {
  0%,
  100% {
    height: 2px;
  }
  50% {
    height: 10px;
  }
}
.voice-waveform div:nth-child(2) {
  animation-delay: 0.2s;
}
.voice-waveform div:nth-child(3) {
  animation-delay: 0.4s;
}
.voice-waveform div:nth-child(4) {
  animation-delay: 0.6s;
}
.voice-waveform div:nth-child(5) {
  animation-delay: 0.8s;
}
.voice-duration {
  /* --- æ ¸å¿ƒä¿®æ­£ --- */
  font-size: var(--chat-font-size, 13px);
  /* --- ä¿®æ­£ç»“æŸ --- */
  font-weight: 500;
  color: var(--text-secondary);
}
.message-bubble.user .voice-duration {
  color: #3e6224;
}

/* â–¼â–¼â–¼ ç”¨è¿™å—ä»£ç æ›¿æ¢æ‰ä½ åŸæ¥çš„ .message-bubble .content æ ·å¼ â–¼â–¼â–¼ */
/* é€šç”¨å†…å®¹åŒºæ ·å¼ï¼Œä¸ºæ—¶é—´æˆ³å’Œå­—ä½“å¤§å°åšå‡†å¤‡ */
.message-bubble .content {
  position: relative;
  font-size: var(--chat-font-size, 16px);
  padding: 8px 12px;
  line-height: 1.5;
  word-break: break-word; /* æ ¸å¿ƒä¿®æ­£: å¼ºåˆ¶é•¿å•è¯æˆ–URLæ¢è¡Œï¼Œé˜²æ­¢æ’‘ç ´æ°”æ³¡ */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* === æ°”æ³¡ä¸»é¢˜æ ·å¼ === */
.message-bubble.user .content {
  background-color: rgba(255, 255, 255, 0.75);
  color: #585858;
  border-radius: 8px 2px 8px 8px;
}
.message-bubble.ai .content {
  background-color: rgba(255, 255, 255, 0.7);
  color: #585858;
  border-radius: 2px 8px 8px 8px;
}

.message-bubble::after {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  background-size: contain;
  background-repeat: no-repeat;
  opacity: 1;
  z-index: 1;
}

#chat-messages[data-theme="pink_blue"] .message-bubble.user .content {
  background-color: #fff0f6;
  color: #432531;
}
#chat-messages[data-theme="pink_blue"] .message-bubble.ai .content {
  background-color: #eff7ff;
  color: #263a4e;
}
#chat-messages[data-theme="blue_white"] .message-bubble.user .content {
  background-color: #eff7ff;
  color: #263a4e;
}
#chat-messages[data-theme="blue_white"] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #383d41;
}
#chat-messages[data-theme="purple_yellow"] .message-bubble.user .content {
  background-color: #faf7ff;
  color: #827693;
}
#chat-messages[data-theme="purple_yellow"] .message-bubble.ai .content {
  background-color: #fffde4;
  color: #5c4033;
}
#chat-messages[data-theme="black_white"] .message-bubble.user .content {
  background-color: #343a40;
  color: #f8f9fa;
}
#chat-messages[data-theme="black_white"] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #343a40;
}
#chat-messages[data-theme="yellow_white"] .message-bubble.user .content {
  background-color: #ffeb3b;
  color: #5d4037;
}
#chat-messages[data-theme="yellow_white"] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #383d41;
}
#chat-messages[data-theme="red_black"] .message-bubble.user .content {
  background-color: #c62828;
  color: #ffffff;
}
#chat-messages[data-theme="red_black"] .message-bubble.ai .content {
  background-color: #212121;
  color: #ffffff;
}
#chat-messages[data-theme="blue_yellow"] .message-bubble.user .content {
  background-color: #a0d2eb;
  color: #153243;
}
#chat-messages[data-theme="blue_yellow"] .message-bubble.ai .content {
  background-color: #fef9e7;
  color: #5d4037;
}
#chat-messages[data-theme="pink_yellow"] .message-bubble.user .content {
  background-color: #fff0f6;
  color: #432531;
}
#chat-messages[data-theme="pink_yellow"] .message-bubble.ai .content {
  background-color: #fef9e7;
  color: #5d4037;
}
#chat-messages[data-theme="pink_purple"] .message-bubble.user .content {
  background-color: #fff0f6;
  color: #a78396;
}
#chat-messages[data-theme="pink_purple"] .message-bubble.ai .content {
  background-color: #faf7ff;
  color: #827693;
}
#chat-messages[data-theme="gray_white"] .message-bubble.user .content {
  background-color: #e9ecef;
  color: #495057;
}
#chat-messages[data-theme="gray_white"] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #383d41;
}
#chat-messages[data-theme="blue_green"] .message-bubble.user .content {
  background-color: #d1ecf1;
  color: #0c5460;
}
#chat-messages[data-theme="blue_green"] .message-bubble.ai .content {
  background-color: #d4edda;
  color: #155724;
}
#chat-messages[data-theme="pink_white"] .message-bubble.user .content {
  background-color: #fff0f6;
  color: #a78396;
}
#chat-messages[data-theme="pink_white"] .message-bubble.ai .content {
  background-color: #f8f9fa;
  color: #383d41;
}
#chat-messages[data-theme="pink_black"] .message-bubble.user .content {
  background-color: #f8bbd0;
  color: #5b2c6f;
}
#chat-messages[data-theme="pink_black"] .message-bubble.ai .content {
  background-color: #343a40;
  color: #f8f9fa;
}
#chat-messages[data-theme="pink_green"] .message-bubble.user .content {
  background-color: #f8bbd0;
  color: #5b2c6f;
}
#chat-messages[data-theme="pink_green"] .message-bubble.ai .content {
  background-color: #c8e6c9;
  color: #1b5e20;
}
#chat-messages[data-theme="green_black"] .message-bubble.user .content {
  background-color: #d4edda;
  color: #155724;
}
#chat-messages[data-theme="green_black"] .message-bubble.ai .content {
  background-color: #343a40;
  color: #f8f9fa;
}

#transfer-btn {
  font-weight: bold;
}
#transfer-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1001;
}
#transfer-modal.visible {
  display: flex;
}
.transfer-content {
  background-color: #fff0f5;
  border-radius: 20px;
  width: 290px;
  padding: 20px;
  box-shadow: 0 5px 25px rgba(255, 105, 180, 0.3);
  text-align: center;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100" opacity="0.05"><path d="M50,4 C35,4 28,15 28,24 C28,33 35,32 35,40 C35,48 28,49 28,57 C28,65 35,66 35,74 C35,82 28,83 28,91 C28,99 35,100 50,100 C65,100 72,99 72,91 C72,83 65,82 65,74 C65,66 72,65 72,57 C72,49 65,48 65,40 C65,32 72,33 72,24 C72,15 65,4 50,4 Z" fill="%23FF69B4"/></svg>');
  background-repeat: no-repeat;
  background-position: top right;
  background-size: 80px;
}
.transfer-header {
  font-size: 20px;
  font-weight: bold;
  color: #a35c7b;
  margin-bottom: 20px;
}
.transfer-input-group {
  margin-bottom: 15px;
  text-align: left;
}
.transfer-input-group label {
  display: block;
  font-size: 14px;
  color: #ff85b3;
  margin-bottom: 5px;
  font-weight: 500;
}
.transfer-input-group input {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  border: 2px solid #ffcce0;
  background-color: #fff;
  font-size: 16px;
  box-sizing: border-box;
}
.transfer-input-group input:focus {
  border-color: #ff85b3;
  outline: none;
}
.transfer-actions {
  display: flex;
  justify-content: space-between;
  gap: 10px;
}
.transfer-actions button {
  flex: 1;
  padding: 12px;
  border: none;
  border-radius: 10px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  transition: transform 0.2s;
}
.transfer-actions button:active {
  transform: scale(0.95);
}
#transfer-cancel-btn {
  background-color: #ffdde9;
  color: #a35c7b;
}
#transfer-confirm-btn {
  background-color: #ff85b3;
  color: white;
}
.message-bubble.is-transfer .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  cursor: pointer;
}
.transfer-card {
  width: 200px;
  border-radius: 12px;
  padding: 12px;
  color: white;
  position: relative;
  overflow: hidden;
}
.transfer-card::before {
  content: "ğŸ¾";
  position: absolute;
  right: 10px;
  top: 5px;
  font-size: 30px;
  opacity: 0.2;
  transform: rotate(15deg);
}
.message-bubble.user .transfer-card {
  background: radial-gradient(circle at top left, #ffc5d5, #ff85b3);
}
.message-bubble.ai .transfer-card {
  background: radial-gradient(circle at top left, #a1c4fd, #c2e9fb);
}
.transfer-title {
  font-size: 16px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 8px;
}
.transfer-amount {
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 4px;
}
.transfer-note {
  font-size: 13px;
  opacity: 0.9;
  border-top: 1px solid rgba(255, 255, 255, 0.3);
  padding-top: 8px;
  margin-top: 8px;
  word-break: break-all;
}

/* RealImagçœŸå®å›¾ç‰‡æ ·å¼ */
.realimag-image {
  max-width: 250px;
  max-height: 250px;
  width: auto;
  height: auto;
  display: block;
  border-radius: 10px;
  object-fit: cover;
  background-color: #f8f8f8;
  min-width: 100px;
  min-height: 100px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease;
}

.realimag-image:hover {
  transform: scale(1.02);
}

.message-bubble.is-realimag .content {
  padding: 5px;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
#listen-together-btn img.rotating {
  animation: spin 2s linear infinite;
}
#listen-together-btn img.paused {
  animation-play-state: paused;
}
#music-player-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 50;
  display: none;
  justify-content: center;
  align-items: center;
  background-color: rgba(0, 0, 0, 0.3);
}
#music-player-overlay.visible {
  display: flex;
}
.music-player-window {
  width: 90%;
  background-color: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 20px;
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  border: 1px solid rgba(255, 255, 255, 0.18);
  padding: 25px;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: #1f1f1f;
  position: relative;
}
#music-playlist-btn {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 24px;
  cursor: pointer;
  color: #333;
}
#music-time-counter {
  font-size: 12px;
  color: #555;
  margin-bottom: 20px;
}
#music-player-song-title {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 5px;
  text-align: center;
}
#music-player-artist {
  font-size: 14px;
  color: #666;
  margin-bottom: 25px;
}
.music-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  width: 100%;
  margin-bottom: 30px;
}
.music-controls button {
  background: none;
  border: none;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  color: #333;
  width: 44px;
  height: 44px;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: transform 0.2s;
}
.music-controls button:active {
  transform: scale(0.9);
}
.music-controls .play-pause-btn {
  font-size: 24px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.05);
}
.music-bottom-actions {
  display: flex;
  justify-content: space-between;
  width: 100%;
}
.music-bottom-actions button {
  flex: 1;
  padding: 12px 0;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
}
#music-exit-btn {
  background-color: rgba(255, 100, 100, 0.7);
  color: white;
  margin-right: 5px;
}
#music-return-btn {
  background-color: rgba(0, 123, 255, 0.7);
  color: white;
  margin-left: 5px;
}

#music-playlist-panel {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 70%;
  background-color: rgba(242, 242, 247, 0.9);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-top: 1px solid var(--border-color);
  border-radius: 20px 20px 0 0;
  z-index: 210;
  display: flex;
  flex-direction: column;
  transform: translateY(100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  visibility: hidden;
}
#music-playlist-panel.visible {
  transform: translateY(0);
  visibility: visible;
}
.playlist-header {
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-shrink: 0;
  border-bottom: 1px solid var(--border-color);
  font-weight: 600;
}
.playlist-header .panel-btn {
  font-size: 16px;
  cursor: pointer;
  color: var(--accent-color);
}
.playlist-body {
  flex-grow: 1;
  overflow-y: auto;
  padding: 10px 0;
}
.playlist-item {
  padding: 10px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  border-bottom: 1px solid #eee;
}
.playlist-item.playing {
  background-color: rgba(0, 123, 255, 0.1);
}
.playlist-item-info .title {
  font-weight: 500;
  font-size: 15px;
}
.playlist-item-info .artist {
  font-size: 12px;
  color: #666;
}
.playlist-item .delete-track-btn {
  color: #ff3b30;
  font-size: 20px;
  padding: 5px;
}

/* Persona Library Styles */
#persona-library-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 15px;
  padding: 10px;
}
.persona-preset-item {
  aspect-ratio: 1 / 1;
  border-radius: 12px;
  background-size: cover;
  background-position: center;
  cursor: pointer;
  transition:
    transform 0.2s,
    box-shadow 0.2s;
  border: 1px solid rgba(0, 0, 0, 0.1);
}
.persona-preset-item:hover {
  transform: scale(1.08);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
.modal-header .action-button {
  font-size: 16px;
  color: var(--accent-color);
  font-weight: 600;
  cursor: pointer;
  background: none;
  border: none;
  padding: 5px;
}

/* Battery Alert Modal Styles */
#battery-alert-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  opacity: 0;
  transition: opacity 0.3s ease;
}
#battery-alert-modal.visible {
  display: flex;
  opacity: 1;
}
.battery-alert-content {
  background-color: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  width: 280px;
  border-radius: 15px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
  text-align: center;
  padding: 20px;
  cursor: pointer;
  transform: scale(0.9);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}
#battery-alert-modal.visible .battery-alert-content {
  transform: scale(1);
}
#battery-alert-image {
  max-width: 100px;
  max-height: 100px;
  margin-bottom: 15px;
}
#battery-alert-text {
  font-size: 16px;
  font-weight: 500;
  color: #333;
  margin: 0;
  line-height: 1.4;
}

/* è¿™æ˜¯ä½ è¦æ·»åŠ çš„æ–°æ ·å¼ */
#font-preview {
  transition: font-family 0.3s ease;
}

/* === èŠå¤©åˆ—è¡¨ç•Œé¢æ–°å¢æ ·å¼ (è¿™æ˜¯æ–°æ·»åŠ çš„) === */
#chat-list-screen {
}

.chat-list-view {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  opacity: 0;
  visibility: hidden;
  transition:
    opacity 0.2s,
    visibility 0.2s;
  z-index: 1;
}
.chat-list-view.active {
  opacity: 1;
  visibility: visible;
  z-index: 2;
}

#messages-view {
  overflow-y: auto;
}

/* åº•éƒ¨å¯¼èˆªæ æ ·å¼ */
#chat-list-bottom-nav {
  position: absolute; /* è®©å®ƒå›ºå®šåœ¨åº•éƒ¨ */
  bottom: 0;
  left: 0;
  width: 100%;
  z-index: 15; /* ç¡®ä¿å®ƒåœ¨è§†å›¾ä¹‹ä¸Š */
  display: flex;
  border-top: 1px solid var(--border-color);
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.nav-item {
  flex: 1;
  text-align: center;
  padding: 13px 0;
  font-size: 14px;
  color: var(--text-secondary);
  cursor: pointer;
  transition: color 0.2s;
}

.nav-item.active {
  color: var(--accent-color);
  font-weight: 600;
}

/* === åŠ¨æ€ç•Œé¢ (QZone) æ ·å¼ (è¿™æ˜¯æ–°æ·»åŠ çš„) === */
#qzone-screen {
  background-color: #f0f2f5;
}

.qzone-header {
  /* position: absolute;  <-- æŠŠè¿™ä¸ªæ”¹æˆ relative */
  position: relative;
  z-index: 10; /* z-index ä¿æŒï¼Œæˆ–è€…å¯ä»¥æ›´é«˜ */
  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
  padding: 15px 20px;
  padding-top: 45px;
  background-color: rgba(247, 247, 247, 0.7);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 18px;
  font-weight: 600;
  text-align: center;
}

.qzone-header .back-btn {
  font-size: 24px;
  cursor: pointer;
  color: var(--accent-color);
}

.qzone-header span:nth-child(2) {
  /* "å¥½å‹åŠ¨æ€"æ–‡å­— */
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}

.qzone-content {
  flex-grow: 1;
  overflow-y: auto;
  /* padding-top: 80px;  <-- åˆ é™¤è¿™ä¸ªï¼Œå› ä¸ºheaderä¸å†æ˜¯absoluteäº† */
}

.qzone-profile-header {
  position: relative;
  margin-bottom: 20px;
}

.qzone-banner-container {
  width: 100%;
  height: 180px; /* èƒŒæ™¯æ¿é«˜åº¦ */
  position: relative;
}

#qzone-banner-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.qzone-user-info {
  position: absolute;
  bottom: -30px; /* è®©å¤´åƒå’Œæ˜µç§°åŒºåŸŸå‘ä¸‹åç§»ï¼Œä¸€åŠåœ¨èƒŒæ™¯æ¿å†…ï¼Œä¸€åŠåœ¨å¤– */
  left: 20px;
  display: flex;
  align-items: flex-end; /* è®©æ˜µç§°å’Œå¤´åƒåº•éƒ¨å¯¹é½ */
  gap: 10px;
}

.qzone-avatar-container {
  position: relative;
}

#qzone-avatar-img {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  border: 3px solid white;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  object-fit: cover;
}

#qzone-nickname {
  font-size: 18px;
  font-weight: 600;
  color: #fff;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
  padding-bottom: 5px; /* å¾®è°ƒä½ç½® */
}

/* === è®©ç¼–è¾‘åŠŸèƒ½æ›´â€œéšå½¢â€ === */
#qzone-banner-container,
#qzone-avatar-container,
#qzone-nickname {
  cursor: pointer; /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºä¸ºå¯ç‚¹å‡»æ‰‹åŠ¿ */
  transition: opacity 0.2s;
}
#qzone-banner-container:hover,
#qzone-avatar-container:hover,
#qzone-nickname:hover {
  opacity: 0.85; /* æ‚¬åœæ—¶ç¨å¾®å˜æš—ï¼Œç»™ç”¨æˆ·åé¦ˆ */
}
/* éšè—æ‰æ—§çš„ã€ç‹¬ç«‹çš„ç¼–è¾‘æŒ‰é’® */
/* === æ§åˆ¶ Header å’Œ Bottom Nav çš„æ˜¾éš === */
/* é»˜è®¤éšè—åŠ¨æ€ç•Œé¢çš„ Header */
#qzone-screen .qzone-header {
  display: none;
}
/* å½“åŠ¨æ€è§†å›¾æ¿€æ´»æ—¶ï¼Œæ˜¾ç¤ºå®ƒçš„Header */
#qzone-screen.active .qzone-header {
  display: flex;
}

.chat-group-container:first-child {
  margin-top: 10px;
}

/* â–²â–²â–² æ–°æ ·å¼æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æŠŠæ‰€æœ‰è¿™äº›æ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === åŠ¨æ€åŠŸèƒ½æ æ ·å¼ === */
.qzone-actions-bar {
  display: flex;
  justify-content: space-around;
  padding: 10px 0;
  margin: 40px 15px 15px 15px; /* ä¸Šè¾¹è·æ›´å¤§ï¼Œä¸ºæµ®åŠ¨çš„å¤´åƒç•™å‡ºç©ºé—´ */
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.action-item {
  flex: 1;
  text-align: center;
  font-size: 15px;
  font-weight: 500;
  color: var(--text-primary);
  cursor: pointer;
  padding: 8px 0;
  position: relative;
}

/* ç”¨ä¼ªå…ƒç´ åˆ›å»ºåˆ†éš”çº¿ */
.action-item:not(:last-child)::after {
  content: "";
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 1px;
  height: 20px;
  background-color: var(--border-color);
}

/* === åŠ¨æ€å¸–å­åˆ—è¡¨æ ·å¼ === */
#qzone-posts-list {
  padding: 0 15px 20px 15px; /* å·¦å³å’Œåº•éƒ¨ç•™å‡ºè¾¹è· */
  display: flex;
  flex-direction: column;
  gap: 20px; /* å¸–å­ä¹‹é—´çš„é—´è· */
}

.qzone-post-item {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
}

.post-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.post-header .post-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
}

.post-info {
  display: flex;
  flex-direction: column;
}

.post-info .post-nickname {
  font-weight: 600;
  font-size: 15px;
  color: var(--text-primary);
}

.post-info .post-timestamp {
  font-size: 12px;
  color: var(--text-secondary);
}

.post-content {
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  white-space: pre-wrap; /* è®©æ¢è¡Œç¬¦ç”Ÿæ•ˆ */
  word-break: break-word; /* é˜²æ­¢é•¿å•è¯æº¢å‡º */
}

/* â–²â–²â–² æ–°æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æ–°æ ·å¼ç²˜è´´åˆ°æœ«å°¾ â–¼â–¼â–¼ */

/* === å‘å¸ƒåŠ¨æ€æ¨¡æ€æ¡†æ ·å¼ === */
#post-public-text {
  min-height: 80px; /* ç¡®ä¿æ–‡æœ¬åŸŸæœ‰è¶³å¤Ÿçš„é«˜åº¦ */
  resize: vertical;
}

.post-image-preview-container {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9; /* ä¿æŒ16:9çš„é¢„è§ˆæ¯”ä¾‹ */
  background-color: #f0f2f5;
  border: 2px dashed var(--border-color);
  border-radius: 8px;
  margin-bottom: 15px;
  display: none; /* é»˜è®¤éšè— */
  justify-content: center;
  align-items: center;
}
.post-image-preview-container.visible {
  display: flex; /* ä¸Šä¼ åæ˜¾ç¤º */
}

#post-image-preview {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 6px;
}

#post-remove-image-btn {
  position: absolute;
  top: -10px;
  right: -10px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background-color: #ff3b30;
  color: white;
  border: 2px solid white;
  font-size: 16px;
  line-height: 20px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
}

.post-image-upload-options {
  display: flex;
  gap: 10px;
}

.post-image-upload-options button {
  flex: 1;
  margin-top: 0;
}

/* â–²â–²â–² æ–°æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æ–°æ ·å¼ â–¼â–¼â–¼ */

/* === å‘å¸ƒåŠ¨æ€æ¨¡æ€æ¡† - æ¨¡å¼åˆ‡æ¢æ ·å¼ === */
.post-mode-switcher {
  display: flex;
  margin-bottom: 20px;
  background-color: #e9ecef;
  border-radius: 8px;
  padding: 4px;
}

.mode-btn {
  flex: 1;
  padding: 8px;
  border: none;
  background-color: transparent;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  color: var(--text-secondary);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

.mode-btn.active {
  background-color: var(--secondary-bg);
  color: var(--text-primary);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.post-mode-content {
  display: none; /* é»˜è®¤éƒ½éšè— */
}

.post-mode-content.active {
  display: block; /* æ¿€æ´»çš„æ‰æ˜¾ç¤º */
}

/* â–²â–²â–² æ–°æ ·å¼ç»“æŸ â–²â–²â–² */

/* === ç›¸å†Œé¡µé¢èƒŒæ™¯è‰² === */
#album-screen {
  background-color: #f0f2f5; /* ä½¿ç”¨ä¸€ä¸ªæŸ”å’Œçš„æµ…ç°è‰²ï¼Œæ¯”çº¯ç™½æ›´æŠ¤çœ¼ */
}

/* === ç›¸å†Œé¡µé¢ç½‘æ ¼å¸ƒå±€ === */
#album-grid-page {
  padding: 15px;
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* æ¯è¡Œæ˜¾ç¤º2ä¸ªç›¸å†Œ */
  gap: 15px;
}

/* === ç›¸å†Œé¡¹ç›®æ ·å¼ (ç¾åŒ–) === */
.album-item {
  display: flex;
  flex-direction: column;
  cursor: pointer;
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
  border-radius: 8px; /* ç»™æ•´ä¸ªé¡¹ç›®ä¹ŸåŠ ä¸ªåœ†è§’ */
}

.album-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
}

.album-cover {
  aspect-ratio: 1 / 1; /* ä¿æŒå°é¢ä¸ºæ­£æ–¹å½¢ */
  background-size: cover;
  background-position: center;
  border-radius: 8px;
  margin-bottom: 8px;
  background-color: #f0f2f5; /* å°é¢åŠ è½½å‰çš„å ä½é¢œè‰² */
}

.album-info {
  text-align: center;
}

.album-name {
  font-weight: 500;
  margin: 0 0 4px 0;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis; /* é˜²æ­¢é•¿åå­—æ¢è¡Œ */
}

.album-count {
  font-size: 12px;
  color: var(--text-secondary);
  margin: 0;
}

/* â–²â–²â–² æ–°çš„ CSS ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™äº›æ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ç›¸å†Œç…§ç‰‡è¯¦æƒ…é¡µ === */
#album-photos-screen {
  background-color: #f0f2f5;
}

#photos-grid-page {
  padding: 15px;
  display: grid;
  /* æ¯è¡Œæ˜¾ç¤º3å¼ ç…§ç‰‡ï¼Œå¹¶ä¿æŒé—´è· */
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}

.photo-item {
  position: relative; /* ä¸ºäº†å®šä½åˆ é™¤æŒ‰é’® */
  aspect-ratio: 1 / 1; /* ä¿æŒç…§ç‰‡ä¸ºæ­£æ–¹å½¢ */
  border-radius: 6px;
  overflow: hidden; /* é˜²æ­¢å›¾ç‰‡æº¢å‡ºåœ†è§’ */
  background-color: #e9ecef; /* å›¾ç‰‡åŠ è½½å‰çš„å ä½ç¬¦é¢œè‰² */
}

.photo-item .photo-thumb {
  width: 100%;
  height: 100%;
  object-fit: cover; /* ä¿è¯å›¾ç‰‡å¡«æ»¡å®¹å™¨ä¸”ä¸å˜å½¢ */
  cursor: pointer;
}

/* åˆ é™¤æŒ‰é’®çš„æ ·å¼ */
.photo-item .photo-delete-btn {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 22px;
  height: 22px;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 16px;
  line-height: 22px;
  text-align: center;
  cursor: pointer;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: opacity 0.2s ease;
}

/* é¼ æ ‡æ‚¬åœåœ¨ç…§ç‰‡ä¸Šæ—¶æ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.photo-item:hover .photo-delete-btn {
  opacity: 1;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* === å›¾ç‰‡æŸ¥çœ‹å™¨æ¨¡æ€æ¡†æ ·å¼ === */
#photo-viewer-modal {
  background-color: rgba(0, 0, 0, 0.85);
  z-index: 1002;
  -webkit-backdrop-filter: blur(5px);
  backdrop-filter: blur(5px);
}

.photo-viewer-content {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}

#photo-viewer-image {
  max-width: 90vw; /* å›¾ç‰‡æœ€å¤§å®½åº¦ä¸ºè§†å£çš„90% */
  max-height: 85vh; /* å›¾ç‰‡æœ€å¤§é«˜åº¦ä¸ºè§†å£çš„85% */
  object-fit: contain;
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  /* ä¸ºå›¾ç‰‡çš„åˆ‡æ¢æ·»åŠ ä¸€ç‚¹å¹³æ»‘çš„æ·¡å…¥æ·¡å‡ºæ•ˆæœ */
  transition: opacity 0.2s ease-in-out;
}

/* å…³é—­æŒ‰é’® */
#photo-viewer-close-btn {
  position: absolute;
  top: 20px;
  right: 20px;
  background: none;
  border: none;
  color: white;
  font-size: 40px;
  font-weight: 200;
  cursor: pointer;
  line-height: 1;
  text-shadow: 0 0 5px black;
}

/* å·¦å³å¯¼èˆªç®­å¤´ */
#photo-viewer-modal .nav-arrow {
  position: absolute; /* ç°åœ¨æˆ‘ä»¬ç”¨ç»å¯¹å®šä½æ¥æ§åˆ¶ç®­å¤´ */
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.7);
  font-size: 50px; /* åœ¨æ‰‹æœºå±å¹•ä¸Šï¼Œå¯ä»¥ç¨å¾®å°ä¸€ç‚¹ */
  font-weight: 100;
  cursor: pointer;
  padding: 10px; /* è°ƒæ•´å†…è¾¹è· */
  user-select: none;
  transition: color 0.2s;
  z-index: 1003; /* ç¡®ä¿ç®­å¤´åœ¨æœ€ä¸Šå±‚ */
}

#photo-viewer-prev-btn {
  left: 5px; /* å®šä½å·¦ç®­å¤´ */
}

#photo-viewer-next-btn {
  right: 5px; /* å®šä½å³ç®­å¤´ */
}

#photo-viewer-modal .nav-arrow:hover {
  color: white;
}

/* å½“ç®­å¤´è¢«ç¦ç”¨æ—¶ï¼ˆæ¯”å¦‚ç¬¬ä¸€å¼ æˆ–æœ€åä¸€å¼ ï¼‰ */
#photo-viewer-modal .nav-arrow:disabled {
  color: rgba(255, 255, 255, 0.2);
  cursor: default;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™äº›æ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ è¯·ç”¨è¿™å—æ–°CSSæ›¿æ¢æ‰ä¸Šä¸€ç‰ˆçš„äº¤äº’åŒºCSS â–¼â–¼â–¼ */

/* === å¸–å­å†…å®¹åŒº - ç›¸å¯¹å®šä½å®¹å™¨ === */
/* === å¸–å­å†…å®¹åŒº === */
.post-main-content {
  /* å®ƒç°åœ¨åªæ˜¯ä¸€ä¸ªæ™®é€šçš„å†…å®¹å®¹å™¨ï¼Œä¸å†éœ€è¦ç‰¹æ®Šæ ·å¼äº† */
}

/* === å¸–å­äº’åŠ¨å›¾æ ‡åŒº (æ–°æ ·å¼) === */
.post-feedback-icons {
  display: flex;
  justify-content: flex-end; /* è®©å›¾æ ‡é å³å¯¹é½ */
  align-items: center;
  gap: 12px;
  padding: 8px 0; /* æ ¸å¿ƒä¿®æ”¹ï¼šç»™å›¾æ ‡åŒºåŸŸä¸Šä¸‹å„8pxçš„ç•™ç™½ */
}

.action-icon {
  cursor: pointer;
  color: var(--text-secondary); /* é»˜è®¤ç°è‰² */
  transition: all 0.2s ease-in-out;
}

.action-icon svg {
  width: 22px;
  height: 22px;
  fill: none;
  stroke: currentColor;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* å›¾æ ‡æ¿€æ´»(ç‚¹èµ/æ”¶è—å)çš„æ ·å¼ */
.action-icon.active {
  color: #ff5252; /* æ¿€æ´»åå˜çº¢è‰² */
  transform: scale(1.1); /* è½»å¾®æ”¾å¤§ */
}

.action-icon.active.favorite {
  color: #ffc107; /* æ”¶è—ç”¨é»„è‰² */
}

.action-icon.active svg {
  fill: currentColor; /* æ¿€æ´»åå¡«å……é¢œè‰² */
}

/* ç‚¹å‡»æ—¶çš„åŠ¨ç”»æ•ˆæœ */
.animate-like {
  animation: like-bounce 0.4s ease-in-out;
}

@keyframes like-bounce {
  0% {
    transform: scale(1);
  }
  25% {
    transform: scale(0.8);
  }
  50% {
    transform: scale(1.2);
  }
  75% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1.1);
  }
}

/* === å¸–å­åº•éƒ¨è¯„è®ºåŒºæ ·å¼ (ç°åœ¨æ˜¯ç‹¬ç«‹éƒ¨åˆ†) === */
.post-footer {
  margin-top: 15px;
  padding-top: 10px;
  border-top: 1px solid #f0f0f0; /* ç”¨ä¸€æ¡æµ…è‰²çº¿åˆ†éš” */
  display: flex;
  align-items: center;
  gap: 8px; /* è°ƒæ•´æ•´ä½“é—´è· */
}

/* è¯„è®ºåŒºå®¹å™¨ */
.comment-section {
  flex-grow: 1; /* å æ®å¤§éƒ¨åˆ†ç©ºé—´ */
  display: flex;
  align-items: center;
  gap: 8px;
}

.comment-section .comment-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

.comment-section .comment-input {
  width: 100%;
  padding: 8px 12px;
  border: none;
  background-color: #f0f2f5;
  border-radius: 14px;
  font-size: 13px;
  outline: none;
}

/* æ–°å¢çš„å‘é€æŒ‰é’®æ ·å¼ */
.comment-send-btn {
  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
  padding: 8px 15px;
  border: none;
  background-color: var(--accent-color);
  color: white;
  border-radius: 14px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === æœªè¯»æ¶ˆæ¯å°çº¢ç‚¹é€šç”¨æ ·å¼ === */
.unread-indicator {
  position: absolute;
  top: -8px;
  right: -15px;
  min-width: 18px;
  height: 18px;
  padding: 0 5px;
  background-color: #ff3b30;
  color: white;
  font-size: 11px;
  font-weight: bold;
  line-height: 18px;
  text-align: center;
  border-radius: 9px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  display: none;
  z-index: 1;
}

/* èŠå¤©ç•Œé¢è¿”å›æŒ‰é’®ä¸Šçš„å°çº¢ç‚¹ (åªæ˜¾ç¤ºç‚¹ï¼Œä¸æ˜¾ç¤ºæ•°å­—) */
.back-btn-indicator {
  top: 0;
  right: -8px; /* æ”¾åˆ°è¿”å›ç®­å¤´å³ä¸Šè§’ */
  width: 10px;
  height: 10px;
  min-width: 10px;
  padding: 0;
  border-radius: 50%;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === è¯„è®ºåˆ—è¡¨å®¹å™¨ === */
.post-comments-container {
  padding: 10px 0; /* ä¸Šä¸‹ç•™ç™½ */
  display: flex;
  flex-direction: column;
  gap: 8px; /* è¯„è®ºä¹‹é—´çš„é—´è· */
  font-size: 13px; /* ç»Ÿä¸€è¯„è®ºåŒºå­—ä½“å¤§å° */
}

/* æ¯ä¸€æ¡è¯„è®º */
.comment-item {
  line-height: 1.5;
}

/* è¯„è®ºè€…çš„åå­—ï¼ŒåŠ ç²—å¹¶ä½¿ç”¨ä¸»é¢˜è‰² */
.comment-item .commenter-name {
  font-weight: 600;
  color: var(--accent-color);
  cursor: pointer;
  margin-right: 5px; /* å’Œè¯„è®ºå†…å®¹ä¹‹é—´ç•™ç‚¹ç©ºéš™ */
}

/* è¯„è®ºå†…å®¹ */
.comment-item .comment-text {
  color: var(--text-primary);
  word-break: break-word;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === å¸–å­ç‚¹èµåŒºåŸŸæ ·å¼ === */
.post-likes-section {
  display: flex;
  align-items: center;
  gap: 6px; /* å›¾æ ‡å’Œæ–‡å­—çš„é—´è· */
  padding: 8px 10px; /* å†…è¾¹è· */
  font-size: 13px;
  color: var(--accent-color); /* ä½¿ç”¨ä¸»é¢˜è“è‰² */
  background-color: #f0f5fa; /* ç»™ä¸€ä¸ªæ·¡æ·¡çš„èƒŒæ™¯è‰² */
  border-top: 1px solid #e9eef3;
  border-bottom: 1px solid #e9eef3;
  margin-top: 5px; /* å’Œä¸Šæ–¹çš„å›¾æ ‡ä¿æŒä¸€ç‚¹è·ç¦» */
}

.post-likes-section .like-icon {
  width: 16px;
  height: 16px;
  fill: currentColor; /* è®©SVGå›¾æ ‡ç»§æ‰¿çˆ¶å…ƒç´ çš„é¢œè‰² */
  flex-shrink: 0; /* é˜²æ­¢å›¾æ ‡è¢«å‹ç¼© */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === @æåŠ å¼¹å‡ºèœå•æ ·å¼ === */
.at-mention-popup {
  position: absolute; /* ç›¸å¯¹äºçˆ¶å…ƒç´ å®šä½ */
  bottom: 100%; /* æ˜¾ç¤ºåœ¨è¾“å…¥æ¡†çš„ä¸Šæ–¹ */
  left: 40px; /* å’Œè¾“å…¥æ¡†å·¦ä¾§å¯¹é½ (è€ƒè™‘äº†å¤´åƒå®½åº¦) */
  width: calc(100% - 40px); /* å®½åº¦å’Œè¾“å…¥æ¡†å·®ä¸å¤š */
  max-height: 120px;
  overflow-y: auto;
  background-color: var(--secondary-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
  z-index: 10;
  display: none; /* é»˜è®¤éšè— */
}

.at-mention-item {
  padding: 8px 12px;
  font-size: 14px;
  cursor: pointer;
  color: var(--text-primary);
  border-bottom: 1px solid #f0f0f0;
}

.at-mention-item:last-child {
  border-bottom: none;
}

.at-mention-item:hover {
  background-color: #f5f5f5;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ è¯·ç”¨ä¸‹é¢è¿™æ®µã€æ–°æ ·å¼ã€‘æ›¿æ¢æ‰ä½ ç°æœ‰çš„ #favorites-list æ ·å¼ â–¼â–¼â–¼ */

/* è®©æ”¶è—è§†å›¾æˆä¸ºä¸€ä¸ªflexå®¹å™¨, ä»ä¸Šåˆ°ä¸‹æ’åˆ— */
#favorites-view {
  display: flex;
  flex-direction: column;
}

/* ç¡®ä¿æ”¶è—é¡µçš„headeré«˜åº¦å›ºå®šï¼Œä¸è¢«å‹ç¼© */
#favorites-view > .header {
  flex-shrink: 0;
}

/* === æ”¶è—åˆ—è¡¨æ ·å¼ (ä¿®æ­£å) === */
#favorites-list {
  flex-grow: 1;
  overflow-y: auto;
  overflow-x: hidden; /* <-- æ–°å¢è¿™è¡Œï¼Œç¦æ­¢æ°´å¹³æ»šåŠ¨ */
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

.favorite-item-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
  position: relative; /* ä¸ºäº†å®šä½åˆ é™¤æŒ‰é’® */
}

/* å¡ç‰‡å¤´éƒ¨ï¼ŒåŒ…å«å¤´åƒã€åå­—å’Œæ¥æº */
.fav-card-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.fav-card-header .avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
}

.fav-card-header .info {
  flex-grow: 1;
}

.fav-card-header .name {
  font-weight: 600;
  font-size: 15px;
}

.fav-card-header .source {
  font-size: 12px;
  color: var(--text-secondary);
}

/* å¡ç‰‡å†…å®¹ */
.fav-card-content {
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  white-space: pre-wrap;
  word-break: break-word;
}

.fav-card-content .chat-image {
  margin-top: 8px; /* å›¾ç‰‡å’Œæ–‡å­—çš„é—´è· */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === æœç´¢æ æ ·å¼ === */
.search-bar-container {
  padding: 10px 15px;
  background-color: #f9f9f9; /* å’Œåˆ—è¡¨èƒŒæ™¯è‰²ä¿æŒä¸€è‡´ */
  position: relative; /* ä¸ºäº†å®šä½æ¸…é™¤æŒ‰é’® */
  flex-shrink: 0;
}

#favorites-search-input {
  width: 100%;
  padding: 10px 30px 10px 15px; /* å³ä¾§ç•™å‡ºæ¸…é™¤æŒ‰é’®çš„ä½ç½® */
  font-size: 14px;
  border: 1px solid var(--border-color);
  border-radius: 18px; /* åœ†è§’çŸ©å½¢ï¼Œæ›´ç°ä»£åŒ– */
  background-color: var(--secondary-bg);
  box-sizing: border-box;
  outline: none;
}
#favorites-search-input:focus {
  border-color: var(--accent-color);
}

.search-clear-btn {
  position: absolute;
  right: 25px;
  top: 50%;
  transform: translateY(-50%);
  background: #ccc;
  color: white;
  border: none;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  line-height: 20px;
  text-align: center;
  font-size: 16px;
  cursor: pointer;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* === èŠå¤©ç•Œé¢å¤šé€‰æ“ä½œæ ä¼˜åŒ– === */
#chat-interface-screen .header .selection-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

#chat-interface-screen .selection-controls .action-btn {
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  padding: 5px;
}

/* === æ”¶è—é¡µé¢å¤šé€‰æ¨¡å¼æ ·å¼ === */
#favorites-view.selection-mode .favorite-item-card {
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
}

/* é€‰æ‹©æ¡†çš„æ ·å¼ */
.favorite-item-card::before {
  content: "";
  position: absolute;
  left: -25px; /* æŠŠå®ƒæ”¾åœ¨å¡ç‰‡å·¦è¾¹å¤–é¢ */
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  border: 2px solid #ccc;
  border-radius: 50%;
  background-color: white;
  transition: all 0.2s ease;
  opacity: 0; /* é»˜è®¤éšè— */
}

/* è¿›å…¥é€‰æ‹©æ¨¡å¼æ—¶ï¼Œå¡ç‰‡å‘å³ç§»åŠ¨ï¼Œéœ²å‡ºé€‰æ‹©æ¡† */
#favorites-view.selection-mode .favorite-item-card {
  transform: translateX(35px);
}
#favorites-view.selection-mode .favorite-item-card::before {
  opacity: 1;
}

/* é€‰ä¸­åçš„æ ·å¼ */
#favorites-view.selection-mode .favorite-item-card.selected::before {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  content: "âœ”";
  color: white;
  font-size: 14px;
  text-align: center;
  line-height: 20px;
}

/* åº•éƒ¨æ“ä½œæ  (ç»ˆæä¿®æ­£ç‰ˆ) */
#favorites-action-bar {
  position: absolute; /* â˜… æ”¹ä¸º absoluteï¼Œç›¸å¯¹äº #phone-screen å®šä½ */
  bottom: 0;
  left: 0;
  right: 0; /* â˜… æ–°å¢ right: 0ï¼Œå’Œ left: 0 ä¸€èµ·æ’‘æ»¡å®½åº¦ */
  width: auto; /* â˜… æ”¹ä¸º autoï¼Œè®© left/right å†³å®šå®½åº¦ */
  padding: 10px 15px;
  padding-bottom: calc(
    10px + env(safe-area-inset-bottom)
  ); /* é€‚é…iPhoneåº•éƒ¨å®‰å…¨åŒº */
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  box-sizing: border-box;
  z-index: 5;
  display: none;
  /* max-width å·²ç»ä¸éœ€è¦äº†ï¼Œå› ä¸ºçˆ¶å…ƒç´ å·²ç»é™åˆ¶äº†å®½åº¦ */
}

#favorites-action-bar .action-bar-btn {
  width: 100%;
  padding: 12px;
  border-radius: 8px;
  border: none;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  background-color: #ff3b30;
  color: white;
}

/* === ã€ä¿®æ­£ã€‘èŠå¤©ç•Œé¢å¤´éƒ¨æ§ä»¶åˆ‡æ¢é€»è¾‘ === */

/* é»˜è®¤çŠ¶æ€ï¼šéšè—å¤šé€‰æ§ä»¶ */
#chat-interface-screen .header .selection-controls {
  display: none;
}

/* é»˜è®¤çŠ¶æ€ï¼šæ˜¾ç¤ºé»˜è®¤æ§ä»¶ï¼Œå¹¶è®©å®ƒæ’‘æ»¡æ•´ä¸ªå¤´éƒ¨ */
#chat-interface-screen .header .default-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

/* å½“è¿›å…¥å¤šé€‰æ¨¡å¼æ—¶ï¼šéšè—é»˜è®¤æ§ä»¶ */
#chat-interface-screen.selection-mode .header .default-controls {
  display: none;
}

/* å½“è¿›å…¥å¤šé€‰æ¨¡å¼æ—¶ï¼šæ˜¾ç¤ºå¤šé€‰æ§ä»¶ï¼Œå¹¶è®©å®ƒæ’‘æ»¡æ•´ä¸ªå¤´éƒ¨ */
#chat-interface-screen.selection-mode .header .selection-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ä¿®æ­£ï¼šæ”¾å¤§æ‰€æœ‰ä¸»è¦çš„â€œ+â€å·æŒ‰é’® === */
#add-chat-btn,
#add-world-book-btn,
#create-album-btn-page {
  font-size: 28px; /* æ˜¾è‘—å¢å¤§å­—ä½“å¤§å°ï¼Œä½¿å…¶è§†è§‰ä¸Šä¸æ—è¾¹çš„å›¾æ ‡åŒ¹é… */
  font-weight: 300; /* ä½¿ç”¨æ›´ç»†çš„å­—é‡ï¼Œè®©åŠ å·çœ‹èµ·æ¥æ›´æ¸…çˆ½ï¼Œä¸æ˜¾ç²—ç¬¨ */
  position: relative; /* å…è®¸è¿›è¡Œä½ç½®å¾®è°ƒ */
  top: -1px; /* å­—ä½“æ”¾å¤§åï¼Œé€šå¸¸éœ€è¦ç¨å¾®å‘ä¸Šç§»åŠ¨ä¸€ç‚¹ï¼Œä½¿å…¶è§†è§‰ä¸Šæ›´å±…ä¸­ */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™äº›æ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* é¢„è§ˆåŒºå®¹å™¨æ ·å¼ */
#settings-preview-area {
  width: 100%;
  height: 180px; /* ç»™ä¸€ä¸ªå›ºå®šçš„é«˜åº¦ */
  background-color: #f0f2f5;
  border-radius: 8px;
  padding: 15px;
  box-sizing: border-box;
  overflow: hidden; /* é˜²æ­¢å†…å®¹æº¢å‡º */
  display: flex;
  flex-direction: column;
  gap: 10px; /* é¢„è§ˆæ°”æ³¡ä¹‹é—´çš„é—´è· */
  border: 1px solid var(--border-color);
  position: relative; /* ä¸ºäº†å®šä½èƒŒæ™¯ */
}

/* é¢„è§ˆåŒºçš„èƒŒæ™¯ï¼Œå¯ä»¥å’ŒçœŸå®èŠå¤©ç•Œé¢åŒæ­¥ */
#settings-preview-area::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  z-index: 1;
  opacity: 0.8;
}

/* è®©é¢„è§ˆæ°”æ³¡åœ¨èƒŒæ™¯ä¹‹ä¸Š */
#settings-preview-area .message-wrapper {
  position: relative;
  z-index: 2;
}

/* é¢„è§ˆåŒºå†…ä½¿ç”¨çš„å¤´åƒè¦å°ä¸€ç‚¹ */
#settings-preview-area .message-bubble .avatar {
  width: 30px;
  height: 30px;
}

#settings-preview-area .message-bubble .timestamp {
  display: none; /* é¢„è§ˆåŒºä¸éœ€è¦æ˜¾ç¤ºæ—¶é—´æˆ³ */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
.existing-group-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px;
  background-color: #f9f9f9;
  border-radius: 8px;
  border: 1px solid var(--border-color);
}

.existing-group-item .group-name {
  font-weight: 500;
}

.existing-group-item .delete-group-btn {
  color: #ff3b30;
  font-size: 20px;
  cursor: pointer;
  padding: 5px;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
.chat-group-container {
  border-bottom: 1px solid var(--border-color);
}
.chat-group-container:first-child {
  border-top: 1px solid var(--border-color);
}

.chat-group-header {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  cursor: pointer;
  background-color: var(--secondary-bg); /* <-- ä¿®æ”¹è¿™é‡Œï¼Œä½¿ç”¨å˜é‡ */
}

.chat-group-header .arrow {
  font-size: 14px;
  margin-right: 8px;
  transition: transform 0.2s ease;
}

.chat-group-header.collapsed .arrow {
  transform: rotate(-90deg);
}

.chat-group-header .group-name {
  font-weight: 600;
  font-size: 15px;
}

.chat-group-content {
  max-height: 1000px; /* ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å€¼ */
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}

.chat-group-content.collapsed {
  max-height: 0;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* æ ¼å¼åŠ©æ‰‹æŒ‰é’®çš„å®¹å™¨ */
.format-helpers {
  display: flex;
  gap: 10px;
  margin-bottom: 15px; /* ä¸ä¸‹æ–¹çš„æ–‡æœ¬æ¡†æ‹‰å¼€è·ç¦» */
  flex-wrap: wrap; /* å¦‚æœæŒ‰é’®å¤ªå¤šå¯ä»¥æ¢è¡Œ */
}

/* å•ä¸ªæ ¼å¼åŠ©æ‰‹æŒ‰é’®çš„æ ·å¼ */
.format-btn {
  background-color: #e9ecef;
  color: var(--text-primary);
  border: none;
  padding: 6px 12px;
  border-radius: 16px; /* èƒ¶å›Šå½¢çŠ¶ï¼Œæ›´å‹å¥½ */
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

.format-btn:hover {
  background-color: #dcdfe3;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* â€œâ€¦â€æŒ‰é’®çš„æ ·å¼ */
.post-actions-btn {
  margin-left: auto; /* å…³é”®ï¼šè®©å®ƒè‡ªåŠ¨é åˆ°æœ€å³è¾¹ */
  padding: 5px 10px;
  font-size: 20px;
  font-weight: bold;
  color: var(--text-secondary);
  cursor: pointer;
  border-radius: 50%;
  line-height: 1;
}
.post-actions-btn:hover {
  background-color: #f0f0f0;
}

/* åŠ¨æ€ç¼–è¾‘æ¨¡æ€æ¡†çš„æ ·å¼ (å®ƒå°†å¤ç”¨ç°æœ‰çš„æ“ä½œèœå•æ ·å¼) */
#post-actions-modal .custom-modal-footer button {
  width: 100%;
  border: none;
  border-bottom: 1px solid #dbdbdb;
  padding: 14px;
  font-size: 18px;
}
#post-actions-modal .custom-modal-footer button:last-child {
  border-bottom: none;
}
#post-actions-modal #cancel-post-action-btn {
  margin-top: 8px;
  border-radius: 8px;
  background-color: #f0f0f0;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* ç»Ÿä¸€é‡ç½®è½¬è´¦å¡ç‰‡å†…æ‰€æœ‰æ–‡å­—çš„ç‰¹æ•ˆå’Œé¢œè‰² */
#chat-messages .transfer-card .transfer-title,
#chat-messages .transfer-card .transfer-amount,
#chat-messages .transfer-card .transfer-note {
  text-shadow: none !important; /* å¼ºåˆ¶ç§»é™¤ä»»ä½•å‘å…‰æˆ–é˜´å½±æ•ˆæœ */
  color: white !important; /* å¼ºåˆ¶é”å®šæ–‡å­—é¢œè‰²ä¸ºç™½è‰² */
}

/* åˆ†åˆ«é”å®šå„è‡ªçš„å­—ä½“å¤§å°å’Œå­—é‡ï¼Œé˜²æ­¢è¢«ç¯¡æ”¹ */
#chat-messages .transfer-card .transfer-title {
  font-size: 16px !important;
  font-weight: 600 !important;
}

#chat-messages .transfer-card .transfer-amount {
  font-size: 28px !important;
  font-weight: bold !important;
}

#chat-messages .transfer-card .transfer-note {
  font-size: 13px !important;
  opacity: 0.9 !important;
}

/* â–¼â–¼â–¼ è¿™æ˜¯æ–°å¢çš„æ ·å¼ï¼Œç”¨äºä¿®æ­£æ‰€æœ‰å¤´éƒ¨æ ‡é¢˜çš„å±…ä¸­é—®é¢˜ â–¼â–¼â–¼ */
/* â–¼â–¼â–¼ è¿™æ˜¯æ–°å¢çš„æ ·å¼ï¼Œç”¨äºä¿®æ­£æ‰€æœ‰å¤´éƒ¨æ ‡é¢˜çš„å±…ä¸­é—®é¢˜ â–¼â–¼â–¼ */
.header > span:nth-child(2) {
  position: absolute;
  left: 50%;
  transform: translateX(calc(-50% - 2px)); /* åœ¨-50%çš„åŸºç¡€ä¸Šï¼Œå†å‘å·¦æ¨2åƒç´  */

  /* (å¯é€‰ä½†æ¨è) é˜²æ­¢é•¿æ ‡é¢˜ä¸ä¸¤è¾¹æŒ‰é’®é‡å  */
  max-width: 60%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¯è§†åŒ–æ¶ˆæ¯ç¼–è¾‘å™¨æ ·å¼ â–¼â–¼â–¼ */
#message-editor-container {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.message-editor-block {
  background-color: #f9f9f9;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 12px;
}

.message-editor-block textarea {
  width: 100%;
  min-height: 60px;
  resize: vertical;
  border: 1px solid #ccc;
  border-radius: 6px;
  padding: 8px;
  font-size: 14px;
  box-sizing: border-box;
}

.message-editor-block .format-helpers {
  margin-top: 8px;
  margin-bottom: 0; /* è¦†ç›–é»˜è®¤çš„ margin-bottom */
}

.message-editor-block .delete-block-btn {
  float: right;
  margin-top: -5px;
  background: none;
  border: none;
  color: #ff3b30;
  font-size: 20px;
  cursor: pointer;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è”ç³»äººé€‰æ‹©å™¨æ ·å¼ â–¼â–¼â–¼ */
.contact-picker-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
}
.contact-picker-item .checkbox {
  width: 20px;
  height: 20px;
  border: 2px solid #ccc;
  border-radius: 50%;
  margin-right: 15px;
  transition: all 0.2s ease;
}
.contact-picker-item.selected .checkbox {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  content: "âœ”";
  color: white;
  font-size: 14px;
  text-align: center;
  line-height: 20px;
}
.contact-picker-item .avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 12px;
}
.contact-picker-item .name {
  font-weight: 500;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç¾¤æˆå‘˜ç®¡ç†ç•Œé¢æ ·å¼ â–¼â–¼â–¼ */
#member-management-list {
  padding: 0; /* ç§»é™¤é»˜è®¤paddingï¼Œè®©åˆ—è¡¨é¡¹æ’‘æ»¡ */
}

.member-management-item {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
}

.member-management-item .avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 12px;
}

.member-management-item .name {
  flex-grow: 1;
  font-weight: 500;
}

#member-management-actions {
  flex-shrink: 0;
  padding: 15px;
  border-top: 1px solid var(--border-color);
  background-color: #f7f7f7;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

#member-management-actions button {
  width: 100%;
  padding: 15px;
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}
#member-management-actions #create-new-member-btn {
  background-color: #4cd964; /* æ–°å»ºç”¨ç»¿è‰²ï¼Œä»¥ç¤ºåŒºåˆ† */
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–å–ä»£ä»˜å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */
.message-bubble.is-waimai-request .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

.waimai-card {
  width: 240px;
  border-radius: 12px;
  overflow: hidden;
  background-color: #fff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
    Arial, sans-serif;
}

.waimai-header {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  border-bottom: 1px solid #f0f0f0;
}

.waimai-header .icon {
  width: 20px;
  height: 20px;
}

.waimai-header .title-group {
  display: flex;
  align-items: baseline;
  font-size: 14px;
  color: #8a8a8a;
}
.waimai-header .title-group .brand {
  font-weight: 600;
  color: #555;
  margin-right: 5px;
}
.waimai-header .title-group .separator {
  margin: 0 5px;
}

.waimai-catchphrase {
  font-size: 13px;
  color: #1f1f1f;
  padding: 12px;
}

.waimai-main {
  background-color: #ffd66b; /* æ©™é»„è‰²èƒŒæ™¯ */
  padding: 12px;
  text-align: center;
}

.waimai-main .request-title {
  font-size: 12px;
  color: #856404;
  margin-bottom: 8px;
}

.waimai-main .payment-box {
  background-color: #fff;
  border-radius: 8px;
  padding: 15px 10px;
}

.waimai-main .payment-label {
  font-size: 13px;
  color: #8a8a8a;
}

.waimai-main .amount {
  font-size: 32px;
  font-weight: 700;
  color: #1f1f1f;
  margin: 4px 0 12px 0;
}

.waimai-main .countdown-label {
  font-size: 13px;
  color: #8a8a8a;
}
.waimai-main .countdown-timer {
  display: inline-flex;
  align-items: center;
  gap: 2px;
  margin-left: 5px;
}
.waimai-main .countdown-timer span {
  background-color: #333;
  color: white;
  padding: 2px 4px;
  border-radius: 2px;
  font-weight: bold;
  font-size: 12px;
}

.waimai-details-btn {
  width: 100%;
  padding: 10px 0;
  margin-top: 15px;
  border: none;
  border-radius: 6px;
  background-color: #ffc33a;
  color: #49380a;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–å–å“åº”çŠ¶æ€æ ·å¼ â–¼â–¼â–¼ */

/* === åŒæ„æ”¯ä»˜åçš„æ ·å¼ === */
.message-bubble.status-paid .waimai-card {
  border: 2px solid #28a745; /* ç»¿è‰²è¾¹æ¡† */
}
.message-bubble.status-paid .waimai-main .request-title::before {
  content: "âœ…  ";
}
.message-bubble.status-paid .waimai-main .request-title {
  color: #155724;
  font-weight: 600;
  /* é‡å†™ request-title çš„å†…å®¹ */
  content: "æˆ‘å·²ä¸ºæ‚¨ä¹°å•ï¼Œè¯·å°½æƒ…äº«ç”¨å§ï½" !important;
  display: block;
  margin-bottom: 15px;
}

.message-bubble.status-paid .payment-box {
  display: none; /* éšè—æ”¯ä»˜è¯¦æƒ… */
}
.message-bubble.status-paid .waimai-details-btn {
  background-color: #28a745;
  color: white;
}

/* === æ‹’ç»æ”¯ä»˜åçš„æ ·å¼ === */
.message-bubble.status-rejected .waimai-card {
  border: 2px solid #dc3545; /* çº¢è‰²è¾¹æ¡† */
  opacity: 0.8;
}
.message-bubble.status-rejected .waimai-main {
  background-color: #e9ecef;
}
.message-bubble.status-rejected .waimai-main .request-title::before {
  content: "âŒ ";
}
.message-bubble.status-rejected .waimai-main .request-title {
  color: #721c24;
  font-weight: 600;
  /* é‡å†™ request-title çš„å†…å®¹ */
  content: "æˆ‘æ‹’ç»äº†æ‚¨çš„ä»£ä»˜è¯·æ±‚" !important;
  display: block;
  margin-bottom: 15px;
}
.message-bubble.status-rejected .payment-box {
  display: none; /* éšè—æ”¯ä»˜è¯¦æƒ… */
}
.message-bubble.status-rejected .waimai-details-btn {
  background-color: #6c757d;
  color: white;
}

/* å¼ºåˆ¶é‡å†™ request-title å†…å®¹çš„æŠ€å·§ */
.message-bubble[class*="status-"] .request-title {
  font-size: 0; /* éšè—åŸå§‹æ–‡æœ¬ */
}
.message-bubble[class*="status-"] .request-title::after {
  font-size: 14px; /* è®©ä¼ªå…ƒç´ æ˜¾ç¤ºæ–°æ–‡æœ¬ */
}
.message-bubble.status-paid .request-title::after {
  content: "æˆ‘å·²ä¸ºæ‚¨ä¹°å•ï¼Œè¯·å°½æƒ…äº«ç”¨å§ï½";
}
.message-bubble.status-rejected .request-title::after {
  content: "æˆ‘æ‹’ç»äº†æ‚¨çš„ä»£ä»˜è¯·æ±‚";
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–å–è¯·æ±‚çš„ç”¨æˆ·æ“ä½œæŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */
.waimai-user-actions {
  display: flex;
  gap: 10px;
  padding: 0 12px 12px 12px; /* åœ¨å¡ç‰‡åº•éƒ¨ç•™å‡ºç©ºé—´ */
  background-color: #fff;
}

.waimai-user-actions button {
  flex: 1;
  padding: 10px;
  border-radius: 8px;
  border: 1.5px solid;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.waimai-pay-btn {
  background-color: #28a745;
  border-color: #1f7a33;
  color: white;
}
.waimai-pay-btn:hover {
  background-color: #218838;
}

.waimai-decline-btn {
  background-color: #f8f9fa;
  border-color: #ced4da;
  color: #495057;
}
.waimai-decline-btn:hover {
  background-color: #e2e6ea;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* ç¡®ä¿è¿™äº›é¡µé¢çš„å†…å®¹åŒºèƒ½æ­£ç¡®æ»šåŠ¨ï¼ŒåŒæ—¶èƒŒæ™¯é€æ˜ä»¥æ˜¾ç¤ºçˆ¶çº§é¢œè‰² */
#api-settings-screen .form-container,
#font-settings-screen .form-container,
#wallpaper-screen .form-container {
  padding-top: 100px;
  margin-top: -80px;
  /* ä¸å†éœ€è¦èƒŒæ™¯è‰²ï¼Œè®©çˆ¶å…ƒç´ å†³å®š */
}
#font-settings-screen,
#wallpaper-screen {
  /* å°†èƒŒæ™¯è‰²è®¾ç½®ä¸ºå˜é‡ï¼Œè¿™æ ·å¤œé—´æ¨¡å¼æ‰èƒ½è¦†ç›–å®ƒ */
  background-color: var(--secondary-bg);
}
/* å£çº¸è®¾ç½®é¡µé¢çš„é¢„è§ˆåŒºæ¯”è¾ƒç‰¹æ®Šï¼Œéœ€è¦é¢å¤–è°ƒæ•´ */
#wallpaper-screen .form-container {
  align-items: center; /* ä¿æŒå†…å®¹å±…ä¸­ */
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ¥ç”µè¯·æ±‚ä¸è§†é¢‘é€šè¯ç•Œé¢æ ·å¼ â–¼â–¼â–¼ */

/* --- æ¥ç”µè¯·æ±‚æ¨¡æ€æ¡† --- */
#incoming-call-modal .incoming-call-content {
  background-color: rgba(40, 40, 40, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 20px;
  width: 280px;
  padding: 30px 20px;
  text-align: center;
  color: white;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.caller-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 12px;
  border: 3px solid rgba(255, 255, 255, 0.5);
}

.caller-name {
  font-size: 20px;
  font-weight: 600;
  margin-bottom: 5px;
}

.caller-text {
  font-size: 14px;
  color: #ccc;
  margin-bottom: 30px;
}

.incoming-call-actions {
  display: flex;
  justify-content: space-around;
  align-items: center;
}

.action-button-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #e0e0e0;
}

.call-action-btn {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  background-size: 50%;
  background-repeat: no-repeat;
  background-position: center;
  transition:
    transform 0.2s,
    box-shadow 0.2s;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
.call-action-btn:active {
  transform: scale(0.9);
}

.call-action-btn.decline {
  background-color: #ff3b30;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13.5 16.5L3 6m18 6l-5.6-5.6a1.2 1.2 0 0 0-1.7 0L3 18.2a1.2 1.2 0 0 0-.3 1.2l1.2 3.6a1.2 1.2 0 0 0 1.2.9h15.6a1.2 1.2 0 0 0 1.2-1.2V7.7a1.2 1.2 0 0 0-.3-1.1z"/></svg>');
}

.call-action-btn.accept {
  background-color: #4cd964;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>');
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(76, 217, 100, 0.7);
  }
  70% {
    box-shadow: 0 0 0 15px rgba(76, 217, 100, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(76, 217, 100, 0);
  }
}

/* â–¼â–¼â–¼ ã€ç»ˆæå…¼å®¹æ€§ä¿®å¤ç‰ˆã€‘è¯·ç”¨è¿™æ•´å—ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰€æœ‰æ—§çš„ video-call ç›¸å…³CSS â–¼â–¼â–¼ */

/* 1. é€šè¯å±å¹•æ€»å®¹å™¨ï¼šç¡®ä¿å®ƒæ˜¯ä¸€ä¸ªæ’‘æ»¡å±å¹•çš„Flexåˆ—å¸ƒå±€ */
#video-call-screen {
  background-color: #1c1c1e;
  color: white;
  display: flex; /* ä¿æŒFlexå¸ƒå±€ */
  flex-direction: column; /* å‚ç›´æ’åˆ— */
  overflow: hidden; /* é˜²æ­¢ä»»ä½•æ„å¤–æº¢å‡º */
}

/* 2. ã€æ ¸å¿ƒã€‘ä¸ºä¸¤ç§é€šè¯æ¨¡å¼çš„å®¹å™¨è®¾ç½®ç»Ÿä¸€çš„Flexå¸ƒå±€ */
#text-call-interface,
#visual-call-interface {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative; /* ä½œä¸ºå†…éƒ¨ç»å¯¹å®šä½å…ƒç´ çš„å‚è€ƒ */
}

/* 3. é¡¶éƒ¨çŠ¶æ€æ ï¼šä¿æŒç»å¯¹å®šä½ï¼Œä½œä¸ºé¡¶éƒ¨çš„åŠé€æ˜è¦†ç›–å±‚ */
.video-call-top-bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 10;
  box-sizing: border-box;
  padding: 15px 20px 30px;
  padding-top: calc(15px + env(safe-area-inset-top)); /* é€‚é…åˆ˜æµ·å± */
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5), transparent);
  text-align: center;
  pointer-events: none; /* è®©å®ƒä¸å½±å“ä¸‹æ–¹å†…å®¹çš„ç‚¹å‡» */
}
#call-timer,
#visual-call-timer {
  font-size: 16px;
  font-weight: 500;
  letter-spacing: 1px;
}

/* 4. ã€æ ¸å¿ƒé‡æ„ã€‘å†…å®¹åŒºåŸŸ (åŒ…æ‹¬å¤´åƒã€æ°”æ³¡ã€è§†é¢‘èƒŒæ™¯ç­‰) */
/* è¿™ä¸ªè§„åˆ™å°†åŒæ—¶ä½œç”¨äºæ–‡å­—æ¨¡å¼çš„ #text-call-interface å’Œ å¯è§†åŒ–æ¨¡å¼çš„ #visual-call-interface */
#text-call-interface,
#visual-call-interface {
  flex-grow: 1; /* â˜… å…³é”®ï¼šè®©å†…å®¹åŒºå æ®æ‰€æœ‰å‰©ä½™ç©ºé—´ */
  min-height: 0; /* â˜… å…³é”®ï¼šé˜²æ­¢Flexå¸ƒå±€ä¸‹çš„æº¢å‡ºé—®é¢˜ */
  display: flex;
  flex-direction: column;
  overflow: hidden; /* å†…å®¹åŒºè‡ªå·±ä¹Ÿéœ€è¦éšè—æº¢å‡º */
  padding-top: 80px; /* ä¸ºé¡¶éƒ¨çš„çŠ¶æ€æ ç•™å‡ºç©ºé—´ */
  box-sizing: border-box;
}

/* 4a. æ–‡å­—æ¨¡å¼çš„å¤´åƒå’Œæ°”æ³¡åŒºåŸŸ */
.video-call-avatar-area {
  flex-shrink: 0; /* é«˜åº¦å›ºå®šï¼Œä¸è¢«å‹ç¼© */
  padding: 20px 0;
  display: flex;
  justify-content: center;
  align-items: center;
}
#video-call-main {
  flex-grow: 1; /* â˜… å…³é”®ï¼šå æ®æ–‡å­—æ¨¡å¼å†…å®¹åŒºçš„å‰©ä½™ç©ºé—´ */
  min-height: 0;
  margin: 0 15px 15px 15px; /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šå¤§å¹…å‡å°åº•éƒ¨å¤–è¾¹è· */
  overflow-y: auto;
  padding: 15px;
  background-color: rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* 4b. å¯è§†åŒ–æ¨¡å¼çš„è§†é¢‘èƒŒæ™¯å’Œæ°”æ³¡åŒºåŸŸ (ç»“æ„ä¸å˜) */
#visual-call-interface .video-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}
#visual-call-interface #video-call-messages-visual {
  position: relative;
  z-index: 5;
  flex-grow: 1;
  min-height: 0;
  padding: 15px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 15px;
  scrollbar-width: none;
  -ms-overflow-style: none;
}
#video-call-messages-visual::-webkit-scrollbar {
  display: none;
}

/* â–¼â–¼â–¼ è¿™æ˜¯ä½ è¦æ›¿æ¢çš„ä»£ç å— â–¼â–¼â–¼ */

/* ã€æ ¸å¿ƒé‡æ„ã€‘åº•éƒ¨æ§åˆ¶æ ï¼šç°åœ¨å®ƒæ˜¯ä¸€ä¸ªå¸¦z-indexçš„Flexå¸ƒå±€é¡¹ */
.video-call-controls {
  position: relative; /* â˜…â˜…â˜… æ ¸å¿ƒä¿®å¤ï¼šå°±æ˜¯åŠ ä¸Šè¿™ä¸€è¡Œï¼ â˜…â˜…â˜… */
  z-index: 10; /* ç°åœ¨è¿™ä¸ª z-index å°±ä¼šç”Ÿæ•ˆäº† */
  flex-shrink: 0;
  width: 100%;
  box-sizing: border-box;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 20px;
  padding-bottom: calc(20px + env(safe-area-inset-bottom));
  background: linear-gradient(to top, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.3));
  pointer-events: all;
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* 6. å…¶ä»–å…ƒç´ æ ·å¼ä¿æŒä¸å˜ */
#participant-avatars-grid {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 20px;
}
.participant-avatar-wrapper {
  text-align: center;
}
.participant-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
}
.participant-name {
  margin-top: 8px;
  font-size: 13px;
  color: #ccc;
}
.participant-avatar.speaking {
  border-color: #4cd964;
  box-shadow: 0 0 20px rgba(76, 217, 100, 0.6);
  transform: scale(1.05);
}

.control-btn {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  background-repeat: no-repeat;
  background-position: center;
  transition:
    transform 0.2s,
    background-color 0.2s;
}
.control-btn:active {
  transform: scale(0.9);
}
.control-btn.speak-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-size: 55%;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>');
}
.control-btn.hangup-btn {
  background-color: #ff3b30;
  background-size: 50%;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13.5 16.5L3 6m18 6l-5.6-5.6a1.2 1.2 0 0 0-1.7 0L3 18.2a1.2 1.2 0 0 0-.3 1.2l1.2 3.6a1.2 1.2 0 0 0 1.2.9h15.6a1.2 1.2 0 0 0 1.2-1.2V7.7a1.2 1.2 0 0 0-.3-1.1z"/></svg>');
}
.control-btn.join-btn {
  background-color: #007bff;
  background-size: 50%;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="17" y1="11" x2="23" y2="11"></line></svg>');
}

/* æ–°å¢çš„æŒ‰é’®å›¾æ ‡ */
.control-btn.reroll-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>');
  background-size: 50%;
}
.control-btn.switch-camera-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>');
  background-size: 50%;
}

/* å¯è§†åŒ–ç•Œé¢çš„é«˜æ¸…æ°”æ³¡ */
.visual-call-bubble {
  padding: 8px 12px;
  border-radius: 18px;
  max-width: 80%;
  line-height: 1.5;
  word-break: break-word;
  color: white;
  background-color: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.25);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.9);
}
.visual-call-bubble.user {
  align-self: flex-end;
  background-color: rgba(40, 160, 70, 0.3);
  border-color: rgba(255, 255, 255, 0.3);
}
.visual-call-bubble.ai {
  align-self: flex-start;
}

/* æ–‡å­—æ¨¡å¼çš„æ°”æ³¡ */
.call-message-bubble {
  padding: 10px 15px;
  border-radius: 12px;
  max-width: 85%;
  line-height: 1.6;
  word-break: break-word;
  white-space: pre-wrap;
}
.call-message-bubble.ai-speech {
  background-color: rgba(255, 255, 255, 0.15);
  align-self: flex-start;
}
.call-message-bubble.user-speech {
  background-color: #4cd964;
  align-self: flex-end;
  text-align: left;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°æ·»åŠ ã€‘æ­£åœ¨å‘¼å«ç•Œé¢æ ·å¼ â–¼â–¼â–¼ */
#outgoing-call-screen {
  background-color: #1c1c1e;
  color: white;
  justify-content: center; /* å‚ç›´å±…ä¸­ */
  align-items: center; /* æ°´å¹³å±…ä¸­ */
}

.outgoing-call-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.outgoing-call-actions {
  margin-top: 50px; /* å’Œä¸Šæ–¹æ–‡å­—æ‹‰å¼€è·ç¦» */
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #e0e0e0;
}
/* â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² */

/* 1. åŠ¨æ€å¸–å­çš„å¤–å±‚å®¹å™¨ï¼Œæˆ‘ä»¬éœ€è¦å®ƒæ¥å®šä½å’Œè£å‰ª */
.qzone-post-container {
  position: relative; /* è®©å†…éƒ¨çš„åˆ é™¤æŒ‰é’®å¯ä»¥ç›¸å¯¹äºå®ƒå®šä½ */
  overflow: hidden; /* éšè—æ‰è¶…å‡ºéƒ¨åˆ†çš„åˆ é™¤æŒ‰é’® */
  border-radius: 12px; /* å’Œå†…éƒ¨å¡ç‰‡ä¿æŒä¸€è‡´çš„åœ†è§’ */
}

/* 2. å¯æ»‘åŠ¨çš„å†…å®¹å¡ç‰‡ï¼Œå¢åŠ ä¸€ä¸ªå¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœ */
.qzone-post-item {
  transition: transform 0.3s ease;
  background-color: var(
    --secondary-bg
  ); /* ç¡®ä¿å®ƒæœ‰èƒŒæ™¯è‰²ï¼Œèƒ½ç›–ä½ä¸‹é¢çš„åˆ é™¤æŒ‰é’® */
  position: relative; /* ç¡®ä¿å®ƒåœ¨æœ€ä¸Šå±‚ */
  z-index: 2;
}

/* 3. ã€æ ¸å¿ƒã€‘è¿™å°±æ˜¯é‚£ä¸ªâ€œåˆ é™¤â€æŒ‰é’®çš„æ ·å¼ï¼*/
.qzone-post-delete-action {
  position: absolute; /* ç»å¯¹å®šä½ï¼Œè„±ç¦»æ–‡æ¡£æµ */
  top: 0;
  right: 0;
  bottom: 0;
  width: 90px; /* åˆ é™¤æŒ‰é’®çš„å®½åº¦ */
  background-color: #ff3b30; /* æ‚¨æƒ³è¦çš„çº¢è‰²èƒŒæ™¯ */
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 500;
  cursor: pointer;
  z-index: 1; /* ç¡®ä¿å®ƒåœ¨å¡ç‰‡ä¸‹é¢ */
}

/* 4. å½“å¡ç‰‡å·¦æ»‘æ—¶ï¼ŒæŠŠå®ƒå‘å·¦ç§»åŠ¨ï¼Œéœ²å‡ºåˆ é™¤æŒ‰é’® */
.qzone-post-item.swiped {
  transform: translateX(-90px); /* ç§»åŠ¨çš„è·ç¦»å’Œåˆ é™¤æŒ‰é’®çš„å®½åº¦ä¸€è‡´ */
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™ã€ä¸€æ•´å—ã€‘å…¨æ–°çš„â€œæ‹ä¸€æ‹â€æ ·å¼ï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* 1. â€œæ‹ä¸€æ‹â€çš„å±å¹•éœ‡åŠ¨åŠ¨ç”» */
@keyframes pat-shake {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-3px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(3px);
  }
}

.pat-animation {
  animation: pat-shake 0.4s ease-in-out;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* è®©â€œæ‹ä¸€æ‹â€ç±»å‹çš„ wrapper å±…ä¸­ */
.message-wrapper.system-pat {
  justify-content: center;
  align-self: center;
  margin: 5px 0;
  max-width: 80%;
}
/* â€œæ‹ä¸€-æ‹â€æ¶ˆæ¯æ°”æ³¡çš„æ ·å¼ */
.message-bubble.system-bubble {
  background-color: rgba(0, 0, 0, 0.1);
  color: var(--text-secondary);
  font-size: 12px;
  padding: 4px 12px;
  border-radius: 10px;
}

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ä¿®æ­£ï¼šè®©é¡¶éƒ¨æ“ä½œæ å¯ä»¥æ¨ªå‘æ»šåŠ¨ === */
#chat-input-actions-top {
  display: flex;
  gap: 8px;
  padding: 0 5px;

  /* --- æ ¸å¿ƒä»£ç å¼€å§‹ --- */
  overflow-x: auto;
  flex-wrap: nowrap;
  -webkit-overflow-scrolling: touch;

  scrollbar-width: none;
  -ms-overflow-style: none;
}

#chat-input-actions-top::-webkit-scrollbar {
  display: none;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* === ã€å…¨æ–°ã€‘èŠå¤©ç•Œé¢å¤´éƒ¨çŠ¶æ€æ æ ·å¼ === */

/* === ã€å…¨æ–°ã€‘èŠå¤©ç•Œé¢å¤´éƒ¨çŠ¶æ€æ æ ·å¼ === */

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€å±…ä¸­ä¿®å¤ç‰ˆã€‘çš„ä»£ç ï¼Œæ›¿æ¢æ—§çš„ #chat-header-title-wrapper æ ·å¼ â–¼â–¼â–¼ */
#chat-header-title-wrapper {
  /* --- æ ¸å¿ƒä¿®æ”¹ï¼šè®©æ ‡é¢˜åŒºåŸŸç»å¯¹å±…ä¸­ --- */
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  /* ------------------------------------ */

  /* ä¿æŒå…¶å†…éƒ¨å…ƒç´ ï¼ˆæ ‡é¢˜å’ŒçŠ¶æ€ï¼‰çš„å¸ƒå±€ä¸å˜ */
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;

  /* (å¯é€‰ä½†æ¨è) é˜²æ­¢é•¿æ ‡é¢˜ä¸ä¸¤è¾¹æŒ‰é’®é‡å  */
  max-width: 60%;

  /* æ³¨æ„ï¼šæˆ‘ä»¬ä¸å†éœ€è¦ flex-grow: 1; äº†ï¼Œå› ä¸ºç»å¯¹å®šä½å·²ç»ä½¿å…¶è„±ç¦»äº†flexå¸ƒå±€æµ */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·ç”¨è¿™å—ä»£ç æ›¿æ¢ä½ æ—§çš„ #chat-header-main-line æ ·å¼ â–¼â–¼â–¼ */
#chat-header-main-line {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative; /* è®©å…¬å‘ŠæŒ‰é’®å¯ä»¥ç›¸å¯¹äºå®ƒå®šä½ */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·ç”¨è¿™å—ã€ç»ˆæä¿®å¤ç‰ˆã€‘ä»£ç ï¼Œæ›¿æ¢æ‰ä½ æ—§çš„ #chat-header-title æ ·å¼ â–¼â–¼â–¼ */
#chat-header-title {
  font-size: 16px;
  font-weight: 600;

  /* (è¿™ä¸¤è¡Œæ˜¯ä¸Šæ¬¡ä¿®å¤å®šä½é—®é¢˜çš„ï¼Œå¿…é¡»ä¿ç•™ï¼) */
  position: static !important;
  transform: none !important;

  /* â˜…â˜…â˜… æ ¸å¿ƒä¿®å¤ï¼šæˆ‘ä»¬å·²ç»æŠŠå¯¼è‡´çœç•¥å·çš„å››è¡Œä»£ç å…¨éƒ¨åˆ æ‰äº†ï¼ â˜…â˜…â˜… */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* 3. çŠ¶æ€æ å®¹å™¨ */
#chat-header-status {
  display: flex;
  align-items: center;
  gap: 5px;
  font-size: 11px;
  color: var(--text-secondary);
  transition: all 0.3s ease;
}

/* 4. çŠ¶æ€å°åœ†ç‚¹ */
.status-dot {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background-color: #4cd964; /* é»˜è®¤ç»¿è‰²ï¼Œä»£è¡¨åœ¨çº¿ */
  transition: background-color 0.3s ease;
}

/* å½“AIçŠ¶æ€ä¸ºâ€œå¿™ç¢Œâ€æˆ–â€œç¦»å¼€â€æ—¶ï¼Œè®©åœ†ç‚¹å˜ç°è‰² */
#chat-header-status.busy .status-dot {
  background-color: #cccccc;
}

/* 5. çŠ¶æ€æ–‡æœ¬ */
.status-text {
  font-weight: 500;
}

/* === ã€å…¨æ–°ç¾åŒ–ç‰ˆã€‘å›å¿†å¡ç‰‡æ ·å¼ === */

/* 1. å¡ç‰‡æ€»å®¹å™¨ï¼šè¿™é‡Œè´Ÿè´£å®šä¹‰æ•´ä½“çš„èƒŒæ™¯è‰²å’Œè¾¹æ¡† */
.memory-card {
  background-color: #fffaf0; /* ç»Ÿä¸€çš„ã€æ¸©æš–çš„ç±³é»„è‰²èƒŒæ™¯ */
  border-radius: 12px;
  padding: 15px; /* åœ¨å¡ç‰‡å››å‘¨ç•™å‡ºå†…è¾¹è· */
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.07);
  border-left: 5px solid #ffb74d;
  display: flex; /* è®©å®ƒæˆä¸ºflexå®¹å™¨ï¼Œæ–¹ä¾¿å†…éƒ¨å…ƒç´ æ’åˆ— */
  flex-direction: column; /* è®©å¤´éƒ¨å’Œå†…å®¹å‚ç›´å †å  */
  gap: 8px; /* åœ¨å¤´éƒ¨å’Œå†…å®¹ä¹‹é—´åˆ›é€ ä¸€ä¸ªè‡ªç„¶çš„é—´è· */
}

/* 2. å¤´éƒ¨å®¹å™¨ï¼šç°åœ¨åªè´Ÿè´£å¸ƒå±€å’Œåˆ†å‰²çº¿ */
.memory-card .header {
  border-bottom: 1px solid rgba(217, 129, 0, 0.15); /* åˆ†å‰²çº¿é¢œè‰²å¯ä»¥ç¨å¾®åŠ æ·±ä¸€ç‚¹ */
  padding-bottom: 8px;
}

/* 3. æ—¥æœŸæ ·å¼ (ä¿æŒä¸å˜) */
.memory-card .header .date {
  font-size: 11px;
  color: #a1887f;
  margin-bottom: 4px;
}

/* 4. ä½œè€…æ ·å¼ (ä¿æŒä¸å˜) */
.memory-card .header .author {
  font-weight: 600;
  color: #d98100;
  font-size: 15px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 5. å†…å®¹åŒºæ ·å¼ (ä¿æŒä¸å˜) */
.memory-card .content {
  font-size: 14px;
  line-height: 1.7;
  color: #5d4037;
  white-space: pre-wrap;
}

/* === ã€å…¨æ–°ã€‘çº¦å®š/å€’è®¡æ—¶å¡ç‰‡æ ·å¼ === */
.countdown-card {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  border-radius: 12px;
  padding: 20px;
  box-shadow: 0 4px 15px rgba(118, 75, 162, 0.4);
  text-align: center;
  position: relative;
  overflow: hidden;
  flex-shrink: 0;
}
.countdown-card::before {
  content: "âœ¨";
  position: absolute;
  top: -10px;
  left: -10px;
  font-size: 50px;
  opacity: 0.1;
  transform: rotate(-15deg);
}
.countdown-card .title {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 15px;
}
.countdown-card .timer {
  font-size: 28px;
  font-weight: 300;
  letter-spacing: 2px;
  margin-bottom: 15px;
}
.countdown-card .target-date {
  font-size: 12px;
  opacity: 0.8;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  padding-top: 10px;
}

/* === ã€å…¨æ–°ã€‘èŠå¤©é”å®šé®ç½©å±‚æ ·å¼ === */
#chat-lock-overlay {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 150; /* æ¯”è¾“å…¥æ¡†é«˜ï¼Œæ¯”è´´çº¸é¢æ¿ä½ */
  display: none; /* é»˜è®¤éšè— */
  align-items: center;
  justify-content: center;
  padding: 20px;
  box-sizing: border-box;
  border-top: 1px solid var(--border-color);
  text-align: center;
}
#chat-lock-content {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
#chat-lock-content .lock-text {
  color: var(--text-secondary);
  font-size: 14px;
}
#chat-lock-content .lock-action-btn {
  padding: 10px 20px;
  border-radius: 20px;
  border: 1px solid var(--accent-color);
  background-color: var(--accent-color);
  color: white;
  cursor: pointer;
}
#chat-lock-content .lock-action-btn.secondary {
  background-color: transparent;
  color: var(--accent-color);
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¢åŒ…å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */
.message-bubble.is-red-packet .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

.red-packet-card {
  width: 220px;
  border-radius: 8px;
  background: linear-gradient(160deg, #f96259, #e44d44);
  color: #ffd700; /* é‡‘è‰²æ–‡å­— */
  padding: 12px;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  position: relative;
  overflow: hidden;
}

.red-packet-card.opened {
  background: linear-gradient(160deg, #d3c4a0, #c4b693);
  cursor: default;
}

.red-packet-card::before {
  content: "ğŸ§§";
  position: absolute;
  top: -5px;
  left: -5px;
  font-size: 30px;
  opacity: 0.2;
  transform: rotate(-10deg);
}

.rp-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}

.rp-icon {
  width: 20px;
  height: 20px;
}

.rp-greeting {
  font-size: 15px;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.rp-type {
  font-size: 11px;
  color: white;
  opacity: 0.8;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  padding-top: 8px;
  margin-top: 8px;
}

.rp-claimed-info {
  font-size: 13px;
  color: white;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(255, 255, 255, 0.3);
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¢åŒ…è¯¦æƒ…åˆ—è¡¨æ ·å¼ â–¼â–¼â–¼ */
.rp-details-item {
  display: flex;
  align-items: center;
  padding: 8px 0;
  border-bottom: 1px solid #eee;
}
.rp-details-item:last-child {
  border-bottom: none;
}
.rp-details-item .name {
  flex-grow: 1;
  font-weight: 500;
  color: #333;
}
.rp-details-item .amount {
  font-weight: 500;
  color: #555;
}
.rp-details-item .lucky-king-tag {
  font-size: 10px;
  background-color: #ffd700;
  color: #a67c00;
  padding: 2px 5px;
  border-radius: 4px;
  margin-left: 8px;
  font-weight: bold;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æŠ•ç¥¨åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* æŠ•ç¥¨å¡ç‰‡åœ¨æ¶ˆæ¯æ°”æ³¡ä¸­çš„æ ·å¼ */
.message-bubble.is-poll .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* æŠ•ç¥¨å¡ç‰‡ä¸»ä½“ */
.poll-card {
  width: 250px;
  background-color: #f9f9f9;
  border-radius: 10px;
  border: 1px solid #e0e0e0;
  padding: 12px;
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.poll-card.closed {
  background-color: #e9ecef; /* ç»“æŸåå˜ç° */
}

/* æŠ•ç¥¨é—®é¢˜ */
.poll-question {
  font-weight: 600;
  font-size: 15px;
  margin-bottom: 12px;
  line-height: 1.4;
  word-break: break-word;
}

/* æŠ•ç¥¨é€‰é¡¹åˆ—è¡¨ */
.poll-options-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* å•ä¸ªæŠ•ç¥¨é€‰é¡¹ */
.poll-option-item {
  background-color: white;
  border: 1px solid #dcdcdc;
  border-radius: 8px;
  padding: 10px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: background-color 0.2s;
}

.poll-card:not(.closed) .poll-option-item:hover {
  background-color: #f0f8ff;
}

/* ç”¨æˆ·å·²æŠ•ç¥¨çš„é€‰é¡¹æ ·å¼ */
.poll-option-item.voted {
  border-color: var(--accent-color);
  background-color: #e7f3ff;
  font-weight: 500;
}

/* æŠ•ç¥¨è¿›åº¦æ¡ */
.poll-option-bar {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background-color: rgba(0, 123, 255, 0.1);
  z-index: 1;
  transition: width 0.3s ease-in-out;
}

/* é€‰é¡¹å†…å®¹ï¼ˆæ–‡å­—å’Œç¥¨æ•°ï¼‰ï¼Œç¡®ä¿åœ¨è¿›åº¦æ¡ä¹‹ä¸Š */
.poll-option-content {
  position: relative;
  z-index: 2;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.poll-option-text {
  font-size: 14px;
}

.poll-option-votes {
  font-size: 13px;
  color: #8a8a8a;
  font-weight: 500;
}

/* æŠ•ç¥¨å¡ç‰‡åº•éƒ¨ */
.poll-footer {
  margin-top: 12px;
  padding-top: 8px;
  border-top: 1px solid #e9e9e9;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: var(--text-secondary);
}

.poll-total-votes {
  font-weight: 500;
}

.poll-action-btn {
  background: none;
  border: 1px solid var(--accent-color);
  color: var(--accent-color);
  padding: 4px 10px;
  border-radius: 15px;
  cursor: pointer;
  font-size: 12px;
}
.poll-card.closed .poll-action-btn {
  background-color: #6c757d;
  color: white;
  border-color: #6c757d;
}

/* åˆ›å»ºæŠ•ç¥¨æ¨¡æ€æ¡†çš„é€‰é¡¹è¾“å…¥ */
.poll-option-input-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
}
.poll-option-input-wrapper input {
  flex-grow: 1;
}
.poll-option-input-wrapper .remove-option-btn {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background-color: #f0f0f0;
  color: #ff3b30;
  border: none;
  cursor: pointer;
  font-size: 18px;
  line-height: 28px;
  text-align: center;
  flex-shrink: 0;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* === ã€å…¨æ–°ã€‘èŠå¤©å¤´éƒ¨â€œæ­£åœ¨è¾“å…¥â€çŠ¶æ€æ ·å¼ === */
#chat-header-title.typing-status {
  color: var(--text-secondary);
  animation: typing-pulse 1.5s infinite;
  font-style: italic;
}

@keyframes typing-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

#chat-header-title {
  transition: opacity 0.2s ease-in-out;
}

@keyframes message-pop-in {
  from {
    opacity: 0;
    transform: translateY(15px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.message-wrapper.animate-in {
  animation: message-pop-in 0.3s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘Appå›¾æ ‡è®¾ç½®æ ·å¼ â–¼â–¼â–¼ */
#icon-settings-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
  gap: 20px;
  width: 100%;
  padding: 0 10px;
  box-sizing: border-box;
}

.icon-setting-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.icon-preview {
  width: 60px;
  height: 60px;
  border-radius: 15px;
  background-size: cover;
  background-position: center;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.change-icon-btn {
  padding: 4px 10px;
  font-size: 12px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 5px;
  cursor: pointer;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¤–è§‚è®¾ç½®é¡µé¢å¸ƒå±€ä¿®æ­£ â–¼â–¼â–¼ */

/* 1. ä¿®æ­£æ»šåŠ¨é—®é¢˜ */
#wallpaper-screen .form-container {
  /* æ ¸å¿ƒä¿®æ­£1: è§£å†³flexå¸ƒå±€ä¸‹çš„æ»šåŠ¨å†²çªï¼Œè®©æ»šåŠ¨æ¡èƒ½æ­£å¸¸å‡ºç° */
  min-height: 0;
}

/* 2. ä¿®æ­£å£çº¸é¢„è§ˆè¢«å‹æ‰çš„é—®é¢˜ */
#wallpaper-preview {
  /* æ ¸å¿ƒä¿®æ­£2: é˜²æ­¢é¢„è§ˆæ¡†è¢«è¿‡å¤šçš„å†…å®¹æŒ¤å‹å˜å½¢ï¼Œè®©å®ƒä¿æŒè‡ªå·±çš„é«˜åº¦ */
  flex-shrink: 0;
}
/* â–²â–²â–² ä¿®æ­£ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åˆ†äº«é“¾æ¥åŠŸèƒ½æ ·å¼ (æ— å›¾ç‰ˆ) â–¼â–¼â–¼ */

/* 1. æµè§ˆå™¨ç•Œé¢èƒŒæ™¯è‰²å’Œå†…å®¹åŒºæ ·å¼ (ä¿æŒä¸å˜) */
#browser-screen {
  background-color: #f8f9fa;
}
#browser-content {
  padding: 20px;
  font-size: 16px;
  line-height: 1.8;
  color: #333;
  overflow-y: auto;
  background-color: #f8f9fa;
}
#browser-content .article-title {
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 10px;
}
#browser-content .article-meta {
  font-size: 13px;
  color: #8a8a8a;
  margin-bottom: 25px;
  padding-bottom: 15px;
  border-bottom: 1px solid #e0e0e0;
}
#browser-content .article-body {
  white-space: pre-wrap;
  word-break: break-word;
}
#browser-content .article-body p {
  margin-bottom: 1em;
}

/* 2. èŠå¤©æ°”æ³¡ä¸­çš„é“¾æ¥å¡ç‰‡æ ·å¼ (æ— å›¾ç‰ˆ) */
.message-bubble.is-link-share .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}
.message-bubble.is-book-share .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
}

.link-share-card {
  width: 210px;
  background-color: #fff;
  border-radius: 10px;
  border: 1px solid #e0e0e0;
  padding: 12px;
  cursor: pointer;
  transition: background-color 0.2s;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.link-share-card:hover {
  background-color: #f9f9f9;
}

.link-share-card .title {
  font-weight: 600;
  font-size: 15px;
  line-height: 1.4;
  color: #1f1f1f;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.link-share-card .description {
  font-size: 13px;
  color: #8a8a8a;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.link-share-card .footer {
  display: flex; /* è®©å›¾æ ‡å’Œæ–‡å­—æ°´å¹³å¯¹é½ */
  align-items: center;
  gap: 6px; /* å›¾æ ‡å’Œæ–‡å­—çš„é—´è· */
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px; /* å’Œä¸Šé¢çš„æè¿°æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
}
.link-share-card .footer-icon {
  width: 14px;
  height: 14px;
  flex-shrink: 0; /* é˜²æ­¢å›¾æ ‡è¢«å‹ç¼© */
}

/* è¿è½½åˆ†äº«ä¸“ç”¨å¡ç‰‡ */
.book-share-card {
  display: grid;
  grid-template-columns: 8px 1fr;
  background: #fff;
  border: 1px solid #e6d8c6;
  border-radius: 12px;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.06);
  overflow: hidden;
  width: 240px;
}
.book-share-card .book-spine {
  background: linear-gradient(180deg, #c69c6d 0%, #b38658 100%);
  box-shadow: 2px 0 6px rgba(0, 0, 0, 0.1) inset;
}
.book-share-card .book-body {
  padding: 12px 14px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}
.book-share-card .book-tag {
  display: inline-block;
  font-size: 11px;
  color: #8c6239;
  background: #f6e9d8;
  padding: 2px 6px;
  border-radius: 6px;
  width: fit-content;
}
.book-share-card .book-title {
  font-weight: 700;
  font-size: 15px;
  color: #2b1a10;
  line-height: 1.3;
}
.book-share-card .book-meta {
  font-size: 12px;
  color: #8a8a8a;
}
.book-share-card .book-desc {
  font-size: 13px;
  color: #5a4a3c;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}
.book-share-card .book-latest {
  font-size: 12px;
  color: #8c6239;
  font-weight: 600;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* å•æ¡è¯„è®ºçš„å®¹å™¨ï¼Œç°åœ¨éœ€è¦ç›¸å¯¹å®šä½ */
.comment-item {
  position: relative;
  padding-right: 25px; /* åœ¨å³ä¾§ç•™å‡ºåˆ é™¤æŒ‰é’®çš„ç©ºé—´ */
}

/* è¯„è®ºåˆ é™¤æŒ‰é’®çš„æ ·å¼ */
.comment-delete-btn {
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  line-height: 22px;
  text-align: center;
  border-radius: 50%;
  color: var(--text-secondary);
  font-size: 18px;
  cursor: pointer;
  transition: all 0.2s ease;
  opacity: 0; /* é»˜è®¤éšè— */
}

/* é¼ æ ‡æ‚¬åœåœ¨è¯„è®ºä¸Šæ—¶ï¼Œæ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.comment-item:hover .comment-delete-btn {
  opacity: 1;
}

.comment-delete-btn:hover {
  background-color: #f0f0f0;
  color: #ff3b30;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€è¯·æ±‚7ã€‘ä¸»å±å¹•é¢„è®¾ä¿å­˜æŒ‰é’®ä¸»é¢˜è‰²é€‚é… (è¯·å°†è¿™å—ä»£ç ä¹Ÿç²˜è´´åˆ° <style> çš„æœ«å°¾) â–¼â–¼â–¼ */
#save-home-preset-btn {
  background-color: var(--accent-color);
  color: white;
}
/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¼•ç”¨å›å¤åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. è¾“å…¥æ¡†ä¸Šæ–¹çš„â€œå›å¤é¢„è§ˆæ â€ */
#reply-preview-bar {
  display: none; /* é»˜è®¤éšè— */
  padding: 8px 12px;
  margin: 0 8px 8px 8px; /* å’Œè¾“å…¥æ¡†å‘¨å›´çš„è¾¹è·ä¿æŒä¸€è‡´ */
  background-color: rgba(0, 0, 0, 0.05);
  border-left: 3px solid var(--accent-color);
  border-radius: 6px;
  position: relative;
  font-size: 13px;
  color: var(--text-secondary);
}

#phone-screen.dark-mode #reply-preview-bar {
  background-color: rgba(255, 255, 255, 0.1);
}

.reply-preview-content .sender {
  font-weight: 600;
  color: var(--text-primary);
}

.reply-preview-content .text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: block; /* ç¡®ä¿çœç•¥å·ç”Ÿæ•ˆ */
  max-width: 95%;
}

#cancel-reply-btn {
  position: absolute;
  top: 50%;
  right: 8px;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  line-height: 20px;
  text-align: center;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.1);
  cursor: pointer;
  font-size: 14px;
}

/* 2. æ¶ˆæ¯æ°”æ³¡å†…éƒ¨çš„â€œå¼•ç”¨æ¶ˆæ¯å—â€ */
.quoted-message {
  padding: 6px 10px;
  margin-bottom: 6px;
  background-color: rgba(0, 0, 0, 0.04);
  border-left: 2px solid var(--accent-color);
  border-radius: 4px;
  font-size: 0.9em; /* å­—ä½“æ¯”æ­£æ–‡å°ä¸€ç‚¹ */
  opacity: 0.8;
  /* (å·²ç§»é™¤ overflow: hidden;) */
}

#phone-screen.dark-mode .quoted-message {
  background-color: rgba(255, 255, 255, 0.08);
  border-left-color: #a0cff1;
}

.quoted-message .quoted-sender {
  font-weight: 600;
  color: var(--accent-color);
}
#phone-screen.dark-mode .quoted-message .quoted-sender {
  color: #a0cff1;
}

.quoted-message .quoted-content {
  color: var(--text-secondary);
  white-space: normal; /* æ ¸å¿ƒä¿®æ­£1: å…è®¸æ–‡æœ¬æ­£å¸¸æ¢è¡Œ */
  word-break: break-word; /* æ ¸å¿ƒä¿®æ­£2: å¼ºåˆ¶é•¿å•è¯æˆ–è¿ç»­å­—ç¬¦æ–­å¼€ï¼Œé˜²æ­¢æº¢å‡º */
  display: block;
  /* (å·²ç§»é™¤ overflow å’Œ text-overflowï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å¤šè¡Œæ˜¾ç¤ºè€Œä¸æ˜¯å•è¡Œçœç•¥å·) */
}

/* === å­—ä½“é¢„è§ˆæ¡†æ ·å¼ (ä¿®æ­£å) === */

/* å°†å®ƒä¿®æ”¹ä¸º â–¼â–¼â–¼ */
#font-preview {
  padding: 20px;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  background-color: #f0f2f5; /* ç»Ÿä¸€ä¸ºæ›´æµ…çš„ç°è‰²ï¼Œç„¶åè®©å¤œé—´æ¨¡å¼CSSå»è¦†ç›– */
  transition:
    background-color 0.3s,
    border-color 0.3s;
}

/* é¢„è§ˆæ¡†é‡Œçš„æ–‡å­—é¢œè‰²ï¼Œé»˜è®¤æ˜¯é»‘è‰² */
#font-preview p {
  color: var(--text-primary);
}

/* å¤œé—´æ¨¡å¼ä¸‹çš„ä¿®æ­£æ ·å¼ */
#phone-screen.dark-mode #font-preview {
  background-color: #1c1c1e; /* æ·±ç°è‰²èƒŒæ™¯ */
  border-color: #38383a; /* æš—è‰²è¾¹æ¡† */
}

/* å¤œé—´æ¨¡å¼ä¸‹ï¼Œé¢„è§ˆæ¡†é‡Œçš„æ–‡å­—å˜ä¸ºç™½è‰² */
#phone-screen.dark-mode #font-preview p {
  color: #ffffff;
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç²¾è‡´ç‰ˆè½¬è´¦æ“ä½œå¼¹çª—æ ·å¼ â–¼â–¼â–¼ */
.transfer-actions-content {
  background-color: #fff0f5; /* ç²‰å«©çš„èƒŒæ™¯è‰² */
  border-radius: 20px;
  width: 290px;
  padding: 20px;
  box-shadow: 0 5px 25px rgba(255, 105, 180, 0.3); /* ç²‰è‰²é˜´å½± */
  text-align: center;
  position: relative;
  border: 1px solid #ffcce0;
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.transfer-actions-header {
  font-size: 20px;
  font-weight: bold;
  color: #a35c7b; /* æ·±ç²‰è‰²æ ‡é¢˜ */
  margin-bottom: 15px;
}

.transfer-actions-body p {
  font-size: 15px;
  color: #555;
  margin: 0 0 25px 0;
  line-height: 1.5;
}

.transfer-actions-footer {
  display: flex;
  justify-content: space-between;
  gap: 15px;
}

.transfer-actions-footer .action-btn {
  flex: 1;
  padding: 12px;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition:
    transform 0.2s,
    box-shadow 0.2s;
  color: white;
}

.transfer-actions-footer .action-btn:active {
  transform: scale(0.95);
}

.transfer-actions-footer .action-btn.accept {
  background: linear-gradient(135deg, #ff85b3, #ff69b4);
  box-shadow: 0 4px 10px rgba(255, 105, 180, 0.4);
}

.transfer-actions-footer .action-btn.decline {
  background: linear-gradient(135deg, #c2c2c2, #a0a0a0);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.transfer-actions-content .cancel-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: none;
  background-color: rgba(0, 0, 0, 0.1);
  color: #a35c7b;
  font-size: 20px;
  line-height: 28px;
  cursor: pointer;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === æœªè¯»æ¶ˆæ¯çº¢ç‚¹æ ·å¼ === */
.unread-count-wrapper {
  flex-shrink: 0;
  width: 40px;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding-top: 20px; /* è®©çº¢ç‚¹å’Œåå­—å·®ä¸å¤šé«˜ */
}

.unread-count {
  min-width: 20px;
  height: 20px;
  padding: 0 6px;
  background-color: #ff3b30; /* iOS é£æ ¼çš„çº¢è‰² */
  color: white;
  font-size: 13px;
  font-weight: 500;
  line-height: 20px;
  text-align: center;
  border-radius: 10px; /* åœ†è§’çŸ©å½¢ */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
  display: none; /* é»˜è®¤éšè— */
  justify-content: center;
  align-items: center;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é€šè¯è®°å½•é¡µé¢ä¸å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */

/* ç¡®ä¿é¡µé¢èƒŒæ™¯è‰²ç»Ÿä¸€ */
#call-history-screen {
  background-color: #f0f2f5;
}

/* é€šè¯è®°å½•å¡ç‰‡æ ·å¼ */
.call-record-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  cursor: pointer;
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
  border-left: 5px solid var(--accent-color);
}
.call-record-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

/* å¡ç‰‡å¤´éƒ¨ï¼šåŒ…å«æ—¥æœŸå’Œæ—¶é•¿ */
.call-record-card .card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--border-color);
}
.call-record-card .card-header .duration {
  font-weight: 500;
  color: var(--text-primary);
}

/* å¡ç‰‡ä¸»ä½“ï¼šå‚ä¸è€…å¤´åƒ */
.call-record-card .card-body {
  display: flex;
  align-items: center;
}
.call-record-card .participants-avatars {
  display: flex;
  align-items: center;
}
.call-record-card .participant-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid white;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
/* è®©å¤´åƒæœ‰ä¸€ä¸ªæ¼‚äº®çš„å †å æ•ˆæœ */
.call-record-card .participant-avatar:not(:first-child) {
  margin-left: -12px;
}
.call-record-card .participants-names {
  margin-left: 12px;
  font-weight: 600;
  color: var(--text-primary);
  font-size: 15px;
}

/* --- é€šè¯è¯¦æƒ…å¼¹çª—æ ·å¼ --- */
#transcript-modal-body {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 15px;
}
.transcript-entry {
  padding: 8px 12px;
  border-radius: 10px;
  max-width: 85%;
  line-height: 1.5;
  word-break: break-word;
}
.transcript-entry.user {
  background-color: #dcf8c6; /* ç±»ä¼¼å¾®ä¿¡çš„ç»¿è‰² */
  align-self: flex-end;
}
.transcript-entry.assistant {
  background-color: #ffffff;
  align-self: flex-start;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

#chat-list-title {
  cursor: pointer;
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é€šè¯è®°å½•å¡ç‰‡ç¾åŒ–æ ·å¼ â–¼â–¼â–¼ */

.call-record-card .card-body {
  /* å°† body æ”¹ä¸º flex å¸ƒå±€ï¼Œè®©æ ‡é¢˜å’Œå‚ä¸è€…ä¿¡æ¯å‚ç›´æ’åˆ— */
  display: flex;
  flex-direction: column;
  gap: 8px; /* æ ‡é¢˜å’Œå‚ä¸è€…ä¿¡æ¯ä¹‹é—´çš„é—´è· */
}

.call-record-card .custom-title {
  font-size: 16px;
  font-weight: 600; /* åŠ ç²—ï¼Œè®©å®ƒåƒä¸ªæ ‡é¢˜ */
  color: var(--text-primary);
  padding-bottom: 8px; /* æ ‡é¢˜ä¸‹çš„ç•™ç™½ */
  border-bottom: 1px solid var(--border-color); /* åœ¨æ ‡é¢˜ä¸‹åŠ ä¸€æ¡åˆ†å‰²çº¿ */
  margin-bottom: 4px; /* å’Œä¸‹é¢çš„å‚ä¸è€…ä¿¡æ¯æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
}

.call-record-card .participants-info {
  /* è¿™ä¸ªæ–°å®¹å™¨è®©å¤´åƒå’Œâ€œä¸xxâ€èƒ½æ°´å¹³å¯¹é½ */
  display: flex;
  align-items: center;
}

/* å‚ä¸è€…åå­—çš„æ ·å¼å¾®è°ƒï¼Œè®©å®ƒä¸é‚£ä¹ˆçªå‡º */
.call-record-card .participants-names {
  margin-left: 12px;
  font-weight: 500; /* ä¸å†åŠ ç²— */
  font-size: 14px; /* ç¨å¾®å°ä¸€ç‚¹ */
  color: var(--text-secondary); /* ä½¿ç”¨æ¬¡è¦æ–‡å­—é¢œè‰² */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¯­éŸ³è½¬æ–‡å­—åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. è¯­éŸ³æ–‡å­—å†…å®¹çš„æ ·å¼ */
.voice-transcript {
  font-size: 14px; /* æ–‡å­—å¤§å° */
  line-height: 1.6; /* è¡Œé«˜ï¼Œè®©å¤šè¡Œæ–‡æœ¬æ›´æ˜“è¯» */
  color: var(--text-secondary); /* ä½¿ç”¨æ¬¡è¦æ–‡å­—é¢œè‰²ï¼Œä¸è¯­éŸ³æ¡åŒºåˆ† */
  padding: 8px 12px; /* å†…è¾¹è· */
  margin-top: 6px; /* å’Œä¸Šæ–¹çš„è¯­éŸ³æ¡æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
  background-color: rgba(0, 0, 0, 0.04); /* ç»™ä¸€ä¸ªæ·¡æ·¡çš„èƒŒæ™¯ï¼Œæ›´æœ‰å±‚æ¬¡æ„Ÿ */
  border-radius: 6px; /* åœ†è§’ */
  word-break: break-word; /* ç¡®ä¿é•¿æ–‡æœ¬èƒ½æ­£å¸¸æ¢è¡Œ */
  display: none; /* é»˜è®¤éšè— */
}

#phone-screen.dark-mode .voice-transcript {
  background-color: rgba(255, 255, 255, 0.1); /* å¤œé—´æ¨¡å¼ä¸‹çš„èƒŒæ™¯è‰² */
}

/* 2. æ—‹è½¬åŠ è½½åŠ¨ç”»çš„æ ·å¼ */
.loading-spinner {
  display: none; /* é»˜è®¤éšè— */
  width: 16px;
  height: 16px;
  border: 2px solid rgba(0, 0, 0, 0.2);
  border-top-color: var(--accent-color); /* æ—‹è½¬éƒ¨åˆ†çš„é¢œè‰² */
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 8px; /* å’Œæ³¢å½¢å›¾ã€æ—¶é•¿ä¿æŒä¸€ç‚¹é—´è· */
}

/* 3. å®šä¹‰æ—‹è½¬åŠ¨ç”» */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åˆ†äº«è®°å½•æŸ¥çœ‹å™¨æ ·å¼ä¿®æ­£ â–¼â–¼â–¼ */
#shared-history-viewer-content {
  display: flex;
  flex-direction: column; /* è®©æ°”æ³¡å‚ç›´æ’åˆ— */
  gap: 20px; /* åœ¨æ¯ä¸ªæ°”æ³¡ä¹‹é—´å¢åŠ 20åƒç´ çš„é—´è· */
  padding: 15px; /* åœ¨å®¹å™¨å››å‘¨ä¹Ÿå¢åŠ ä¸€äº›å†…è¾¹è·ï¼Œé¿å…æ°”æ³¡è´´è¾¹ */
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ’­æ”¾å™¨å’Œæ­Œè¯æ ·å¼ â–¼â–¼â–¼ */
#music-player-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 50;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding-top: 60px;
  background-color: rgba(0, 0, 0, 0.3);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-50px);
  transition:
    opacity 0.4s ease-out,
    transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#music-player-overlay.visible {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.music-player-window {
  width: 70%;
  min-height: 420px;
  background-color: rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 25px;
  box-shadow: 0 8px 32px 0 rgba(25, 25, 25, 0.37);
  border: 1px solid rgba(255, 255, 255, 0.18);
  padding: 25px;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: #1f1f1f;
  position: relative;
  justify-content: space-between;
  padding-bottom: 15px;
}

.music-player-top-actions {
  position: absolute;
  top: 15px;
  left: 15px;
  right: 15px;
  width: calc(100% - 30px);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.top-left-cluster {
  display: flex;
  align-items: center;
  gap: 15px;
}
#music-return-btn,
#music-exit-btn {
  background: none;
  border: none;
  font-size: 28px;
  font-weight: 300;
  cursor: pointer;
  color: #555;
  padding: 5px;
  line-height: 1;
}
#music-exit-btn {
  font-size: 24px;
  font-weight: 400;
}

.music-progress-bar-container {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 25px;
  margin-bottom: 10px;
}
.time-display {
  font-size: 11px;
  color: #888;
  width: 35px;
  text-align: center;
  flex-shrink: 0;
  font-family: "SF Mono", "Menlo", monospace;
}
.progress-bar {
  flex-grow: 1;
  height: 5px;
  background-color: #e5e5e5;
  border-radius: 2.5px;
  cursor: pointer;
}
.progress-bar-fill {
  width: 0%;
  height: 100%;
  background-color: #333;
  border-radius: 2.5px;
}

#music-lyrics-container {
  width: 100%;
  height: 192px;
  overflow: hidden;
  position: relative;
  -webkit-mask-image: linear-gradient(
    transparent,
    black 20%,
    black 80%,
    transparent
  );
  mask-image: linear-gradient(transparent, black 20%, black 80%, transparent);
}

#music-lyrics-list {
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.lyric-line {
  padding: 4px 0;
  font-size: 14px;
  color: #666;
  text-align: center;
  line-height: 1.5;
  transition: all 0.5s ease;
  opacity: 0.7;
  transform: scale(0.95);
}

.lyric-line.active {
  font-size: 16px;
  color: #000;
  opacity: 1;
  transform: scale(1);
}

.music-player-controls-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.music-controls {
  margin-top: 0;
}

#music-return-btn,
#music-exit-btn,
#music-playlist-btn {
  position: relative;
}

#music-return-btn {
  top: -2px;
}
#music-playlist-btn {
  top: -3px;
}

.playlist-item-actions {
  display: flex;
  align-items: center;
  gap: 15px;
}
.playlist-action-btn {
  font-size: 18px;
  color: #888;
  cursor: pointer;
  transition: color 0.2s;
}
.playlist-action-btn:hover {
  color: #000;
}
.delete-track-btn {
  font-size: 24px;
  color: #ff3b30;
}
.delete-track-btn:hover {
  color: #c00;
}
.lyrics-btn {
  font-weight: 500;
}

/* â–¼â–¼â–¼ ã€æœ€ç»ˆå¤´åƒæ”¾å¤§ç‰ˆã€‘è¯·ç”¨è¿™å—ä»£ç æ›¿æ¢æ‰€æœ‰ç›¸å…³çš„å¤´åƒå°ºå¯¸è§„åˆ™ â–¼â–¼â–¼ */

/* 1. æ™®é€šå¤´åƒæ ·å¼ï¼ˆæ— æ¡†ï¼‰ */
.message-bubble .avatar {
  width: 38px; /* â˜… ä¿®æ”¹ç‚¹ï¼šå°†å°ºå¯¸ä» 34px æ”¾å¤§åˆ° 42px */
  height: 38px; /* â˜… ä¿®æ”¹ç‚¹ï¼šé«˜åº¦ä¹ŸåŒæ­¥æ”¾å¤§ */
  border-radius: 20%;
  object-fit: cover;
  flex-shrink: 0;
}

/* 2. å¸¦æ¡†å¤´åƒçš„å®¹å™¨æ ·å¼ */
.avatar-with-frame {
  position: relative;
  width: 41px; /* â˜… ä¿®æ”¹ç‚¹ï¼šå°ºå¯¸ä¸æ™®é€šå¤´åƒä¿æŒä¸€è‡´ */
  height: 41px; /* â˜… ä¿®æ”¹ç‚¹ï¼šé«˜åº¦ä¹ŸåŒæ­¥æ”¾å¤§ */
  flex-shrink: 0;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ’¤å›æ¶ˆæ¯æ ·å¼ â–¼â–¼â–¼ */

/* 1. æ’¤å›æ¶ˆæ¯çš„å ä½ç¬¦æ ·å¼ */
.recalled-message-placeholder {
  align-self: center; /* å±…ä¸­æ˜¾ç¤º */
  padding: 4px 12px;
  margin: 5px 0;
  background-color: rgba(0, 0, 0, 0.1);
  color: var(--text-secondary);
  font-size: 12px;
  border-radius: 10px;
  text-align: center;
  max-width: 80%;
  cursor: pointer; /* è®©å®ƒçœ‹èµ·æ¥å¯ä»¥ç‚¹å‡» */
}

/* 2. å¤œé—´æ¨¡å¼ä¸‹çš„é€‚é… */
#phone-screen.dark-mode .recalled-message-placeholder {
  background-color: rgba(255, 255, 255, 0.15);
}

/* 3. AIæ’¤å›æ¶ˆæ¯æ—¶çš„åŠ¨ç”»æ•ˆæœ */
@keyframes recall-animation {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.8);
  }
}

.message-wrapper.recalled-animation {
  animation: recall-animation 0.3s ease-out forwards;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ’¤å›æ¶ˆæ¯æ ·å¼ä¿®æ­£ â–¼â–¼â–¼ */

/* å¼ºåˆ¶æ’¤å›æ¶ˆæ¯çš„å ä½ç¬¦ä¸æ¢è¡Œï¼Œå¹¶ä¿æŒå†…å®¹å±…ä¸­ */
.recalled-message-placeholder {
  white-space: nowrap; /* æ ¸å¿ƒï¼šç¦æ­¢æ–‡æœ¬æ¢è¡Œ */
  display: inline-block; /* è®©èƒŒæ™¯æ ¹æ®å†…å®¹è‡ªé€‚åº”å®½åº¦ */
  padding: 4px 12px;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ä¸–ç•Œä¹¦åˆ†ç±»åˆ—è¡¨æ ·å¼ â–¼â–¼â–¼ */
.world-book-group-container {
  border-bottom: 1px solid var(--border-color);
}
.world-book-group-container:first-child {
  border-top: 1px solid var(--border-color);
}
.world-book-group-header {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  cursor: pointer;
  background-color: #f7f7f7;
}
.world-book-group-header .arrow {
  font-size: 14px;
  margin-right: 8px;
  transition: transform 0.2s ease;
}
.world-book-group-header.collapsed .arrow {
  transform: rotate(-90deg);
}
.world-book-group-header .group-name {
  font-weight: 600;
  font-size: 15px;
}
.world-book-group-content {
  max-height: 100000px; /* <--- å°±æ˜¯ä¿®æ”¹è¿™é‡Œï¼ŒæŠŠå€¼æ”¹å¤§å³å¯ */
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}
.world-book-group-content.collapsed {
  max-height: 0;
}
#phone-screen.dark-mode .world-book-group-header {
  background-color: #1c1c1e;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¢åŒ…/è½¬è´¦æ¨¡æ€æ¡†é¡µç­¾æ ·å¼ â–¼â–¼â–¼ */
.frame-tabs {
  display: flex;
  background-color: #f0f0f0;
  padding: 4px;
  margin: 15px;
  border-radius: 8px;
}
.frame-tab {
  flex: 1;
  text-align: center;
  padding: 8px;
  font-size: 14px;
  font-weight: 500;
  color: #555;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.2s ease-in-out;
}
.frame-tab.active {
  background-color: #ffffff;
  color: #000000;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µå…¨æ–°çš„CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* 1. åˆ†ç±»æ–‡ä»¶å¤¹çš„æ ·å¼ */
.wb-category-header {
  display: flex;
  align-items: center;
  padding: 10px 12px;
  cursor: pointer;
  background-color: #f0f2f5; /* ç»™æ–‡ä»¶å¤¹ä¸€ä¸ªæ·¡æ·¡çš„èƒŒæ™¯è‰²ä»¥åŒºåˆ† */
  font-weight: 600; /* åŠ ç²—å­—ä½“ */
}
#phone-screen.dark-mode .wb-category-header {
  background-color: #2c2c2e; /* å¤œé—´æ¨¡å¼ä¸‹çš„èƒŒæ™¯è‰² */
}

/* 2. å±•å¼€/æ”¶èµ·çš„å°ç®­å¤´ */
.wb-category-header .arrow {
  font-size: 12px;
  margin-right: 8px;
  transition: transform 0.2s ease;
}

/* 3. å½“æ–‡ä»¶å¤¹æ”¶èµ·æ—¶ï¼Œç®­å¤´æ—‹è½¬ */
.wb-category-header.collapsed .arrow {
  transform: rotate(-90deg);
}

/* 4. å­˜æ”¾ä¹¦ç±æ¡ç›®çš„å®¹å™¨ */
.wb-book-container {
  padding-left: 20px; /* æ ¸å¿ƒï¼šè®©ä¹¦ç±æ¡ç›®å‘å†…ç¼©è¿›ï¼Œçœ‹èµ·æ¥åƒåœ¨æ–‡ä»¶å¤¹é‡Œ */
  max-height: 100000px; /* ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å€¼ï¼Œç”¨äºåŠ¨ç”» */
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}

/* 5. å½“æ–‡ä»¶å¤¹æ”¶èµ·æ—¶ï¼Œä¹¦ç±å®¹å™¨çš„é«˜åº¦å˜ä¸º0ï¼Œå®ç°åŠ¨ç”»æ•ˆæœ */
.wb-book-container.collapsed {
  max-height: 0;
}

/* 6. å•ä¸ªä¹¦ç±æ¡ç›®ï¼ˆè¦†ç›–é»˜è®¤çš„labelæ ·å¼ï¼Œå¾®è°ƒé—´è·ï¼‰ */
.wb-book-container label {
  padding: 8px 12px;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ä¸–ç•Œä¹¦å…³è”é€‰æ‹©å™¨ - è§†è§‰ä¼˜åŒ– â–¼â–¼â–¼ */

/* 1. è®©åˆ†ç±»æ ‡é¢˜æ›´çªå‡º */
.wb-category-header > span:last-of-type {
  font-size: 14px;
  font-weight: 700; /* åŠ ç²— */
  color: var(--text-primary);
}

/* 2. ä¸ºç®­å¤´è®¾ç½®ä¸€ä¸ªæ¼‚äº®çš„é¢œè‰²å¾ªç¯ */
#world-book-checkboxes-container
  .wb-category-header:nth-of-type(6n + 1)
  .arrow {
  color: #007bff;
} /* è“è‰² */
#world-book-checkboxes-container
  .wb-category-header:nth-of-type(6n + 2)
  .arrow {
  color: #28a745;
} /* ç»¿è‰² */
#world-book-checkboxes-container
  .wb-category-header:nth-of-type(6n + 3)
  .arrow {
  color: #fd7e14;
} /* æ©™è‰² */
#world-book-checkboxes-container
  .wb-category-header:nth-of-type(6n + 4)
  .arrow {
  color: #6f42c1;
} /* ç´«è‰² */
#world-book-checkboxes-container
  .wb-category-header:nth-of-type(6n + 5)
  .arrow {
  color: #dc3545;
} /* çº¢è‰² */
#world-book-checkboxes-container
  .wb-category-header:nth-of-type(6n + 6)
  .arrow {
  color: #ffc107;
} /* é»„è‰² */

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* === å¤´åƒæ¡†é€‰æ‹©æ¨¡æ€æ¡†æ ·å¼ (è¿™æ˜¯æ–°æ·»åŠ çš„) === */
.change-frame-btn {
  padding: 6px 10px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 5px;
  cursor: pointer;
  font-size: 13px;
  margin-left: 10px;
}

#avatar-frame-modal .modal-content {
  height: 70%; /* è®©çª—å£é«˜ä¸€ç‚¹ */
}

#avatar-frame-modal .modal-body {
  padding: 0;
  display: flex;
  flex-direction: column;
}

.frame-tabs {
  display: flex;
  border-bottom: 1px solid var(--border-color);
  flex-shrink: 0;
}

.frame-tab {
  flex: 1;
  padding: 12px;
  text-align: center;
  font-weight: 500;
  cursor: pointer;
  color: var(--text-secondary);
  border-bottom: 2px solid transparent;
}

.frame-tab.active {
  color: var(--accent-color);
  border-bottom-color: var(--accent-color);
}

.frame-content {
  flex-grow: 1;
  overflow-y: auto;
  padding: 15px;
}

.frame-grid {
  display: grid;
  grid-template-columns: repeat(
    auto-fill,
    minmax(70px, 1fr)
  ); /* æ¯è¡Œè‡ªåŠ¨å¡«å……ï¼Œæœ€å°70pxå®½ */
  gap: 15px;
}

.frame-item {
  aspect-ratio: 1 / 1; /* ä¿æŒæ­£æ–¹å½¢ */
  border: 2px solid transparent;
  border-radius: 10px;
  cursor: pointer;
  background-color: #f0f0f0;
  background-size: cover;
  background-position: center;
  padding: 5px;
  transition: all 0.2s ease;
  position: relative; /* ä¸ºé¢„è§ˆå›¾åšå‡†å¤‡ */
}

.frame-item.selected {
  border-color: var(--accent-color);
  transform: scale(1.05);
}

.frame-item .preview-avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

.frame-item .preview-frame {
  position: absolute;
  top: -7px;
  left: 0;
  width: 100%;
  height: 100%;
}

/* â–¼â–¼â–¼ æŠŠè¿™äº›CSSåŠ å›å» â–¼â–¼â–¼ */

.avatar-with-frame .avatar-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%; /* å¸¦æ¡†çš„å¤´åƒé€šå¸¸æ˜¯åœ†çš„ */
  object-fit: cover;
  z-index: 1;
}
/* â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘è¯·ç”¨è¿™æ•´å—ä»£ç ï¼Œæ›¿æ¢æ‰æ—§çš„èŠå¤©å’Œå¿ƒå£°å¤´åƒæ¡†è§„åˆ™ â–¼â–¼â–¼ */

.avatar-with-frame .avatar-frame,
#inner-voice-avatar-frame {
  position: absolute;
  /* æ ¸å¿ƒä¿®æ”¹1ï¼šå°†å®½é«˜ç»Ÿä¸€è®¾ç½®ä¸º125%ï¼Œç¡®ä¿èƒ½å®Œå…¨åŒ…è£¹34pxçš„å¤´åƒï¼Œå¹¶ç•™å‡ºæ¼‚äº®çš„è¾¹è· */
  width: 125%;
  height: 125%;

  /* æ ¸å¿ƒä¿®æ”¹2ï¼šä½¿ç”¨æ ‡å‡†çš„-50%æ¥ç²¾ç¡®å®šä½ï¼Œç¡®ä¿å¤´åƒæ¡†å®Œç¾å±…ä¸­ */
  transform: translate(-50%, -50%);

  /* æ ¸å¿ƒä¿®æ”¹3ï¼šå°†å®šä½åŸºç‚¹ä¹Ÿæ”¹ä¸ºæ ‡å‡†çš„50%ï¼Œä¸transformé…åˆä½¿ç”¨ */
  top: 50%;
  left: 50%;

  z-index: 2;
  pointer-events: none;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€æœ€ç»ˆç¾åŒ–ç‰ˆã€‘èŠå¤©åˆ—è¡¨å·¦æ»‘ç½®é¡¶åŠŸèƒ½æ ·å¼ (å·²ä¿®å¤Bug) â–¼â–¼â–¼ */

/* 1. å¤–å±‚åŒ…è£¹å®¹å™¨ (å·²ç§»é™¤ display:flex) */
.chat-list-item-swipe-container {
  position: relative;
  overflow: hidden;
}

/* 2. å¯æ»‘åŠ¨çš„å†…å®¹åŒº (ä¿æŒä¸å˜) */
.chat-list-item-content {
  position: relative;
  z-index: 2;
  background-color: var(--secondary-bg);
  transition:
    transform 0.3s ease,
    background-color 0.3s ease;
  width: 100%;
  flex-shrink: 0;
}

/* 3. ã€æ ¸å¿ƒä¿®æ”¹1ã€‘ç½®é¡¶èŠå¤©æ—¶ï¼Œä½¿ç”¨å¯¹æ¯”åº¦æ›´å¼ºçš„èƒŒæ™¯è‰² */
.chat-list-item-content.pinned {
  background-color: #f0f2f5; /* æ—¥é—´æ¨¡å¼ä¸‹çš„ç½®é¡¶é¢œè‰² (å·²åŠ æ·±) */
}
#phone-screen.dark-mode .chat-list-item-content.pinned {
  background-color: #3a3a3c; /* å¤œé—´æ¨¡å¼ä¸‹çš„ç½®é¡¶é¢œè‰² (å·²åŠ æ·±) */
}

/* 4. éšè—çš„æ“ä½œæŒ‰é’®åŒºåŸŸ (ä¿æŒä¸å˜) */
.swipe-actions {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  display: flex;
}

/* 5. å•ä¸ªæ“ä½œæŒ‰é’®çš„æ ·å¼ (ä¿æŒä¸å˜) */
.swipe-action-btn {
  height: 100%;
  padding: 0 20px;
  border: none;
  color: white;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 80px;
}

.swipe-action-btn.pin {
  background-color: #f0ad4e;
}
.swipe-action-btn.unpin {
  background-color: #777;
}
.swipe-action-btn.delete {
  background-color: #ff3b30;
}

/* 6. å½“å†…å®¹åŒºè¢«æ»‘å¼€æ—¶ (ä¿æŒä¸å˜) */
.chat-list-item-content.swiped {
  transform: translateX(-160px);
}

/* 7. åˆ†å‰²çº¿çš„æ­£ç¡®é€»è¾‘ (ä¿æŒä¸å˜) */
.chat-list-item {
  border-bottom: none;
}
.chat-list-item-swipe-container:not(:last-child) {
  border-bottom: 1px solid var(--border-color);
}
.chat-group-container {
  border-bottom: 1px solid var(--border-color);
}
.chat-group-container:first-of-type {
  border-top: 1px solid var(--border-color);
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ç”¨ä¸‹é¢è¿™æ®µã€æ–°æ ·å¼ã€‘ï¼Œæ›¿æ¢æ‰ä½ æ—§çš„ .date-stamp æ ·å¼ â–¼â–¼â–¼ */

/* æ—¥æœŸæˆ³çš„å¤–å±‚åŒ…è£¹ï¼Œè®©å®ƒåƒç³»ç»Ÿæ¶ˆæ¯ä¸€æ ·å±…ä¸­ */
.date-stamp-wrapper {
  justify-content: center;
  align-self: center;
  margin: 10px 0;
  max-width: 80%;
}

/* æ—¥æœŸæˆ³çš„æ°”æ³¡æœ¬èº« */
.date-stamp-bubble {
  background-color: rgba(0, 0, 0, 0.1);
  color: var(--text-secondary);
  font-size: 12px;
  padding: 4px 12px;
  border-radius: 10px;
}

/* é€‚é…å¤œé—´æ¨¡å¼ */
#phone-screen.dark-mode .date-stamp-bubble {
  background-color: rgba(255, 255, 255, 0.15);
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
.chat-list-time {
  font-size: 12px;
  color: var(--text-secondary);
  text-align: right;
  margin-left: 8px; /* å’Œä¸­é—´çš„ä¿¡æ¯åŒºæ‹‰å¼€ä¸€ç‚¹è·ç¦» */
  flex-shrink: 0; /* é˜²æ­¢åœ¨ç©ºé—´ä¸è¶³æ—¶è¢«å‹ç¼© */
  align-self: flex-start; /* è®©å®ƒå’Œé¡¶éƒ¨çš„åå­—å¯¹é½ */
  padding-top: 2px; /* å¾®è°ƒå‚ç›´ä½ç½® */
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
.chat-list-right-column {
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* è®©å†…å®¹é å³å¯¹é½ */
  gap: 4px; /* åœ¨æ—¶é—´å’Œçº¢ç‚¹ä¹‹é—´åŠ ä¸€ç‚¹ç‚¹é—´è· */
  flex-shrink: 0;
  margin-left: 8px;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é”å±ä¸å¯†ç ç•Œé¢æ ·å¼ â–¼â–¼â–¼ */

/* 1. é”å±ç•Œé¢çš„æ€»å®¹å™¨ */
#lock-screen {
  /* æ ¸å¿ƒï¼šç”¨ä¸€ä¸ªéå¸¸é«˜çš„ z-index ç¡®ä¿å®ƒèƒ½è¦†ç›–æ‰€æœ‰å…¶ä»–å±å¹• */
  z-index: 999;
  background-size: cover;
  background-position: center;
  color: white;
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* è®©æ—¶é’Ÿå’Œæç¤ºè¯­ä¸Šä¸‹åˆ†å¸ƒ */
  align-items: center;
  padding: 80px 20px 50px 20px;
  box-sizing: border-box;
  transition: transform 0.3s ease-out;
}

/* 2. é”å±æ—¶é’Ÿ (å¤ç”¨ä¸»å±å¹•æ—¶é’Ÿçš„æ ·å¼) */
#lock-clock-container {
  text-align: center;
  text-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
  flex-shrink: 0;
}
#lock-main-time {
  font-size: 80px;
  font-weight: 200;
}
#lock-main-date {
  font-size: 18px;
  font-weight: 500;
}

/* 3. â€œå‘ä¸Šè½»æ‰«â€çš„æç¤ºæ–‡å­—å’ŒåŠ¨ç”» */
#unlock-hint {
  font-size: 16px;
  font-weight: 500;
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  /* æ·»åŠ ä¸€ä¸ªå‘¼å¸åŠ¨ç”»ï¼Œå¸å¼•ç”¨æˆ·æ³¨æ„ */
  animation: hint-pulse 2s infinite ease-in-out;
}
@keyframes hint-pulse {
  0%,
  100% {
    opacity: 0.7;
    transform: translateY(0);
  }
  50% {
    opacity: 1;
    transform: translateY(-5px);
  }
}

/* 4. å¯†ç è¾“å…¥å¼¹çª—çš„é®ç½©å±‚ */
#password-modal-overlay {
  /* ä½¿ç”¨ä¸€ä¸ªåŠé€æ˜çš„æ¯›ç»ç’ƒæ•ˆæœèƒŒæ™¯ */
  background-color: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  z-index: 1000; /* æ¯”é”å±æ›´é«˜ï¼Œç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
}

/* 5. å¯†ç è¾“å…¥å¼¹çª—çš„å†…å®¹åŒº */
.password-modal-content {
  background-color: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  width: 280px;
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
  text-align: center;
  display: flex;
  flex-direction: column;
  gap: 15px;
  color: #333;
}
.password-modal-content p {
  font-size: 17px;
  font-weight: 600;
  margin: 0;
}

/* 6. å¯†ç è¾“å…¥æ¡† */
#password-input-field {
  width: 100%;
  padding: 12px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  font-size: 16px;
  text-align: center;
  box-sizing: border-box;
  background-color: rgba(255, 255, 255, 0.7);
}
#password-input-field:focus {
  outline: none;
  border-color: var(--accent-color);
}

/* 7. å¯†ç å¼¹çª—çš„æŒ‰é’®åŒºåŸŸ */
.password-actions {
  display: flex;
  gap: 10px;
  margin-top: 5px;
}
.password-actions button {
  flex: 1;
  padding: 12px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
}
#password-cancel-btn {
  background-color: #e9ecef;
  color: #495057;
}
#password-confirm-btn {
  background-color: var(--accent-color);
  color: white;
}

/* 8. å¯†ç é”™è¯¯æ—¶çš„æ™ƒåŠ¨åŠ¨ç”» */
@keyframes shake-error {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}
.password-modal-content.error {
  animation: shake-error 0.4s ease-in-out;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ æ—§çš„ .bubble-preset-manager æ ·å¼ â–¼â–¼â–¼ */

/* è¿™æ˜¯ä½ è¦ä¿®æ”¹å‰çš„ä»£ç  */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ°”æ³¡/APIæ ·å¼é¢„è®¾åŠŸèƒ½CSS â–¼â–¼â–¼ */
.bubble-preset-manager {
  display: flex;
  align-items: baseline; /* æ ¸å¿ƒä¿®æ”¹ï¼šä» center æ”¹ä¸º baseline */
  gap: 10px; /* å…ƒç´ ä¹‹é—´çš„é—´è· */
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* ä¸‹æ‹‰æ¡†çš„æ ·å¼ï¼Œè®©å®ƒå æ®å¤§éƒ¨åˆ†ç©ºé—´ */
.bubble-preset-manager select {
  flex-grow: 1; /* å æ®æ‰€æœ‰å‰©ä½™ç©ºé—´ */
}

/* ç®¡ç†æŒ‰é’®çš„æ ·å¼ï¼Œè®©å®ƒå°å·§ç²¾è‡´ */
.bubble-preset-manager .action-btn {
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
  padding: 8px 10px;
  font-size: 13px;
  background-color: #e9ecef;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
  border-radius: 5px;
  cursor: pointer;
  font-weight: 500;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* 1. è®©é”å±å’Œä¸»å±å¹•å¯ä»¥å †å  */
/* æ ¸å¿ƒï¼šæŠŠé”å±å’Œä¸»å±å¹•éƒ½è®¾ä¸ºç»å¯¹å®šä½ï¼Œè¿™æ ·å®ƒä»¬æ‰èƒ½é‡å  */
#lock-screen,
#home-screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* 2. å®šä¹‰æ¯›ç»ç’ƒèƒŒæ™¯å±‚çš„æ ·å¼ */
#lock-screen-background-blur {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1; /* ã€æ ¸å¿ƒä¿®æ”¹1ã€‘å®ƒçš„å±‚çº§ç°åœ¨å’Œä¸»å±å¹•ä¸€æ ·ä½ */

  background-size: cover;
  background-position: center;

  /* ã€æ ¸å¿ƒä¿®æ”¹2ã€‘é­”æ³•åœ¨è¿™é‡Œï¼æˆ‘ä»¬ç›´æ¥æ¨¡ç³Šè¿™ä¸ªå…ƒç´ æœ¬èº« */
  filter: blur(20px);
  -webkit-filter: blur(20px);

  /* (å¯é€‰ä½†æ¨è) è½»å¾®æ”¾å¤§å¯ä»¥é¿å…æ¨¡ç³Šåè¾¹ç¼˜å˜æš—ï¼Œæ•ˆæœæ›´å¥½ */
  transform: scale(1.1);

  /* ã€æ ¸å¿ƒä¿®æ”¹3ã€‘é»˜è®¤éšè—ï¼Œä¸”å¸¦æœ‰æ·¡å…¥æ·¡å‡ºæ•ˆæœ */
  display: none;
  opacity: 0;
  transition: opacity 0.3s ease-out;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ä»è¿™é‡Œå¼€å§‹å¤åˆ¶ â–¼â–¼â–¼ */

/* === ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘ä¸–ç•Œä¹¦é€‰æ‹©å™¨åˆ—è¡¨æ ·å¼ === */

/* 1. åˆ†ç±»æ–‡ä»¶å¤¹è¡Œæ ·å¼ï¼šç”¨flexå’Œgapåˆ›å»ºå›ºå®šé—´è·ï¼Œéå¸¸ç¨³å®š */
.wb-category-header {
  display: flex;
  align-items: center;
  gap: 8px; /* ç®­å¤´ã€å¤é€‰æ¡†ã€æ–‡å­—ä¹‹é—´çš„å›ºå®šé—´è· */
  padding: 10px 12px;
  cursor: pointer;
  background-color: #f0f2f5;
  font-weight: 600;
  overflow: hidden; /* é˜²æ­¢ä»»ä½•æ„å¤–æº¢å‡º */
}

/* 2. åˆ†ç±»æ–‡ä»¶å¤¹é‡Œçš„æ–‡å­—æ ·å¼ï¼šåªè´Ÿè´£æˆªæ–­ï¼Œä¸è´Ÿè´£å¸ƒå±€ */
.wb-category-header > span:last-of-type {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 1; /* å…è®¸æ–‡å­—éƒ¨åˆ†åœ¨ç©ºé—´ä¸è¶³æ—¶è¢«å‹ç¼© */
}

/* 3. ã€æ ¸å¿ƒä¿®å¤ã€‘ä¸ºåˆ†ç±»å’Œä¹¦ç›®é‡Œçš„å¤é€‰æ¡†â€œè§£ç»‘â€å…¨å±€æ ·å¼ï¼ */
.wb-category-header input[type="checkbox"],
.wb-book-container input[type="checkbox"] {
  width: auto !important; /* è®©å®ƒæ¢å¤è‡ªå·±çš„å¤©ç„¶å¤§å°ï¼Œ!importantç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§ */
  flex-shrink: 0; /* é˜²æ­¢å®ƒè¢«å‹ç¼©ï¼Œä¿æŒå®Œæ•´ */
}

/* 4. å…·ä½“ä¹¦ç›®è¡Œçš„æ ·å¼ï¼šå¼ºåˆ¶ä»å·¦è¾¹å¼€å§‹æ’åˆ—ï¼Œè§£å†³ä¸åŒè®¾å¤‡çš„æ˜¾ç¤ºå·®å¼‚ */
.wb-book-container label {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* å¼ºåˆ¶æ‰€æœ‰å†…å®¹ä»å·¦è¾¹å¼€å§‹å¯¹é½ */
  padding: 8px 12px;
  gap: 10px; /* å¤é€‰æ¡†å’Œæ–‡å­—çš„é—´è· */
  overflow: hidden;
}

/* 5. å…·ä½“ä¹¦ç›®çš„æ–‡å­—æ ·å¼ */
.wb-book-container label .wb-book-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: left;
  flex-shrink: 1; /* åŒæ ·å…è®¸å®ƒè¢«å‹ç¼© */
}

/* 6. å¤œé—´æ¨¡å¼é€‚é… (ä¿æŒä¸å˜) */
#phone-screen.dark-mode .wb-category-header {
  background-color: #2c2c2e;
}

/* 7. å°ç®­å¤´çš„æ ·å¼ (ä¿æŒä¸å˜) */
.wb-category-header .arrow {
  font-size: 12px;
  transition: transform 0.2s ease;
  flex-shrink: 0; /* é˜²æ­¢ç®­å¤´è¢«å‹ç¼© */
}
.wb-category-header.collapsed .arrow {
  transform: rotate(-90deg);
}

/* 8. ä¹¦ç±å®¹å™¨çš„æ ·å¼ (ä¿æŒä¸å˜) */
.wb-book-container {
  padding-left: 20px;
  max-height: 1000px;
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}
.wb-book-container.collapsed {
  max-height: 0;
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é¼ æ ‡æ‹–åŠ¨å·¥å…·æ æ—¶çš„æ‰‹åŠ¿æ ·å¼ â–¼â–¼â–¼ */
#chat-input-actions-top.grabbing {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  user-select: none; /* é˜²æ­¢æ‹–åŠ¨æ—¶é€‰ä¸­æ–‡æœ¬ */
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€SVGç»ˆæç‰ˆã€‘å‘é€å®šä½åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. åŸºç¡€å¡ç‰‡å’Œæ°”æ³¡æ ·å¼ (ä¿æŒä¸å˜) */
.message-bubble.is-location .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}
.location-card {
  width: 230px;
  background-color: #f7f7f7;
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid #e0e0e0;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
}

/* 2. ã€æ ¸å¿ƒå‡çº§ã€‘åœ°å›¾åŒºåŸŸç°åœ¨ç›´æ¥ç”¨äºå®¹çº³SVG */
.location-map-area {
  height: 90px;
  background-color: #f0f2f5;
  background-image:
    linear-gradient(rgba(0, 0, 0, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
  background-size: 20px 20px;
  padding: 5px; /* ç»™SVGä¸€ç‚¹å‘¼å¸ç©ºé—´ */
  box-sizing: border-box;
}
.location-map-area svg {
  width: 100%;
  height: 100%;
}

/* 3. ã€å…¨æ–°ã€‘SVGå†…éƒ¨å…ƒç´ çš„æ ·å¼ */
/* è½¨è¿¹æ›²çº¿ */
.svg-trajectory-path {
  stroke-width: 2px;
  stroke: rgba(180, 180, 180, 0.8);
  stroke-dasharray: 3 3; /* è™šçº¿æ•ˆæœ */
  fill: none;
}
/* å®šä½ç‚¹ (èµ·ç‚¹/ç»ˆç‚¹) */
.svg-pin {
  stroke-width: 2px;
  stroke: white;
}
.svg-pin.user-pin {
  fill: #4caf50;
} /* ç»¿è‰²ç”¨æˆ·ç‚¹ */
.svg-pin.ai-pin {
  fill: #ff5252;
} /* çº¢è‰²AIç‚¹ */

/* è„šå°å›¾æ ‡ */
.svg-footprint {
  font-size: 14px;
  fill: rgba(0, 0, 0, 0.4);
}
/* é€”ç»ç‚¹åœ°åæ ‡ç­¾ */
.svg-location-label {
  font-size: 10px;
  font-weight: 500;
  fill: #555;
  /* ç»™æ–‡å­—ä¸€ç‚¹ç™½è‰²çš„æè¾¹ï¼Œè®©å®ƒåœ¨å¤æ‚èƒŒæ™¯ä¸‹æ›´æ¸…æ™° */
  stroke: white;
  stroke-width: 2px;
  paint-order: stroke;
}

/* 4. å¡ç‰‡åº•éƒ¨ä¿¡æ¯åŒºåŸŸ (å·²å‡çº§) */
.location-info {
  padding: 12px;
}
.location-address {
  font-size: 13px;
  line-height: 1.6;
  margin-bottom: 8px;
  color: #333;
}
.location-address .name-tag {
  font-weight: 600;
  color: var(--text-primary);
}
.location-address p.hidden {
  display: none;
}
.location-distance {
  font-size: 12px;
  color: var(--text-secondary);
  border-top: 1px solid #e9e9e9;
  padding-top: 8px;
  text-align: center;
}
/* â–²â–²â–² å‡çº§ç‰ˆCSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–° | ä¿®å¤ç‰ˆã€‘â€œä¸€é”®é‡rollâ€æŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */
#reroll-btn {
  /* --- ç›´æ¥å¤ç”¨å…¶ä»–æŒ‰é’®çš„æ ·å¼ï¼Œç¡®ä¿å¤–è§‚ç»Ÿä¸€ --- */
  font-size: 24px;
  padding: 0;
  width: 38px;
  height: 38px;
  line-height: 38px;
  text-align: center;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.5);
  color: var(--text-primary);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  /* æ ¸å¿ƒä¿®å¤ï¼šè¾¹æ¡†é¢œè‰²å’Œå…¶ä»–æŒ‰é’®ç»Ÿä¸€ */
  border: 1px solid rgba(0, 0, 0, 0.05);
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;

  /* ç§»é™¤å¯¼è‡´å·®å¼‚çš„é˜´å½± */
  box-shadow: none;

  /* ä¿ç•™åŸæœ‰çš„äº¤äº’åŠ¨æ•ˆ */
  transition:
    opacity 0.2s,
    transform 0.1s;
}

#reroll-btn:hover {
  opacity: 0.8;
}

#reroll-btn:active {
  transform: scale(0.9);
}

#reroll-btn svg {
  width: 20px;
  height: 20px;
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€æœ€ç»ˆç¾åŒ–ç‰ˆã€‘æ‚¬æµ®æ­Œè¯æ æ ·å¼ â–¼â–¼â–¼ */
#floating-lyrics-bar {
  position: absolute;
  /* ã€é—®é¢˜1ä¿®å¤ã€‘é»˜è®¤ä½ç½®æ”¹ä¸ºé¡¶éƒ¨ */
  top: 50px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 100;

  display: none;
  align-items: center;
  justify-content: center;
  gap: 10px; /* åœ¨æ­Œè¯å’ŒæŒ‰é’®é—´å¢åŠ é—´è· */

  width: 90%;
  max-width: 320px; /* åŒæ—¶è®¾ä¸€ä¸ªæœ€å¤§åƒç´ å®½åº¦ï¼Œé¿å…åœ¨å®½å±ä¸Šè¿‡é•¿ */
  padding: 8px 12px; /* ç¨å¾®å¢åŠ ä¸€ç‚¹å†…è¾¹è·ä»¥é€‚åº”æ–°å®½åº¦ */
  background-color: rgba(0, 0, 0, 0);

  /* ã€é—®é¢˜3éœ€è¦ã€‘ä¸ºå­—ä½“é¢œè‰²å’ŒèƒŒæ™¯é€æ˜åº¦æ·»åŠ è¿‡æ¸¡åŠ¨ç”» */
  transition:
    background-color 0.3s,
    opacity 0.3s;

  color: white;
  font-size: 14px;
  font-weight: 500; /* å­—ä½“ç¨å¾®åŠ ç²— */
  text-align: center;
  border-radius: 12px;

  /* æ–‡å­—é˜´å½±ï¼Œè®©å®ƒåœ¨ä»»ä½•èƒŒæ™¯ä¸‹éƒ½æ¸…æ™° */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);

  cursor: pointer;
  user-select: none;

  /* ã€é—®é¢˜4éœ€è¦ã€‘ä¸ºå…³é—­æŒ‰é’®å‡†å¤‡ */
  overflow: visible; /* å…è®¸æŒ‰é’®è¶…å‡ºèŒƒå›´ */
}

/* ã€é—®é¢˜4éœ€è¦ã€‘å…³é—­æŒ‰é’®çš„æ ·å¼ */
#floating-lyrics-bar .close-btn,
#floating-lyrics-bar #lyrics-settings-btn {
  position: absolute;
  top: -8px;
  width: 20px;
  height: 20px;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  border-radius: 50%;
  border: 1px solid white;
  cursor: pointer;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: opacity 0.2s;
  display: flex; /* ç¡®ä¿SVGèƒ½å±…ä¸­ */
  align-items: center;
  justify-content: center;
}

/* æŠŠå…³é—­æŒ‰é’®å’Œè®¾ç½®æŒ‰é’®åˆ†å¼€æ”¾ç½® */
#floating-lyrics-bar .close-btn {
  right: -8px;
  line-height: 18px;
  font-size: 14px;
}
#floating-lyrics-bar #lyrics-settings-btn {
  right: 22px;
} /* æ”¾åœ¨å…³é—­æŒ‰é’®æ—è¾¹ */

/* é¼ æ ‡æ‚¬åœåœ¨æ•´ä¸ªæ­Œè¯æ ä¸Šæ—¶ï¼Œä¸€èµ·æ˜¾ç¤ºå®ƒä»¬ */
#floating-lyrics-bar:hover .close-btn,
#floating-lyrics-bar:hover #lyrics-settings-btn {
  opacity: 1;
}

#floating-lyrics-bar.dragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘â€œæŸ¥è§’è‰²æ‰‹æœºâ€åŠŸèƒ½ç›¸å…³æ ·å¼ â–¼â–¼â–¼ */

/* è§’è‰²é€‰æ‹©åˆ—è¡¨é¡¹ */
.character-select-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
}
.character-select-item:hover {
  background-color: #f5f5f5;
}
.character-select-item img {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  margin-right: 12px;
}
.character-select-item .name {
  font-weight: 500;
}

/* è§’è‰²æ‰‹æœºçš„èŠå¤©æ°”æ³¡ (ç®€åŒ–ç‰ˆ) */
.character-chat-bubble {
  padding: 8px 12px;
  border-radius: 12px;
  max-width: 80%;
  word-break: break-word;
  line-height: 1.5;
}
.character-chat-bubble.sent {
  background-color: #dcf8c6;
  align-self: flex-end; /* è‡ªå·±å‘çš„é å³ */
}
.character-chat-bubble.received {
  background-color: #ffffff;
  align-self: flex-start; /* æ”¶åˆ°çš„é å·¦ */
}

/* â–¼â–¼â–¼ ã€ç¾åŒ–ç‰ˆã€‘è§’è‰²æ‰‹æœºæ•°æ®åˆ—è¡¨é¡¹æ ·å¼ â–¼â–¼â–¼ */
.character-data-item {
  padding: 12px 15px;
  border-bottom: 1px solid #f0f0f0; /* è¾¹æ¡†é¢œè‰²å˜æµ… */
  margin: 8px 10px; /* å¢åŠ å¤–è¾¹è·ï¼Œå½¢æˆå¡ç‰‡æ„Ÿ */
  border-radius: 8px; /* å¢åŠ åœ†è§’ */
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* å¢åŠ éå¸¸æ·¡çš„é˜´å½± */
  transition:
    transform 0.2s,
    box-shadow 0.2s; /* å¢åŠ æ‚¬æµ®åŠ¨ç”» */
  background-color: var(--secondary-bg);
}

.character-data-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.character-data-item .title {
  font-weight: 600;
  margin-bottom: 5px;
  color: #333; /* æ ‡é¢˜é¢œè‰²åŠ æ·± */
}
.character-data-item .content {
  font-size: 14px;
  color: #555;
  line-height: 1.6;
  white-space: pre-wrap;
}
.character-data-item .meta {
  font-size: 12px;
  color: #888;
  margin-top: 10px;
  padding-top: 8px; /* åœ¨metaä¸Šæ–¹å¢åŠ ä¸€ç‚¹è·ç¦»å’Œåˆ†å‰²çº¿ */
  border-top: 1px solid #f5f5f5;
  display: flex;
  justify-content: space-between;
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€V3ä¿®æ­£ç‰ˆã€‘è§’è‰²æ‰‹æœºâ€œç”»ä¸­ç”»â€æ ·å¼ä¿®æ­£ â–¼â–¼â–¼ */

/* 1. ã€æ ¸å¿ƒä¿®æ­£1ã€‘è®©æ‰‹æœºå¤–å£³å®¹å™¨å æ®æ•´ä¸ªå±å¹•ï¼Œå¹¶ç”¨å†…è¾¹è·æŠŠæ‰‹æœºæ¡†â€œæ¨â€ä¸‹æ¥ */
#character-phone-container {
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #ffffff; /* â˜…â˜…â˜… æŠŠè¿™é‡Œæ”¹ä¸ºçº¯ç™½è‰² â˜…â˜…â˜… */
  padding-top: 50px;
  box-sizing: border-box; /* ç¡®ä¿å†…è¾¹è·è®¡ç®—æ­£ç¡® */
}

/* 2. æ‰‹æœºè¾¹æ¡†æ ·å¼ (ä¿®æ”¹å) */
.character-phone-frame {
  width: 95%;
  height: 98%;
  background-color: #111;
  border-radius: 30px;
  padding: 10px;
  box-shadow: none; /* â˜…â˜…â˜… å°±æ˜¯ä¿®æ”¹è¿™é‡Œ â˜…â˜…â˜… */
  box-sizing: border-box;
  position: relative;
  display: flex;
}

/* â–¼â–¼â–¼ ç”¨ä¸‹é¢è¿™å—ã€å·²ä¿®å¤ã€‘çš„ä»£ç æ›¿æ¢æ—§çš„ #character-app-grid .app-icon .icon-bg è§„åˆ™ â–¼â–¼â–¼ */
#character-app-grid .app-icon .icon-bg {
  width: 65px; /* æ¢å¤åŸæ¥çš„å°ºå¯¸ */
  height: 65px; /* æ¢å¤åŸæ¥çš„å°ºå¯¸ */
  border-radius: 18px; /* æ¢å¤åŸæ¥çš„åœ†è§’ */
  background-color: #fff5f7; /* è®¾ç½®ä¸ºä½ æƒ³è¦çš„æ·¡ç²‰è‰²èƒŒæ™¯ */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* 3. ã€æ ¸å¿ƒä¿®æ­£2ã€‘ç¼©å°APPå›¾æ ‡å†…çš„SVG */
#character-app-grid .app-icon .icon-bg svg {
  width: 60%; /* â˜…â˜…â˜… å°†SVGçš„å®½åº¦ç¼©å°åˆ°å…¶å®¹å™¨çš„60% â˜…â˜…â˜… */
  height: 60%; /* â˜…â˜…â˜… é«˜åº¦ä¹ŸåŒæ­¥ç¼©å° â˜…â˜…â˜… */
}

/* 4. å…¶ä½™æ ·å¼ä¿æŒä¸å˜ */
.character-phone-inner-screen {
  flex-grow: 1;
  border-radius: 20px;
  overflow: hidden;
  position: relative;
  background-color: var(--secondary-bg) !important; /* ä½¿ç”¨å˜é‡ */
}
.character-phone-notch {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 20px;
  border-radius: 0 0 10px 10px;
  z-index: 10;
}
.character-phone-page {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  opacity: 0;
  visibility: hidden;
  transition:
    opacity 0.3s,
    visibility 0.3s;
}
.character-phone-page.active {
  opacity: 1;
  visibility: visible;
  z-index: 5;
}
/* â–¼â–¼â–¼ ç”¨è¿™å—ã€é€æ˜æ¯›ç»ç’ƒç‰ˆã€‘ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰æ—§çš„ .character-phone-header æ ·å¼ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€é€æ˜æ¯›ç»ç’ƒç‰ˆã€‘ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰æ—§çš„ .character-phone-header æ ·å¼ â–¼â–¼â–¼ */

.character-phone-header {
  flex-shrink: 0;
  margin: 10px 12px 10px; /* â˜… ä¿®æ”¹ç‚¹1: å°†ä¸Šè¾¹è· 35px æ”¹ä¸º 0ï¼Œè®©å®ƒè´´é¡¶ */
  height: 50px; /* â˜… ä¿®æ”¹ç‚¹2: å°†é«˜åº¦ä» 48px å¢åŠ åˆ° 56pxï¼Œè®©å®ƒæ›´é«˜ä¸€ç‚¹ */

  /* â˜… æ ¸å¿ƒä¿®æ”¹1ï¼šå˜æˆä¸€ä¸ªæ›´åœ†æ¶¦çš„èƒ¶å›Šå½¢çŠ¶ */
  border-radius: 24px; /* å°†åœ†è§’ä»16pxå¢åŠ åˆ°24pxï¼Œçœ‹èµ·æ¥æ›´åœ†æ¶¦ */

  /* â˜… æ ¸å¿ƒä¿®æ”¹2ï¼šè®¾ç½®ä¸€ä¸ªå‡ ä¹é€æ˜çš„ã€å¸¦æœ‰æ¯›ç»ç’ƒæ•ˆæœçš„èƒŒæ™¯ */
  background-color: rgba(180, 180, 180, 0.2); /* é™ä½ä¸é€æ˜åº¦ï¼Œè¥é€ é€æ˜æ„Ÿ */
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);

  /* â˜… æ ¸å¿ƒä¿®æ”¹3ï¼šè®©è¾¹æ¡†å’Œé˜´å½±æ›´ç²¾è‡´ï¼Œä»¥é€‚åº”é€æ˜æ„Ÿ */
  border: 1px solid rgba(255, 255, 255, 0.2); /* è¾¹æ¡†ä¹Ÿè°ƒå¾—æ›´é€æ˜ */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* é˜´å½±ç¨å¾®è°ƒæ•´ï¼Œæ›´æŸ”å’Œ */

  /* â˜… æ ¸å¿ƒä¿®æ”¹4ï¼šå¼ºåˆ¶æ–‡å­—å’Œå›¾æ ‡é¢œè‰²å˜ä¸ºç™½è‰²ï¼Œå¹¶åŠ ä¸Šé˜´å½±ä»¥ä¿è¯æ¸…æ™° */
  color: #ffffff; /* æ ‡é¢˜æ–‡å­—å˜ä¸ºç™½è‰² */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); /* ç»™æ–‡å­—åŠ ä¸€ç‚¹é˜´å½±ï¼Œé˜²æ­¢èƒŒæ™¯å¤ªäº®çœ‹ä¸æ¸… */

  /* å¸ƒå±€éƒ¨åˆ†ä¿æŒä¸å˜ */
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 12px;
  box-sizing: border-box;
  font-size: 16px;
}

/* â˜…â˜…â˜…ã€é‡è¦ã€‘ä¸ºäº†ç¡®ä¿æ‰€æœ‰å›¾æ ‡éƒ½å˜æˆç™½è‰²ï¼Œè¯·æŠŠä¸‹é¢è¿™æ®µæ–°ä»£ç ä¹ŸåŠ åˆ°<style>é‡Œ â˜…â˜…â˜… */
.character-phone-header .action-btn svg,
.character-phone-header .back-btn svg {
  color: #ffffff !important;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â˜…â˜…â˜…ã€é‡è¦ã€‘ä¸ºäº†ç¡®ä¿æ‰€æœ‰å›¾æ ‡éƒ½å˜æˆç™½è‰²ï¼Œè¯·æŠŠä¸‹é¢è¿™æ®µæ–°ä»£ç ä¹ŸåŠ åˆ°<style>é‡Œ â˜…â˜…â˜… */
.character-phone-header .action-btn svg,
.character-phone-header .back-btn svg {
  color: #ffffff !important;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

.character-phone-header .action-btn svg,
.character-phone-header .back-btn svg {
  color: var(--accent-color);
}
#character-chat-history-messages {
  background-color: var(
    --secondary-bg
  ) !important; /* ä½¿ç”¨å˜é‡ */ /* â˜…â˜…â˜… ç§»é™¤èƒŒæ™¯å›¾ç‰‡ â˜…â˜…â˜… */
}
/* â–²â–²â–² æ ·å¼ä¿®æ­£ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² æ ·å¼ä¿®æ­£ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è§’è‰²æ‰‹æœºå¾®ä¿¡é£æ ¼èŠå¤©æ°”æ³¡æ ·å¼ â–¼â–¼â–¼ */

/* 1. èŠå¤©è®°å½•ç•Œé¢çš„èƒŒæ™¯è‰² */
#character-chat-history-messages {
  /* ç§»é™¤ä¹‹å‰ç‰ˆæœ¬å¯èƒ½å­˜åœ¨çš„èƒŒæ™¯å›¾ç‰‡ */
  background-image: none;
}

/* 2. æ¶ˆæ¯æ°”æ³¡çš„é€šç”¨å®¹å™¨æ ·å¼ */
.character-chat-bubble-container {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  margin-bottom: 12px;
  max-width: 80%; /* é™åˆ¶æ°”æ³¡æœ€å¤§å®½åº¦ */
}

/* 3. æ°”æ³¡çš„å†…å®¹åŒºåŸŸ */
.character-chat-bubble {
  position: relative;
  padding: 8px 12px;
  line-height: 1.5;
  word-break: break-word;
  border-radius: 6px;
  font-size: 15px;
}

/* 4. å¤´åƒæ ·å¼ */
.character-chat-avatar {
  width: 36px;
  height: 36px;
  border-radius: 6px; /* å¾®ä¿¡é£æ ¼çš„åœ†è§’çŸ©å½¢å¤´åƒ */
  flex-shrink: 0;
}

/* --- æˆ‘æ–¹ï¼ˆè§’è‰²è‡ªå·±ï¼‰çš„æ°”æ³¡ --- */
.character-chat-bubble-container.sent {
  align-self: flex-end; /* æ•´ä½“é å³ */
  flex-direction: row-reverse; /* å¸ƒå±€åè½¬ï¼šå†…å®¹ -> å¤´åƒ */
}
.character-chat-bubble-container.sent .character-chat-bubble {
  background-color: #95ec69; /* å¾®ä¿¡ç»¿ */
  color: #000;
}
/* æˆ‘æ–¹æ°”æ³¡çš„å°å°¾å·´ */
.character-chat-bubble-container.sent .character-chat-bubble::after {
  content: "";
  position: absolute;
  right: -4px;
  top: 10px;
  width: 0;
  height: 0;
  border: 4px solid transparent;
  border-left-color: #95ec69;
  border-right: 0;
}

/* --- å¯¹æ–¹ï¼ˆNPCæˆ–ç”¨æˆ·ï¼‰çš„æ°”æ³¡ --- */
.character-chat-bubble-container.received {
  align-self: flex-start; /* æ•´ä½“é å·¦ */
}
/* å¯¹æ–¹æ°”æ³¡çš„å°å°¾å·´ */
.character-chat-bubble-container.received .character-chat-bubble::before {
  content: "";
  position: absolute;
  left: -4px;
  top: 10px;
  width: 0;
  height: 0;
  border: 4px solid transparent;
  border-right-color: #ffffff;
  border-left: 0;
}
/* â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢è¿™å—æ–°ä»£ç  â–¼â–¼â–¼ */
.character-chat-bubble-container.received .character-chat-bubble {
  background-color: #ffffff; /* å¾®ä¿¡ç™½ */
  color: #000;
}
/* â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² */
.sticker-image {
  /* æ ¸å¿ƒä¿®æ”¹ï¼šå°†æœ€å¤§å®½é«˜ä» 100px å¢åŠ åˆ° 140pxï¼Œè®©èŠå¤©ä¸­çš„è¡¨æƒ…åŒ…å˜å¤§ */
  max-width: 140px;
  max-height: 140px;
  display: block;
  object-fit: contain;
}
.sticker-item {
  position: relative;
  aspect-ratio: 1 / 1;
  border-radius: 10px;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* --- åŠŸèƒ½æ€§é‡ç½®ï¼šé’ˆå¯¹å›¾ç‰‡/è¡¨æƒ…åŒ…ï¼Œè®©æ°”æ³¡â€œæ¶ˆå¤±â€ --- */
.character-chat-bubble-container .character-chat-bubble:has(img.sticker-image) {
  background: transparent !important;
  padding: 0 !important;
  border-radius: 0;
}
.character-chat-bubble-container
  .character-chat-bubble:has(img.sticker-image)::before,
.character-chat-bubble-container
  .character-chat-bubble:has(img.sticker-image)::after {
  content: none !important;
}
/* â–²â–²â–² æ ·å¼æ·»åŠ ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è§’è‰²æ‰‹æœºæ–°å¢APPé¡µé¢æ ·å¼ â–¼â–¼â–¼ */

/* 1. ç›¸å†Œé¡µé¢çš„ç½‘æ ¼å¸ƒå±€ */
#character-album-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* æ¯è¡Œ3å¼ å›¾ */
  gap: 4px;
  padding: 4px;
}
.character-album-item {
  aspect-ratio: 1 / 1; /* ä¿æŒæ­£æ–¹å½¢ */
  background-color: #e0e0e0;
  cursor: pointer;
}
.character-album-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 2. é“¶è¡Œé¡µé¢çš„ä½™é¢æ˜¾ç¤º */
.character-bank-balance-card {
  margin: 15px;
  padding: 20px;
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: white;
  border-radius: 12px;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}
.character-bank-balance-card .label {
  font-size: 14px;
  opacity: 0.8;
}
.character-bank-balance-card .amount {
  font-size: 32px;
  font-weight: 600;
  margin-top: 5px;
}

/* 3. é“¶è¡Œäº¤æ˜“è®°å½•çš„é¢œè‰² */
.character-data-item .transaction-amount {
  font-weight: 600;
}
.character-data-item .transaction-amount.income {
  color: #4caf50; /* æ”¶å…¥ä¸ºç»¿è‰² */
}
.character-data-item .transaction-amount.expense {
  color: #f44336; /* æ”¯å‡ºä¸ºçº¢è‰² */
}

/* â–²â–²â–² æ ·å¼æ·»åŠ ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€V5ä¿®æ­£ç‰ˆã€‘è§’è‰²æ‰‹æœºç›¸å†Œç½‘æ ¼å¸ƒå±€ â–¼â–¼â–¼ */
#character-album-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* æ¯è¡Œ3å¼ å›¾ */
  gap: 4px;
  padding: 4px;
}
.character-album-item {
  aspect-ratio: 1 / 1; /* ä¿æŒæ­£æ–¹å½¢ */
  background-color: #e0e0e0;
  cursor: pointer;
}
.character-album-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
/* â–²â–²â–² æ ·å¼ä¿®æ­£ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘Markdownæ¸²æŸ“å¢å¼ºæ ·å¼ â–¼â–¼â–¼ */

/* 1. ä¸ºè§’è‰²æ‰‹æœºé‡Œçš„æ‰€æœ‰Markdownå†…å®¹è®¾ç½®åŸºç¡€æ ·å¼ */
.character-data-item .content h1,
.character-data-item .content h2,
.character-data-item .content h3,
.character-data-item .content p {
  margin: 0 0 10px 0; /* ç»Ÿä¸€æ ‡é¢˜å’Œæ®µè½çš„ä¸‹è¾¹è· */
}
.character-data-item .content h1 {
  font-size: 1.5em;
  font-weight: 600;
}
.character-data-item .content h2 {
  font-size: 1.3em;
  font-weight: 600;
}
.character-data-item .content h3 {
  font-size: 1.1em;
  font-weight: 600;
}

/* 2. åˆ é™¤çº¿æ ·å¼ */
.character-data-item .content del {
  color: #8a8a8a;
}

/* 3. é®æŒ¡/å‰§é€æ•ˆæœ */
.character-data-item .content .spoiler {
  background-color: #333;
  color: #333; /* æ–‡å­—å’ŒèƒŒæ™¯ä¸€ä¸ªè‰²ï¼Œå®ç°éšè— */
  padding: 0 4px;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}
/* ç‚¹å‡»æˆ–é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºå†…å®¹ */
.character-data-item .content .spoiler:hover,
.character-data-item .content .spoiler:active {
  background-color: #f0f0f0;
  color: #000;
}

/* â–²â–²â–² æ ·å¼æ·»åŠ ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è§’è‰²æ‰‹æœºæ—¥è®°ç¾åŒ–ä¸åˆ é™¤åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. è®©æ—¥è®°åˆ—è¡¨æœ‰æ›´å¥½çš„è¾¹è· */
#character-diary-list {
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 12px; /* å¢åŠ æ—¥è®°ä¹‹é—´çš„é—´è· */
}

/* 2. ç¾åŒ–å•ç¯‡æ—¥è®°å¡ç‰‡ */
#character-diary-list .character-data-item {
  background-color: #fffaf0; /* æ¸©æš–çš„ç±³é»„è‰²èƒŒæ™¯ */
  border-left: 4px solid #ffc107; /* å·¦ä¾§åŠ ä¸€æ¡è£…é¥°çº¿ */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  position: relative; /* ä¸ºäº†å®šä½åˆ é™¤æŒ‰é’® */
  padding-bottom: 35px; /* ä¸ºåº•éƒ¨çš„æ—¥æœŸç•™å‡ºç©ºé—´ */
}

/* 3. ç¾åŒ–æ—¥æœŸæ˜¾ç¤ºï¼ŒæŠŠå®ƒæ”¾åˆ°å³ä¸‹è§’ */
#character-diary-list .character-data-item .meta {
  position: absolute;
  bottom: 8px;
  right: 12px;
  border-top: none; /* ç§»é™¤åŸæ¥çš„ä¸Šè¾¹æ¡† */
  padding-top: 0;
  font-size: 11px;
  color: #bfa87a;
}

/* â–¼â–¼â–¼ ã€V6æœ€ç»ˆä¿®å¤ç‰ˆã€‘è§’è‰²æ‰‹æœºç›¸å†Œå¸ƒå±€é˜²æº¢å‡º â–¼â–¼â–¼ */

/* 1. ã€æ ¸å¿ƒã€‘ä¸ºç›¸å†Œç½‘æ ¼çš„å®¹å™¨å¼ºåˆ¶ç¦æ­¢æ°´å¹³æ»šåŠ¨ */
#character-album-grid.list-container {
  overflow-x: hidden;
}

/* 2. é‡æ–°å®šä¹‰ç½‘æ ¼å¸ƒå±€ */
#character-album-grid {
  display: grid;
  /* ã€æ ¸å¿ƒã€‘æ¯è¡Œ3ä¸ªï¼Œä½†è¿™æ¬¡æˆ‘ä»¬ç”¨calc()ç²¾ç¡®è®¡ç®—å®½åº¦ */
  grid-template-columns: repeat(3, calc(33.333% - 4px));
  gap: 6px; /* ç¨å¾®å¢å¤§é—´éš™ï¼Œè®©calcæœ‰è®¡ç®—ç©ºé—´ */
  padding: 6px; /* å†…è¾¹è·å’Œé—´éš™ä¿æŒä¸€è‡´ */
  box-sizing: border-box; /* ç¡®ä¿å†…è¾¹è·å’Œè¾¹æ¡†è¢«åŒ…å«åœ¨æ€»å®½åº¦å†… */
  align-content: start; /* <--- å°±æ˜¯åŠ ä¸Šè¿™ä¸€è¡Œï¼ */
}

/* 3. ç¨å¾®ç¼©å°å›¾ç‰‡ï¼Œç¡®ä¿å®ƒä»¬ä¸ä¼šæ’‘ç ´å®¹å™¨ */
.character-album-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block; /* ç§»é™¤å›¾ç‰‡ä¸‹æ–¹çš„å¾®å°ç©ºéš™ */
}

/* â–²â–²â–² æ ·å¼ä¿®æ­£ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€V6ç‹¬å®¶å®šåˆ¶ã€‘è§’è‰²æ‰‹æœºä¿¡çº¸é£æ ¼æ—¥è®°æ ·å¼ â–¼â–¼â–¼ */

/* 1. ã€æ ¸å¿ƒã€‘é‡å¡‘æ—¥è®°å¡ç‰‡ï¼Œè®©å®ƒåƒä¸€å¼ ä¿¡çº¸ */
#character-diary-list .character-data-item {
  background-color: #fdfaf2; /* æ¸©æš–ã€æŸ”å’Œçš„ç±³ç™½/æµ…é»„è‰²ï¼Œæ¨¡æ‹Ÿä¿¡çº¸ */
  border: 1px solid #eaddc7; /* æ·¡æ·¡çš„çº¸å¼ è¾¹ç¼˜è‰² */
  border-left: 3px solid #d4bda5; /* å·¦ä¾§åŠ ä¸€æ¡ç¨æ·±çš„çº¿ï¼Œåƒè£…è®¢çº¿ */
  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.06); /* æ›´æŸ”å’Œçš„é˜´å½± */
  position: relative;
  padding: 20px 15px 15px 20px; /* è°ƒæ•´å†…è¾¹è·ï¼Œç»™â€œå°ä¸œè¥¿â€ç•™å‡ºç©ºé—´ */
  font-family:
    Georgia, "Times New Roman", "Kaiti TC", "STKaiti", serif; /* ä½¿ç”¨æ›´å…¸é›…çš„è¡¬çº¿å­—ä½“ */
}

/* 2. ã€å°ä¸œè¥¿ã€‘ç”¨ä¼ªå…ƒç´ åœ¨å·¦ä¸Šè§’æ·»åŠ ä¸€ä¸ªç²¾è‡´çš„çº¸å¤¹ */
#character-diary-list .character-data-item::before {
  content: "ğŸ“"; /* è¿™æ˜¯ä¸€ä¸ªEmojiçº¸å¤¹ï¼Œç®€å•åˆæœ‰æ•ˆ */
  position: absolute;
  top: -12px;
  left: 15px;
  font-size: 24px;
  transform: rotate(-25deg); /* è®©çº¸å¤¹æœ‰ä¸€ä¸ªéšæ„çš„è§’åº¦ */
  opacity: 0.8;
}

/* 3. ã€æ ¸å¿ƒã€‘é‡ç½®Markdownå†…å®¹çš„å­—ä½“ï¼Œç¡®ä¿å®ƒä»¬ç»§æ‰¿ä¿¡çº¸çš„å­—ä½“ */
#character-diary-list .character-data-item .content,
#character-diary-list .character-data-item .content h1,
#character-diary-list .character-data-item .content h2,
#character-diary-list .character-data-item .content h3 {
  font-family: inherit; /* å¼ºåˆ¶ç»§æ‰¿çˆ¶å…ƒç´ çš„å­—ä½“ */
  color: #4a443b; /* ä½¿ç”¨æ·±æ£•è‰²æ–‡å­—ï¼Œæ›´æœ‰è´¨æ„Ÿ */
}

#character-diary-list .character-data-item .content p {
  margin: 0 0 12px 0;
}

/* 4. å°†æ—¥æœŸç§»åŠ¨åˆ°å³ä¸Šè§’ï¼Œåƒä¿¡çº¸çš„è½æ¬¾æ—¥æœŸ */
#character-diary-list .character-data-item .meta {
  position: absolute;
  top: 10px;
  right: 12px;
  font-size: 11px;
  color: #ae9c82; /* åŒ¹é…ä¿¡çº¸é£æ ¼çš„æ—¥æœŸé¢œè‰² */
  font-style: italic; /* æ–œä½“æ›´æœ‰æ‰‹å†™æ„Ÿ */
  border-top: none;
  padding-top: 0;
}

/* â–²â–²â–² æ ·å¼æ·»åŠ ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è§’è‰²æ‰‹æœºå…¨APPç¾åŒ–æ ·å¼ â–¼â–¼â–¼ */

/* --- 1. è´­ç‰©è½¦æ ·å¼ --- */
.character-cart-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 15px;
  border-bottom: 1px solid #f0f0f0;
}
.character-cart-item:last-child {
  border-bottom: none;
}
.cart-item-icon {
  width: 40px;
  height: 40px;
  flex-shrink: 0;
  background-color: #f0f2f5;
  border-radius: 8px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(--text-secondary);
}
.cart-item-info {
  flex-grow: 1;
}
.cart-item-info .title {
  font-weight: 500;
}
.cart-item-info .store {
  font-size: 12px;
  color: var(--text-secondary);
}
.cart-item-price {
  font-weight: 600;
  font-size: 15px;
}

/* --- 2. æµè§ˆå™¨å†å²æ ·å¼ --- */
.character-browser-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 15px;
  border-bottom: 1px solid #f0f0f0;
  cursor: pointer;
  transition: background-color 0.2s;
}
.character-browser-item:hover {
  background-color: #f9f9f9;
}
.browser-item-icon {
  font-size: 20px;
  color: var(--text-secondary);
}

/* --- 3. é“¶è¡Œäº¤æ˜“æ˜ç»†æ ·å¼ --- */
.character-bank-transaction {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 15px;
  border-bottom: 1px solid #f0f0f0;
}
.transaction-details {
  display: flex;
  align-items: center;
  gap: 12px;
}
.transaction-icon {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 18px;
  color: white;
}

/* --- 4. è¡ŒåŠ¨è½¨è¿¹ (æ—¶é—´çº¿) æ ·å¼ --- */
.character-trajectory-list {
  padding: 20px 15px 20px 30px; /* å·¦ä¾§ç•™å‡ºæ—¶é—´çº¿çš„ç©ºé—´ */
}
.character-trajectory-item {
  position: relative;
  padding-bottom: 25px;
}
/* æ—¶é—´è½´çš„ç«–çº¿ */
.character-trajectory-item::before {
  content: "";
  position: absolute;
  top: 5px;
  left: -18px;
  width: 2px;
  height: 100%;
  background-color: #e0e0e0;
}
.character-trajectory-item:last-child::before {
  display: none; /* æœ€åä¸€ä¸ªæ¡ç›®æ²¡æœ‰çº¿ */
}
/* æ—¶é—´è½´çš„åœ†ç‚¹ */
.character-trajectory-item::after {
  content: "";
  position: absolute;
  top: 5px;
  left: -23px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--accent-color);
  border: 2px solid white;
  box-shadow: 0 0 0 2px var(--accent-color);
}
.trajectory-item-content .meta {
  margin-top: 4px; /* è®©æ—¶é—´å’Œåœ°ç‚¹ç¦»æ ‡é¢˜è¿‘ä¸€ç‚¹ */
}

/* --- 5. APPä½¿ç”¨è®°å½• (è¿›åº¦æ¡) æ ·å¼ --- */
.character-app-usage-item {
  padding: 15px;
  border-bottom: 1px solid #f0f0f0;
}
.app-usage-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
  font-size: 14px;
}
.app-usage-header .name {
  font-weight: 500;
}
.app-usage-header .duration {
  color: var(--text-secondary);
}
.app-usage-bar-container {
  width: 100%;
  height: 6px;
  background-color: #e9ecef;
  border-radius: 3px;
  overflow: hidden;
}
.app-usage-bar {
  height: 100%;
  background-color: var(--accent-color);
  border-radius: 3px;
  transition: width 0.5s ease-in-out;
}
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åå°æ´»åŠ¨è®¾ç½®ç•Œé¢æ ·å¼ â–¼â–¼â–¼ */
.char-list-item {
  display: flex;
  align-items: center;
  padding: 8px 5px;
  border-bottom: 1px solid #eee;
}
.char-list-item:last-child {
  border-bottom: none;
}
.char-list-item input[type="checkbox"] {
  margin-right: 10px;
  width: 18px;
  height: 18px;
}
.char-list-item .char-name {
  flex-grow: 1;
}
.char-list-item .char-freq-badge {
  font-size: 11px;
  font-weight: bold;
  padding: 3px 8px;
  border-radius: 10px;
  color: white;
}
.char-freq-badge.low {
  background-color: #28a745;
}
.char-freq-badge.medium {
  background-color: #fd7e14;
}
.char-freq-badge.high {
  background-color: #dc3545;
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* === ã€å…¨æ–°ã€‘è§†é¢‘é€šè¯å¯è§†åŒ–ç•Œé¢æ ·å¼ === */

/* 1. å¯è§†åŒ–ç•Œé¢çš„æ€»å®¹å™¨ï¼Œç¡®ä¿å®ƒèƒ½è¦†ç›–æ•´ä¸ªå±å¹• */
#visual-call-interface {
  width: 100%;
  height: 100%;
  position: relative; /* è®©å†…éƒ¨å…ƒç´ å¯ä»¥ç›¸å¯¹äºå®ƒå®šä½ */
  overflow: hidden; /* é˜²æ­¢å†…å®¹æº¢å‡º */
  background-color: #1c1c1e; /* æ·±è‰²èƒŒæ™¯ */
  display: flex; /* ä½¿ç”¨flexå¸ƒå±€ï¼Œæ–¹ä¾¿å†…å®¹æ’åˆ— */
  flex-direction: column;
}

/* 2. è§†é¢‘èƒŒæ™¯å±‚ï¼Œç”¨äºæ”¾ç½®å¤§å°å›¾ */
.video-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1; /* ç¡®ä¿å®ƒåœ¨æœ€åº•å±‚ */
}

/* 3. å¤§å°å›¾çš„é€šç”¨å®¹å™¨æ ·å¼ */
.video-container {
  position: absolute;
  background-color: #000;
  overflow: hidden;
  transition: all 0.3s ease-in-out; /* ä¸ºåˆ‡æ¢é•œå¤´æ·»åŠ åŠ¨ç”» */
}
.video-container img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* ä¿è¯å›¾ç‰‡å¡«æ»¡å®¹å™¨ä¸”ä¸å˜å½¢ */
}

/* 4. å¤§å›¾æ ·å¼ (é»˜è®¤å æ»¡å…¨å±) */
#video-main-view {
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

/* 5. å°å›¾æ ·å¼ (ç”»ä¸­ç”») */
#video-pip-view {
  top: 60px; /* è·ç¦»é¡¶éƒ¨ä¸€æ®µè·ç¦» */
  right: 15px;
  width: 100px; /* å°çª—å®½åº¦ */
  height: 178px; /* å°çª—é«˜åº¦ (ä¿æŒç«–å±æ¯”ä¾‹) */
  border-radius: 10px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  cursor: pointer; /* æç¤ºç”¨æˆ·å¯ä»¥ç‚¹å‡» */
}

/* 6. èŠå¤©æ°”æ³¡åŒºåŸŸ (è¦†ç›–åœ¨è§†é¢‘ä¹‹ä¸Š) */
#video-call-messages-visual {
  position: relative;
  z-index: 5; /* å±‚çº§æ¯”è§†é¢‘é«˜ */
  flex-grow: 1; /* å æ®é™¤äº†é¡¶éƒ¨å’Œåº•éƒ¨æ ä¹‹å¤–çš„æ‰€æœ‰ç©ºé—´ */
  padding: 15px;
  overflow-y: auto; /* å†…å®¹å¤šäº†å¯ä»¥æ»šåŠ¨ */
  display: flex;
  flex-direction: column;
  gap: 15px;
  /* å…³é”®ï¼šä¸ºäº†ä¸è®©æ»šåŠ¨æ¡å½±å“ç¾è§‚ï¼ŒæŠŠå®ƒéšè—æ‰ */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE 10+ */
}
#video-call-messages-visual::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera*/
}

/* â–¼â–¼â–¼ ç”¨è¿™ã€ä¸€å°å—ã€‘ä»£ç ï¼Œæ›¿æ¢æ‰æ—§çš„æ°”æ³¡æ ·å¼ï¼Œå®ç°ã€æ— æ¨¡ç³Šã€‘æ•ˆæœ â–¼â–¼â–¼ */

/* 7. ã€æ— æ¨¡ç³Šã€‘é«˜æ¸…é€æ˜èŠå¤©æ°”æ³¡ */
.visual-call-bubble {
  padding: 8px 12px;
  border-radius: 18px;
  max-width: 80%;
  line-height: 1.5;
  word-break: break-word;
  color: white;

  /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šå½»åº•ç§»é™¤ backdrop-filter (æ¨¡ç³Š) æ•ˆæœ */

  /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šæä¾›ä¸€ä¸ªç®€å•çš„åŠé€æ˜é»‘è‰²èƒŒæ™¯ï¼Œä»¥è¡¬æ‰˜æ–‡å­— */
  background-color: rgba(
    0,
    0,
    0,
    0.3
  ); /* è¿™æ˜¯ä¸€ä¸ªå…³é”®å€¼ï¼Œå¯ä»¥åœ¨ 0.2 (æ›´é€) åˆ° 0.4 (æ›´æ·±) ä¹‹é—´å¾®è°ƒ */

  /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šä½¿ç”¨æ›´æ¸…æ™°çš„è¾¹æ¡†æ¥å®šä¹‰æ°”æ³¡è½®å»“ */
  border: 1px solid rgba(255, 255, 255, 0.25);

  /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šå¼ºåŒ–æ–‡å­—é˜´å½±ï¼Œç¡®ä¿åœ¨ä»»ä½•æ¸…æ™°èƒŒæ™¯ä¸‹éƒ½ç»å¯¹å¯è¯» */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.9);
}

.visual-call-bubble.user {
  align-self: flex-end;
  /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šç”¨æˆ·æ°”æ³¡ä¹Ÿä½¿ç”¨æ— æ¨¡ç³Šçš„åŠé€æ˜èƒŒæ™¯ */
  background-color: rgba(40, 160, 70, 0.3); /* ä½¿ç”¨ä¸€ä¸ªæ›´æ·±çš„ç»¿è‰²æ¥ä¿è¯å¯¹æ¯”åº¦ */
  border-color: rgba(255, 255, 255, 0.3);
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

.visual-call-bubble.ai {
  align-self: flex-start; /* AIçš„å‘è¨€é å·¦ */
}

/* 8. é¡¶éƒ¨å’Œåº•éƒ¨æ çš„å±‚çº§è¦æœ€é«˜ */
#visual-call-interface .video-call-top-bar,
#visual-call-interface .video-call-controls {
  z-index: 10;
}

/* 9. æ–°å¢çš„æ§åˆ¶æŒ‰é’®å›¾æ ‡ (ä½¿ç”¨SVG) */
.control-btn.reroll-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"></polyline><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path></svg>');
  background-size: 50%;
}
.control-btn.switch-camera-btn {
  background-color: rgba(255, 255, 255, 0.2);
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>');
  background-size: 50%;
}

/* 10. æŒ‚æ–­æŒ‰é’®éœ€è¦ä¸€ä¸ªæ–°IDæ¥åŒºåˆ† */
#hang-up-btn-visual {
  /* æ ·å¼ç»§æ‰¿è‡ª .hangup-btnï¼Œæ— éœ€é¢å¤–æ·»åŠ  */
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘ä¸–ç•Œä¹¦é€‰æ‹©å™¨åˆ—è¡¨æ ·å¼ â–¼â–¼â–¼ */

/* 1. åˆ†ç±»æ–‡ä»¶å¤¹è¡Œæ ·å¼ï¼šç”¨gapåˆ›å»ºå›ºå®šé—´è·ï¼Œè¶…ç¨³å®š */
.wb-category-header {
  display: flex;
  align-items: center;
  gap: 8px; /* ç®­å¤´ã€å¤é€‰æ¡†ã€æ–‡å­—ä¹‹é—´çš„å›ºå®šé—´è· */
  padding: 10px 12px;
  cursor: pointer;
  background-color: #f0f2f5;
  font-weight: 600;
  overflow: hidden; /* é˜²æ­¢ä»»ä½•æ„å¤– */
}

/* 2. åˆ†ç±»æ–‡ä»¶å¤¹é‡Œçš„æ–‡å­—æ ·å¼ï¼šåªè´Ÿè´£æˆªæ–­ï¼Œä¸è´Ÿè´£å¸ƒå±€ */
.wb-category-header > span:last-of-type {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 3. ã€æ ¸å¿ƒä¿®å¤ã€‘ä¸ºåˆ†ç±»æ–‡ä»¶å¤¹å’Œä¹¦ç›®é‡Œçš„å¤é€‰æ¡†â€œè§£ç»‘â€å…¨å±€æ ·å¼ï¼ */
.wb-category-header input[type="checkbox"],
.wb-book-container input[type="checkbox"] {
  width: auto !important; /* è®©å®ƒæ¢å¤è‡ªå·±çš„å¤©ç„¶å¤§å°ï¼Œ!importantç¡®ä¿æœ€é«˜ä¼˜å…ˆçº§ */
  flex-shrink: 0; /* é˜²æ­¢å®ƒè¢«å‹ç¼© */
}

/* 4. å…·ä½“ä¹¦ç›®è¡Œçš„æ ·å¼ï¼šå¼ºåˆ¶ä»å·¦è¾¹å¼€å§‹æ’åˆ—ï¼Œè§£å†³iOSé—®é¢˜ */
.wb-book-container label {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* å¼ºåˆ¶æ‰€æœ‰å†…å®¹ä»å·¦è¾¹å¼€å§‹ï¼*/
  padding: 8px 12px;
  gap: 10px; /* å¤é€‰æ¡†å’Œæ–‡å­—çš„é—´è· */
  overflow: hidden;
}

/* 5. å…·ä½“ä¹¦ç›®çš„æ–‡å­—æ ·å¼ */
.wb-book-container label .wb-book-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  text-align: left;
}

/* 6. å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode .wb-category-header {
  background-color: #2c2c2e;
}

/* 7. å°ç®­å¤´çš„æ ·å¼ï¼ˆä¿æŒä¸å˜ï¼‰ */
.wb-category-header .arrow {
  font-size: 12px;
  transition: transform 0.2s ease;
}
.wb-category-header.collapsed .arrow {
  transform: rotate(-90deg);
}

/* 8. ä¹¦ç±å®¹å™¨çš„æ ·å¼ï¼ˆä¿æŒä¸å˜ï¼‰ */
.wb-book-container {
  padding-left: 20px;
  max-height: 1000px;
  overflow: hidden;
  transition: max-height 0.3s ease-in-out;
}
.wb-book-container.collapsed {
  max-height: 0;
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å­—ä½“é¢„è®¾åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

#font-preset-container {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 15px; /* å¡æ§½ä¹‹é—´çš„é—´è· */
}

.font-preset-slot {
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

#phone-screen.dark-mode .font-preset-slot {
  border-color: #38383a;
}

.font-preset-slot.empty {
  justify-content: center;
  align-items: center;
  min-height: 80px;
  border-style: dashed;
}

.font-preview-text {
  font-size: 22px;
  padding: 10px;
  border-radius: 8px;
  text-align: center;
  min-height: 30px;
  transition: font-family 0.3s ease;
}

#phone-screen.dark-mode .font-preview-text {
  background-color: #2c2c2e;
  color: #fff;
}

.font-preset-info {
  font-size: 14px;
  color: var(--text-secondary);
  font-weight: 500;
}

.font-preset-actions {
  display: flex;
  gap: 10px;
  width: 100%;
}

.preset-btn {
  flex: 1;
  padding: 10px;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  background-color: var(--accent-color);
  color: white;
}

.preset-btn.secondary {
  background-color: #e9ecef;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .preset-btn.secondary {
  background-color: #3e3e42;
  border-color: #545458;
}

.preset-btn.delete {
  background-color: #ffdde5;
  color: #ff3b30;
  border: 1px solid #ffc2d1;
  max-width: 80px; /* è®©åˆ é™¤æŒ‰é’®çª„ä¸€ç‚¹ */
  flex: 0 0 auto;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* ã€ç¾åŒ– V2ã€‘è®©åå°æ´»åŠ¨è®¾ç½®çš„æŒ‰é’®æ›´åœ†æ¶¦ã€æ›´ç«‹ä½“ */
#background-activity-details .form-button-secondary {
  border-radius: 20px; /* å¤§å¹…å¢åŠ åœ†è§’ï¼Œå½¢æˆèƒ¶å›Šå½¢çŠ¶ */
  padding-top: 10px; /* å¢åŠ é¡¶éƒ¨å†…è¾¹è·ï¼Œè®©æŒ‰é’®æ›´é«˜ */
  padding-bottom: 10px; /* å¢åŠ åº•éƒ¨å†…è¾¹è·ï¼Œè®©æŒ‰é’®æ›´é«˜ */
  font-weight: 500; /* å­—ä½“ç¨å¾®åŠ ç²—ä¸€ç‚¹ */
  transition: all 0.2s ease; /* æ·»åŠ å¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœ */
}

/* ä¸ºæŒ‰é’®æ·»åŠ ä¸€ä¸ªå¾®å¦™çš„ç‚¹å‡»æ•ˆæœ */
#background-activity-details .form-button-secondary:active {
  transform: scale(0.96); /* ç‚¹å‡»æ—¶è½»å¾®ç¼©å° */
  opacity: 0.8; /* ç‚¹å‡»æ—¶ç¨å¾®å˜æ·¡ */
}
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘BGMæœç´¢ç»“æœå¼¹çª—æ ·å¼ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢è¿™æ®µæ–°æ ·å¼ â–¼â–¼â–¼ */
#music-search-results-modal .modal-content {
  z-index: 220; /* è¿™ä¸ªå€¼æ¯”æ’­æ”¾åˆ—è¡¨çš„ 210 è¦é«˜ */
}
/* â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² */

.search-result-item {
  display: flex;
  flex-direction: column;
  padding: 12px 18px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  transition: background-color 0.2s;
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘BGMæœç´¢ç»“æœå¼¹çª—æ ·å¼ â–¼â–¼â–¼ */

.search-result-item {
  display: flex;
  flex-direction: column;
  padding: 12px 18px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  transition: background-color 0.2s;
}

.search-result-item:hover {
  background-color: rgba(0, 0, 0, 0.1);
}

#phone-screen.dark-mode .search-result-item:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.search-result-item .title {
  font-weight: 500;
  font-size: 15px;
  color: var(--text-primary);
}

.search-result-item .artist {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px;
}

.search-result-item .source {
  font-size: 10px;
  color: var(--accent-color);
  background-color: rgba(0, 123, 255, 0.1);
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: bold;
  margin-left: 8px;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘BGMæœç´¢æºé€‰æ‹©å¼¹çª—æ ·å¼ â–¼â–¼â–¼ */
#music-source-selector-modal .modal-body label {
  font-size: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}
#music-source-selector-modal .modal-body input[type="radio"] {
  width: 18px;
  height: 18px;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ç”¨è¿™æ•´å—ã€å¸ƒå±€å¾®è°ƒç‰ˆã€‘æ ·å¼ï¼Œæ›¿æ¢æ‰ä¸Šä¸€æ¬¡çš„æ—§æ ·å¼ â–¼â–¼â–¼ */

/* 1. é—ªçƒåŠ¨ç”» (ä¿æŒä¸å˜) */
@keyframes flash-char {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 0 3px rgba(255, 192, 203, 0);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.08);
    box-shadow: 0 0 12px rgba(255, 192, 203, 0.9);
  }
}
@keyframes flash-user {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 0 3px rgba(173, 216, 230, 0);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.08);
    box-shadow: 0 0 12px rgba(173, 216, 230, 0.9);
  }
}

/* 2. ã€æ ¸å¿ƒä¿®æ”¹ã€‘è°ƒæ•´å¤´åƒå®¹å™¨çš„ä¸‹è¾¹è· */
#music-avatars-container {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 8px; /* <<<< ä» 25px å‡å°åˆ° 8pxï¼Œè®©å®ƒå’Œä¸‹é¢çš„æ–‡å­—æ›´è¿‘ */
  position: relative;
  z-index: 5;
}

/* 3. å•ä¸ªå¤´åƒæ ·å¼ (ä¿æŒä¸å˜) */
#music-avatars-container img {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

/* 4. åˆ†å¼€é—ªçƒåŠ¨ç”» (ä¿æŒä¸å˜) */
#music-avatars-container.flashing #music-char-avatar {
  animation: flash-char 2.2s infinite ease-in-out;
}
#music-avatars-container.flashing #music-user-avatar {
  animation: flash-user 2.2s infinite ease-in-out 0.3s;
}

/* 5. å¿ƒç”µå›¾æ ·å¼ (ä¿æŒä¸å˜) */
#heartbeat-line {
  width: 80px;
  height: 30px;
  overflow: visible;
  margin: 0 -15px;
  opacity: 0;
  transition: opacity 0.5s;
}
#music-avatars-container.flashing #heartbeat-line {
  opacity: 1;
}
.heartbeat-path {
  stroke: #ffc0cb;
  stroke-width: 1.5;
  fill: none;
  stroke-dasharray: 100;
  stroke-dashoffset: 100;
  animation: draw-line 2.2s infinite linear;
  filter: drop-shadow(0 0 3px #ffc0cb);
}
.heartbeat-heart {
  display: none;
}
@keyframes draw-line {
  to {
    stroke-dashoffset: 0;
  }
}

/* 6. ã€æ ¸å¿ƒä¿®æ”¹ã€‘è°ƒæ•´â€œä¸€èµ·å¬äº†â€æ–‡å­—çš„æ ·å¼å’Œè¾¹è· */
#music-time-counter {
  margin-bottom: 20px; /* <<<< ç°åœ¨ç”±å®ƒæ¥è´Ÿè´£å’Œä¸‹é¢çš„å°é¢æ‹‰å¼€è·ç¦» */
  font-size: 11px;
  color: #666; /* é¢œè‰²ç¨å¾®åŠ æ·±ä¸€ç‚¹ */
  text-align: center;
}

/* 7. å”±ç‰‡æ—‹è½¬åŠ¨ç”» (ä¿æŒä¸å˜) */
@keyframes spin-record {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* 8. å°é¢å’Œæ­Œè¯çš„åˆ‡æ¢å®¹å™¨ (ä¿æŒä¸å˜) */
#music-display-area {
  width: 192px;
  height: 192px;
  margin-bottom: 15px;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  transition: transform 0.3s ease;
}
#music-display-area:active {
  transform: scale(0.98);
}

/* 9. æ­Œæ›²å°é¢ (ä¿æŒä¸å˜) */
#music-album-cover {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  display: block;
}
#music-album-cover.rotating {
  animation: spin-record 10s linear infinite;
}
#music-album-cover.paused {
  animation-play-state: paused;
}

/* 10. å…¶ä»–æ ·å¼ (ä¿æŒä¸å˜) */
#music-lyrics-container {
  display: none;
}
#music-display-area.show-lyrics #music-album-cover {
  display: none;
}
#music-display-area.show-lyrics #music-lyrics-container {
  display: block;
}
#music-player-song-title {
  margin-bottom: 2px;
}
#music-player-artist {
  margin-bottom: 10px;
}
.music-player-window {
  min-height: 480px;
}

/* â–²â–²â–² å¸ƒå±€å¾®è°ƒç‰ˆæ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘æå‡æœç´¢ç›¸å…³å¼¹çª—çš„å±‚çº§ â–¼â–¼â–¼ */
#music-source-selector-modal,
#custom-modal-overlay {
  z-index: 250 !important; /* è¿™ä¸ªå€¼å¿…é¡»é«˜äºæ’­æ”¾åˆ—è¡¨(210)ï¼Œ!importantç¡®ä¿å®ƒæ‹¥æœ‰æœ€é«˜ä¼˜å…ˆçº§ */
}
/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æ­¥éª¤ 1ï¼šæŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* --- 1. éšè—æ—§çš„ä¸»å±å¹•å…ƒç´  --- */
/* æˆ‘ä»¬ä¸å†éœ€è¦æ—§çš„é”å±æ—¶é’Ÿå’Œå›¾æ ‡ç½‘æ ¼äº†ï¼Œæ–°çš„å¸ƒå±€ä¼šå®Œå…¨å–ä»£å®ƒä»¬ */
#home-screen #clock-container {
  display: none !important;
}

/* --- 2. ã€æ ¸å¿ƒã€‘é‡æ–°å®šä¹‰ä¸»å±å¹•å¸ƒå±€ --- */
/* 
   è¿™å°†æŠŠä½ çš„ä¸»å±å¹•ä»ä¸€ä¸ªç®€å•çš„å‚ç›´åˆ—è¡¨ï¼Œå˜æˆä¸€ä¸ªæ’‘æ»¡å…¨å±ã€
   ä½¿ç”¨Flexboxå¸ƒå±€çš„å¼ºå¤§å®¹å™¨ï¼Œä¸ºæ–°çš„â€œæ¡Œé¢å¼â€å¸ƒå±€æ‰“ä¸‹åŸºç¡€ã€‚
*/
/* --- 2. ã€æ ¸å¿ƒã€‘é‡æ–°å®šä¹‰ä¸»å±å¹•å¸ƒå±€ --- */
#home-screen {
  /* ä½¿ç”¨ä¸€ä¸ªæ¼‚äº®çš„çº¿æ€§æ¸å˜ä½œä¸ºé»˜è®¤èƒŒæ™¯ï¼Œå½“ç„¶ä½ å¯ä»¥åœ¨â€œå¤–è§‚è®¾ç½®â€é‡Œéšæ—¶æ¢æ‰å®ƒ */
  background: linear-gradient(135deg, #6dd5fa, #2980b9);
  background-size: cover;
  background-position: center;

  /* é€‚é…iPhoneåˆ˜æµ·å’Œåº•éƒ¨å®‰å…¨åŒº */
  padding-top: calc(20px + env(safe-area-inset-top));
  padding-bottom: calc(20px + env(safe-area-inset-bottom));

  /* â–¼â–¼â–¼ åœ¨è¿™é‡Œæ·»åŠ ä¸‹é¢è¿™ä¸¤è¡Œ â–¼â–¼â–¼ */
  padding-left: 0;
  padding-right: 0;
  /* â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² */

  /* ä½¿ç”¨Flexboxè®©å†…å®¹åŒºå’ŒDockæ ä¸Šä¸‹åˆ†ç¦» */
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  height: 100%; /* ç¡®ä¿å®ƒæ’‘æ»¡å±å¹• */
}

/* --- 3. ä¸­é—´ä¸»è¦å†…å®¹åŒº (ä¸ªäººèµ„æ–™å¡ + å°ç»„ä»¶ + Appå›¾æ ‡) --- */
#main-content-area {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 30px; /* å¡ç‰‡å’Œä¸‹æ–¹å›¾æ ‡çš„é—´è· */
  align-items: center;
  margin-top: 20px; /* è·ç¦»å±å¹•é¡¶éƒ¨ä¸€ç‚¹è·ç¦» */
}

/* --- 4. ä¸ªäººèµ„æ–™å¡ç‰‡ (è¿™æ˜¯è§†è§‰æ ¸å¿ƒ) --- */

/* 4a. å¡ç‰‡å¤–å±‚å®¹å™¨ï¼šè¿™æ˜¯æ‰€æœ‰å†…éƒ¨å…ƒç´ å®šä½çš„â€œé”šç‚¹â€ */
#profile-widget {
  position: relative; /* å…³é”®ï¼šè®©å†…éƒ¨çš„å¤´åƒå’Œä¼ªå…ƒç´ å¯ä»¥ç›¸å¯¹äºå®ƒè¿›è¡Œç»å¯¹å®šä½ */
  width: 100%;
  max-width: 380px;
  flex-shrink: 0;
}

/* 4b. èƒŒæ™¯å¤´å›¾ï¼šåªç»™é¡¶éƒ¨è®¾ç½®åœ†è§’ */
#profile-banner-img {
  display: block;
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 24px 24px 0 0; /* åªç»™é¡¶éƒ¨è®¾ç½®åœ†è§’ */
  position: relative;
  z-index: 1; /* å±‚çº§1ï¼šåœ¨æœ€ä¸‹æ–¹ */
}

/* 4c. å¤´åƒå®¹å™¨ï¼šç²¾ç¡®å®šä½ï¼Œä½¿å…¶ä¸­å¿ƒçº¿ä¸å¤´å›¾åº•éƒ¨å¯¹é½ */
#profile-widget .profile-avatar-container {
  position: absolute;
  top: 80px; /* ä»é¡¶éƒ¨å‘ä¸‹åç§»ï¼Œè®©å®ƒä¸€åŠåœ¨å¤´å›¾ä¸Šï¼Œä¸€åŠåœ¨ä¸‹é¢ */
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background-color: white; /* ç™½è‰²èƒŒæ™¯æ¿ï¼Œè®©å¤´åƒæ›´çªå‡º */
  padding: 4px; /* ç™½è‰²è¾¹æ¡†çš„æ•ˆæœ */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 3; /* å±‚çº§3ï¼šæœ€é«˜å±‚ï¼Œå‹ä½ä¸€åˆ‡ */
}

#profile-avatar-img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

/* 4d. ç™½è‰²ä¿¡æ¯å¡ç‰‡ï¼šä½¿ç”¨è´Ÿå¤–è¾¹è·å®ç°æ— ç¼æ‹¼æ¥ */
#profile-widget .profile-info {
  /* ã€ä¿®æ”¹åã€‘ç™½è‰²åˆ°é€æ˜çš„æ¸å˜èƒŒæ™¯ï¼Œå¹¶åŠ ä¸Šä¸€å±‚æŸ”å’Œçš„é˜´å½± */
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.85) 20%,
    rgba(255, 255, 255, 0)
  );
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  border-radius: 24px;

  /* æ ¸å¿ƒé­”æ³•ï¼šä½¿ç”¨è´Ÿå¤–è¾¹è·ï¼Œå°†å¡ç‰‡å‘ä¸Šç§»åŠ¨ï¼Œä¸å¤´å›¾å’Œå¤´åƒé‡å  */
  margin-top: -24px;

  /* åŒæ—¶ï¼Œä¸ºä¸Šç§»çš„å¤´åƒç•™å‡ºç²¾ç¡®çš„ç©ºé—´ï¼Œé¿å…æ–‡å­—å‹ä½å¤´åƒ */
  padding-top: 54px; /* å¤´åƒåŠå¾„(40px) + é¢å¤–é—´è·(14px) */

  min-height: 120px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding-left: 15px;
  padding-right: 15px;
  padding-bottom: 15px;
  text-align: center;
  color: #1c1c1e;
  position: relative;
  z-index: 2; /* å±‚çº§2ï¼šåœ¨å¤´å›¾ä¹‹ä¸Šï¼Œä½†åœ¨å¤´åƒä¹‹ä¸‹ */
}

/* 4e. ä¸ªäººèµ„æ–™å†…éƒ¨çš„æ–‡å­—æ ·å¼ */
#profile-username {
  font-size: 18px;
  font-weight: 600;
  margin: 0 0 2px 0;
}
#profile-sub-username {
  font-size: 13px;
  color: #8a8a8a;
  margin: 0 0 10px 0;
}
#profile-bio {
  font-size: 14px;
  margin: 0 0 12px 0;
  color: #333;
}
#profile-location {
  font-size: 12px;
  color: #8a8a8a;
  margin: 0 auto;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background-color: rgba(0, 0, 0, 0.05);
  padding: 3px 9px;
  border-radius: 10px;
}

/* --- 5. æ¡Œé¢å¼å¸ƒå±€ (å°ç»„ä»¶ + Appå›¾æ ‡) --- */
#desktop-layout {
  display: grid; /* ä½¿ç”¨Gridå¸ƒå±€ï¼Œè½»æ¾å®ç°ä¸¤åˆ— */
  grid-template-columns: 1fr 1.1fr; /* å·¦çª„å³å®½çš„ä¸¤åˆ— */
  gap: 20px;
  width: 100%;
  align-items: start;
}
#desktop-widget-column {
  display: flex;
  flex-direction: row;
  justify-content: space-between; /* ã€æ ¸å¿ƒä¿®æ”¹ã€‘å°† space-around æ”¹ä¸º space-between */
  align-items: start;
  width: 100%;
}

/* å³ä¾§Appå›¾æ ‡å®¹å™¨ */
#desktop-app-container {
  display: grid;
  grid-template-columns: 1fr 1fr; /* ä¸¤åˆ—å›¾æ ‡ */
  gap: 25px;
  align-content: start;
}
.desktop-app-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  text-align: center;
}
.icon-bg-desktop {
  width: 55px;
  height: 55px;
  border-radius: 14px;
  background-color: #f0f2f5;
  justify-content: center;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease;
  overflow: hidden;
}
.icon-bg-desktop img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 0;
}
.desktop-app-icon .label {
  color: #333;
  font-size: 13px;
  font-weight: 500;
}
.desktop-app-icon:active .icon-bg-desktop {
  transform: scale(0.9);
}

/* --- 6. åº•éƒ¨ Dock æ  --- */
#desktop-dock {
  background-color: rgba(255, 255, 255, 0.15); /* ç»ç’ƒæ‹Ÿæ€èƒŒæ™¯ */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 15px 25px;
  display: flex;
  justify-content: center;
  gap: 30px;
  width: fit-content; /* å®½åº¦è‡ªé€‚åº”å†…å®¹ */
  flex-shrink: 0;
}

/* --- 7. ã€æ ¸å¿ƒåŠŸèƒ½ã€‘ä¸ºå¯ç¼–è¾‘å…ƒç´ æ·»åŠ è§†è§‰åé¦ˆ --- */
.editable-text,
.editable-image {
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

/* é¼ æ ‡æ‚¬åœæ—¶ï¼Œæ˜¾ç¤ºä¸€ä¸ªåŠé€æ˜çš„è™šçº¿å¤–æ¡†ï¼Œå¹¶è½»å¾®å˜æš—ï¼Œæç¤ºç”¨æˆ·è¿™é‡Œå¯ä»¥ç‚¹ */
.editable-text:hover,
.editable-image:hover {
  outline: 2px dashed rgba(0, 0, 0, 0.4);
  opacity: 0.85;
  border-radius: 4px; /* è®©å¤–æ¡†ä¹Ÿæœ‰ä¸€ç‚¹åœ†è§’ */
}

/* --- 8. ã€é”å±å…¼å®¹ã€‘è®©é”å±å’Œä¸»å±å¹•å¯ä»¥å †å  --- */
#lock-screen,
#home-screen {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
#lock-screen {
  z-index: 999; /* ç¡®ä¿é”å±åœ¨æœ€ä¸Šå±‚ */
}
/* â–¼â–¼â–¼ è¿™æ˜¯æ–°å¢çš„æ¡Œé¢å°ç»„ä»¶æ ·å¼ â–¼â–¼â–¼ */

/* å•ä¸ªå°ç»„ä»¶çš„æ€»å®¹å™¨ */
.custom-widget-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px; /* å„ä¸ªå…ƒç´ ä¹‹é—´çš„å‚ç›´é—´è· */
}

.widget-bubble {
  position: relative;
  background-color: rgba(255, 255, 255, 0.9);
  color: #333;
  padding: 8px 12px;
  border-radius: 20px; /* ã€æ ¸å¿ƒä¿®æ”¹ã€‘å¢åŠ åœ†è§’ï¼Œå®ç°èƒ¶å›Šæ„Ÿ */
  font-size: 13px;
  font-weight: 500;
  /* ã€æ ¸å¿ƒä¿®æ”¹ã€‘ç§»é™¤ min-widthï¼Œè®©å®½åº¦è‡ªé€‚åº”å†…å®¹ */
  text-align: center;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* ç”¨ä¼ªå…ƒç´ ç»™æ°”æ³¡åŠ ä¸€ä¸ªå°å°¾å·´ï¼ŒæŒ‡å‘ä¸‹é¢çš„åœ†å½¢å›¾ç‰‡ */
.widget-bubble::after {
  content: "";
  position: absolute;
  bottom: -6px; /* å°¾å·´åœ¨æ°”æ³¡ä¸‹æ–¹ */
  left: 50%;
  transform: translateX(-50%);
  border-width: 6px 6px 0;
  border-style: solid;
  border-color: rgba(255, 255, 255, 0.9) transparent transparent transparent;
}

.widget-circle-uploader {
  width: 65px; /* ä» 80px ç¼©å° */
  height: 65px; /* ä» 80px ç¼©å° */
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  padding: 3px;
  background-color: transparent; /* ã€æ ¸å¿ƒä¿®æ”¹ã€‘å°†èƒŒæ™¯è‰²æ”¹ä¸ºé€æ˜ */
  box-sizing: border-box;
}

/* è¿™æ˜¯æ›¿æ¢åçš„ç¬¬äºŒå— */
.widget-circle-uploader img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%; /* ã€æ ¸å¿ƒã€‘è®©å›¾ç‰‡ä¹Ÿå˜æˆåœ†å½¢ï¼Œå®Œç¾é€‚åº”å†…è¾¹è· */
}

/* ä¸‹æ–¹çš„é€æ˜æ–‡å­—åŒºåŸŸ */
.widget-subtext {
  background: transparent;
  border: none;
  color: #333;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5); /* åŠ ä¸€ç‚¹æ–‡å­—é˜´å½±æ›´æ¸…æ™° */
  font-size: 13px;
  font-weight: 500;
  text-align: center;
}

/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€V3æœ€ç»ˆç¾åŒ–ç‰ˆã€‘ä¸»å±å¹•ç¾åŒ–é¢„è®¾åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */
.preset-manager-container {
  width: 100%;
  margin-top: 20px;
  padding-top: 20px;
  border-top: 1px solid var(--border-color);
}
#phone-screen.dark-mode .preset-manager-container {
  border-top-color: #3a3a3c;
}
.preset-manager-container .form-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.preset-manager-controls {
  display: grid;
  grid-template-columns: 1fr 1fr; /* ã€æ ¸å¿ƒã€‘2x2 ç½‘æ ¼å¸ƒå±€ */
  gap: 12px; /* æŒ‰é’®é—´è· */
  width: 100%;
}
.preset-btn-capsule {
  padding: 12px 15px; /* å¢åŠ å‚ç›´å†…è¾¹è·ï¼Œè®©æŒ‰é’®æ›´é«˜æ›´å¯çˆ± */
  border: none;
  border-radius: 25px; /* æ›´å¤§çš„åœ†è§’ï¼Œèƒ¶å›Šæ„Ÿæ›´å¼º */
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.08); /* å¢åŠ ä¸€ç‚¹ç«‹ä½“é˜´å½± */
}
.preset-btn-capsule:active {
  transform: scale(0.96);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
.preset-btn-capsule:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  box-shadow: none;
  background-color: #e9ecef !important; /* ç¦ç”¨æ—¶ç»Ÿä¸€ç”¨ç°è‰² */
  color: #adb5bd !important;
  border-color: #dee2e6 !important;
}
#phone-screen.dark-mode .preset-btn-capsule:disabled {
  background-color: #3a3a3c !important;
  color: #545458 !important;
}
.preset-btn-apply {
  background-color: var(--accent-color); /* åº”ç”¨æŒ‰é’®ä½¿ç”¨ä¸»é¢˜è‰² */
  color: white;
  grid-column: 1 / -1; /* ã€æ ¸å¿ƒã€‘è®©åº”ç”¨æŒ‰é’®ç‹¬å ä¸€è¡Œï¼Œæ›´çªå‡º */
}
.preset-btn-save {
  background-color: #4cd964; /* ä¿å­˜ç”¨ç»¿è‰²ï¼Œä»£è¡¨åˆ›å»º */
  color: white;
}
.preset-btn-secondary {
  background-color: #f8f9fa;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .preset-btn-secondary {
  background-color: #3a3a3c;
  border-color: #545458;
}
.preset-btn-delete {
  background-color: #ffdde5;
  color: #ff3b30;
}
#phone-screen.dark-mode .preset-btn-delete {
  background-color: #5c2b2b;
  color: #ff8a80;
}
/* â–²â–²â–² æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€V6æœ€ç»ˆä¿®å¤ç‰ˆã€‘å¤œé—´æ¨¡å¼ç»ˆæé€‚é… (å·²ä¿®å¤æ‰€æœ‰é¡µé¢é€‚é…é—®é¢˜) â–¼â–¼â–¼ */

/* æ ¸å¿ƒï¼šå½“ #phone-screen æ‹¥æœ‰ .dark-mode ç±»æ—¶ï¼Œæ¿€æ´»ä»¥ä¸‹æ‰€æœ‰æ ·å¼ */

/* 1. å…¨å±€é‡æ–°å®šä¹‰é¢œè‰²å˜é‡ */
#phone-screen.dark-mode {
  --secondary-bg: #1c1c1e;
  --border-color: #38383a;
  --text-primary: #ffffff;
  --text-secondary: #8e8e93;
  --status-bar-text-color: #ffffff;
}

/* 2. ã€åŸºç¡€ã€‘ä¸ºæ‰€æœ‰å±å¹•å’Œä¸»è¦å®¹å™¨è®¾ç½®åŸºç¡€æ·±è‰²èƒŒæ™¯ */
#phone-screen.dark-mode,
#phone-screen.dark-mode .screen,
#phone-screen.dark-mode #chat-list,
#phone-screen.dark-mode #world-book-list,
#phone-screen.dark-mode .list-container,
#phone-screen.dark-mode .form-container,
#phone-screen.dark-mode #chat-messages {
  background-color: #000000 !important;
}

/* 3. ã€ä¸»å±å¹•ã€‘ä¸“å±æ ·å¼ (ä»è¢«åˆ é™¤çš„ä»£ç ä¸­æ¢å¤å¹¶æ•´åˆ) */
#phone-screen.dark-mode #home-screen {
  background: #111827; /* æ·±è“è‰²èƒŒæ™¯ */
}
#phone-screen.dark-mode #desktop-dock {
  background-color: rgba(55, 65, 81, 0.5); /* Dockæ æ·±ç°è‰²ç»ç’ƒæ•ˆæœ */
}
#phone-screen.dark-mode .desktop-app-icon .label,
#phone-screen.dark-mode .widget-subtext {
  color: #e5e7eb; /* æ¡Œé¢æ–‡å­—å˜ä¸ºæµ…ç°è‰² */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7); /* åŠ å¼ºé˜´å½± */
}
#phone-screen.dark-mode #profile-widget .profile-info {
  background: linear-gradient(
    to bottom,
    rgba(28, 28, 30, 0.85) 20%,
    rgba(28, 28, 30, 0)
  ); /* ä¿¡æ¯å¡ç‰‡æ·±ç°è‰²æ¸å˜ */
  color: #f9fafb;
}
#phone-screen.dark-mode #profile-username,
#phone-screen.dark-mode #profile-bio,
#phone-screen.dark-mode #profile-location span {
  color: #f9fafb; /* ä¿¡æ¯å¡ç‰‡ä¸»æ–‡å­—ç™½è‰² */
}
#phone-screen.dark-mode #profile-sub-username,
#phone-screen.dark-mode #profile-location {
  color: #9ca3af; /* ä¿¡æ¯å¡ç‰‡æ¬¡è¦æ–‡å­—ç°è‰² */
}
#phone-screen.dark-mode #profile-location {
  background-color: rgba(255, 255, 255, 0.1); /* åœ°ç‚¹èƒŒæ™¯å˜äº® */
}
#phone-screen.dark-mode .widget-bubble {
  background-color: rgba(55, 65, 81, 0.9); /* å°ç»„ä»¶æ°”æ³¡æ·±ç°è‰² */
  color: #e5e7eb; /* å°ç»„ä»¶æ–‡å­—æµ…ç°è‰² */
}
#phone-screen.dark-mode .widget-bubble::after {
  border-top-color: rgba(55, 65, 81, 0.9); /* å°å°¾å·´é¢œè‰²åŒæ­¥ */
}

/* 4. ã€ä¿®å¤ã€‘é€‚é…æ‰€æœ‰é¡µé¢çš„å¤´éƒ¨Header */
#phone-screen.dark-mode .header,
#phone-screen.dark-mode .qzone-header {
  background-color: rgba(28, 28, 30, 0.85) !important;
  border-bottom-color: var(--border-color) !important;
  color: var(--text-primary) !important;
}

/* 5. ã€ä¿®å¤ã€‘é€‚é…æ‰€æœ‰é€šç”¨ç»„ä»¶ (å¼¹çª—ã€è¾“å…¥æ¡†ç­‰) */
#phone-screen.dark-mode #chat-input-area,
#phone-screen.dark-mode #chat-list-bottom-nav {
  background-color: rgba(28, 28, 30, 0.85);
  border-top-color: var(--border-color);
}
#phone-screen.dark-mode #chat-input {
  background-color: var(--secondary-bg);
  color: var(--text-primary);
}
#phone-screen.dark-mode .modal-content,
#phone-screen.dark-mode #custom-modal {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode .modal-header,
#phone-screen.dark-mode .modal-footer,
#phone-screen.dark-mode .custom-modal-footer {
  border-color: var(--border-color);
}
#phone-screen.dark-mode .form-group input,
#phone-screen.dark-mode .form-group select,
#phone-screen.dark-mode .form-group textarea {
  background-color: var(--secondary-bg);
  color: var(--text-primary);
  border-color: var(--border-color);
}
#phone-screen.dark-mode .list-item,
#phone-screen.dark-mode .chat-list-item-swipe-container:not(:last-child) {
  border-bottom-color: var(--border-color);
}
#phone-screen.dark-mode .list-item:hover,
#phone-screen.dark-mode .chat-list-item:hover {
  background-color: #2c2c2e;
}

/* 6. ã€è§£å†³ã€‘å­—ä½“é¢„è®¾ & å¤–è§‚è®¾ç½®é¡µé¢æ·±åº¦é€‚é… */
#phone-screen.dark-mode #font-settings-screen,
#phone-screen.dark-mode #wallpaper-screen {
  background-color: #000000;
}
#phone-screen.dark-mode .font-preset-slot,
#phone-screen.dark-mode #font-preview,
#phone-screen.dark-mode #wallpaper-preview {
  background-color: var(--secondary-bg);
  border-color: var(--border-color);
}
#phone-screen.dark-mode .preset-btn.secondary {
  background-color: #3e3e42;
  border-color: #545458;
}

/* 7. ã€è§£å†³ã€‘â€œæŸ¥æ‰‹æœºâ€åŠŸèƒ½æ‰€æœ‰å†…éƒ¨é¡µé¢æ·±åº¦é€‚é… */
#phone-screen.dark-mode #character-phone-container {
  background-color: #000000;
}
#phone-screen.dark-mode .character-phone-frame {
  background-color: #111;
}
#phone-screen.dark-mode .character-phone-inner-screen,
#phone-screen.dark-mode .character-phone-page {
  background-color: #000000;
}
#phone-screen.dark-mode .character-phone-header {
  background-color: rgba(28, 28, 30, 0.85) !important;
  border-bottom: 1px solid #38383a !important;
}
#phone-screen.dark-mode #character-app-grid .label {
  color: #e5e7eb;
}
#phone-screen.dark-mode .character-chat-list .chat-list-item:hover {
  background-color: #1c1c1e;
}
#phone-screen.dark-mode #character-chat-history-messages {
  background-color: #0e0e0e !important;
}
#phone-screen.dark-mode .character-chat-bubble.received {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode .character-data-item,
#phone-screen.dark-mode .character-bank-transaction,
#phone-screen.dark-mode .character-cart-item,
#phone-screen.dark-mode .character-browser-item {
  background-color: #1c1c1e;
  border-color: #38383a;
}
#phone-screen.dark-mode .character-data-item .title,
#phone-screen.dark-mode .character-data-item .content,
#phone-screen.dark-mode .cart-item-price {
  color: var(--text-primary);
}
#phone-screen.dark-mode .character-bank-balance-card {
  background: linear-gradient(135deg, #3a3a3c, #1c1c1e);
}
#phone-screen.dark-mode #character-diary-list .character-data-item {
  background-color: #1a1510;
  border-color: #4a443b;
  border-left-color: #8c7d6b;
}
#phone-screen.dark-mode #character-select-item .name {
  color: #80cbc4 !important; /* æŸ”å’Œçš„é’è‰² */
}

/* 8. ã€æ–°å¢ã€‘ä¿®å¤èŠå¤©åˆ—è¡¨åˆ†ç»„æ ‡é¢˜çš„èƒŒæ™¯è‰² */
#phone-screen.dark-mode .chat-group-header {
  background-color: #1c1c1e;
}
#phone-screen.dark-mode .chat-list-item-content.pinned {
  background-color: #3a3a3c;
}

/* â–²â–²â–² CSS ä»£ç ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æ­¥éª¤ 1.1ï¼šå°†è¿™æ•´å—ã€ç»ˆæä¿®å¤ç‰ˆã€‘CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* æ ¸å¿ƒä¿®å¤ï¼šä½¿ç”¨ !important å¼ºåˆ¶æå‡ä¼˜å…ˆçº§ï¼Œè¦†ç›–æ‰æ‰€æœ‰æ£ä¹±çš„å†…è”æ ·å¼ */

/* 1. ä¸ºæ‰€æœ‰éœ€è¦é€‚é…çš„å±å¹•å¼ºåˆ¶è®¾ç½®çº¯é»‘èƒŒæ™¯ */
#phone-screen.dark-mode #wallpaper-screen,
#phone-screen.dark-mode #font-settings-screen,
#phone-screen.dark-mode #api-settings-screen,
#phone-screen.dark-mode #character-selection-screen,
#phone-screen.dark-mode #world-book-screen,
#phone-screen.dark-mode #world-book-editor-screen,
#phone-screen.dark-mode .form-container, /* ç¡®ä¿æ‰€æœ‰è¡¨å•å®¹å™¨ä¹Ÿé€‚é… */
#phone-screen.dark-mode .list-container {
  /* ç¡®ä¿æ‰€æœ‰åˆ—è¡¨å®¹å™¨ä¹Ÿé€‚é… */
  background-color: #000000 !important;
}

/* 2. ä¸ºâ€œæŸ¥æ‰‹æœºâ€å†…éƒ¨çš„æ‰€æœ‰é¡µé¢å¼ºåˆ¶è®¾ç½®çº¯é»‘èƒŒæ™¯ */
#phone-screen.dark-mode .character-phone-inner-screen,
#phone-screen.dark-mode .character-phone-page {
  background-color: #000000 !important;
}
#phone-screen.dark-mode #character-chat-history-messages {
  background-color: #0e0e0e !important; /* èŠå¤©è®°å½•ç”¨æ·±ç°è‰² */
}

/* 3. ä¿®å¤é¡µé¢å†…éƒ¨ç»„ä»¶çš„èƒŒæ™¯è‰² */
#phone-screen.dark-mode #font-preview,
#phone-screen.dark-mode #wallpaper-preview {
  background-color: #1c1c1e !important;
  border-color: #38383a !important;
}

/* 4. ä¿®å¤â€œæŸ¥æ‰‹æœºâ€é‡Œå¯¹æ–¹çš„èŠå¤©æ°”æ³¡é¢œè‰² */
#phone-screen.dark-mode .character-chat-bubble.received {
  background-color: #2c2c2e !important;
}
/* â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘æå‡æ‰€æœ‰å¼¹çª—çš„å±‚çº§ â–¼â–¼â–¼ */
#music-source-selector-modal,
#music-search-results-modal {
  z-index: 250 !important; /* è¿™ä¸ªå€¼é«˜äºæ’­æ”¾åˆ—è¡¨(210)ï¼Œ!importantç¡®ä¿å®ƒæ‹¥æœ‰æœ€é«˜ä¼˜å…ˆçº§ */
}
/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* ã€å…¨æ–°ç¾åŒ–ç‰ˆã€‘é€šç”¨æ“ä½œèœå•æŒ‰é’® */
#preset-actions-modal .custom-modal-footer button {
  width: 100%;
  border: none; /* ç§»é™¤è¾¹æ¡† */
  border-radius: 20px; /* â˜…â˜…â˜… ä¿®æ”¹è¿™é‡Œï¼æŠŠ 12px æ”¹æˆäº† 20px â˜…â˜…â˜… */
  padding: 14px;
  font-size: 16px; /* å­—ä½“ç¨å¾®ç¼©å°ä¸€ç‚¹ï¼Œæ›´ç²¾è‡´ */
  font-weight: 500;
  margin-bottom: 8px; /* æŒ‰é’®ä¹‹é—´çš„å‚ç›´é—´è· */
  background-color: #f0f0f0; /* ç»Ÿä¸€çš„æµ…ç°è‰²èƒŒæ™¯ */
  color: var(--text-primary);
  transition:
    background-color 0.2s,
    transform 0.1s; /* æ·»åŠ åŠ¨ç”» */
}

/* é¼ æ ‡æ‚¬åœå’Œç‚¹å‡»æ•ˆæœ */
#preset-actions-modal .custom-modal-footer button:hover {
  background-color: #e0e0e0;
}
#preset-actions-modal .custom-modal-footer button:active {
  transform: scale(0.98); /* ç‚¹å‡»æ—¶è½»å¾®ç¼©å° */
}

/* å•ç‹¬ç¾åŒ–â€œåˆ é™¤â€æŒ‰é’® */
#preset-actions-modal .custom-modal-footer button.btn-danger {
  background-color: #ffe5e5;
  color: #ff3b30;
}
#preset-actions-modal .custom-modal-footer button.btn-danger:hover {
  background-color: #ffcccc;
}

/* ç¾åŒ–â€œå–æ¶ˆâ€æŒ‰é’® */
#preset-actions-modal .custom-modal-footer button:last-child {
  background-color: #e9ecef;
  margin-top: 4px; /* å’Œä¸Šé¢çš„æŒ‰é’®ç¨å¾®æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
}
#preset-actions-modal .custom-modal-footer button:last-child:hover {
  background-color: #dcdfe3;
}

/* ç§»é™¤æŒ‰é’®ä¹‹é—´çš„åˆ†å‰²çº¿ */
#preset-actions-modal .custom-modal-footer button {
  border-bottom: none !important;
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* ã€æ ¸å¿ƒä¿®æ­£ã€‘æå‡é€šç”¨æ“ä½œèœå•çš„å±‚çº§ï¼Œç¡®ä¿å®ƒèƒ½è¦†ç›–æ’­æ”¾åˆ—è¡¨ */
#preset-actions-modal {
  z-index: 220; /* è¿™ä¸ªå€¼æ¯”æ’­æ”¾åˆ—è¡¨(210)æ›´é«˜ï¼Œå°±ä¸ä¼šè¢«æŒ¡ä½äº† */
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* --- â€œæŸ¥æ‰‹æœºâ€æ‚¬åœåˆ é™¤æŒ‰é’®æ ·å¼ å¼€å§‹ --- */

/* 1. è®©â€œæŸ¥æ‰‹æœºâ€åŠŸèƒ½é‡Œçš„æ‰€æœ‰åˆ—è¡¨é¡¹éƒ½æˆä¸ºå¯ä»¥å®šä½åˆ é™¤æŒ‰é’®çš„å®¹å™¨ */
.character-data-item,
.character-cart-item,
.character-browser-item,
.character-bank-transaction,
.character-trajectory-item,
.character-app-usage-item,
.character-chat-bubble-container,
.character-album-item {
  position: relative; /* è¿™æ˜¯è®©æŒ‰é’®å¯ä»¥åŸºäºå®ƒæ¥å®šä½çš„å…³é”® */
}

/* 2. ç¾åŒ–åˆ é™¤æŒ‰é’®ï¼Œå¹¶å°†å®ƒå®šä½åˆ°å³ä¸Šè§’ï¼Œé»˜è®¤éšè— */
.item-delete-btn,
.message-delete-btn {
  position: absolute;
  top: 8px; /* è·ç¦»é¡¶éƒ¨8åƒç´  */
  right: 8px; /* è·ç¦»å³ä¾§8åƒç´  */
  width: 24px;
  height: 24px;
  border-radius: 50%; /* åœ†å½¢æŒ‰é’® */
  background-color: rgba(0, 0, 0, 0.4); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ï¼Œæ›´ç¾è§‚ */
  color: white;
  border: none;
  display: flex; /* ä½¿ç”¨flexå¸ƒå±€è®©å‰å·"Ã—"å®Œç¾å±…ä¸­ */
  align-items: center;
  justify-content: center;
  font-size: 16px;
  line-height: 1;
  cursor: pointer; /* é¼ æ ‡æ”¾ä¸Šå»æ—¶æ˜¾ç¤ºå°æ‰‹å›¾æ ‡ */
  z-index: 10; /* ç¡®ä¿æŒ‰é’®åœ¨æœ€ä¸Šå±‚ */

  /* æ ¸å¿ƒï¼šé»˜è®¤çŠ¶æ€ä¸‹éšè—æŒ‰é’® */
  opacity: 0;
  visibility: hidden;
  transform: scale(0.8); /* é…åˆåŠ¨ç”»ï¼Œè®©å‡ºç°æ•ˆæœæ›´è‡ªç„¶ */
  transition:
    opacity 0.2s ease-in-out,
    transform 0.2s ease-in-out;
}

/* 3. å½“é¼ æ ‡æ‚¬åœåœ¨ä»»ä½•ä¸€ä¸ªåˆ—è¡¨é¡¹ä¸Šæ—¶ï¼Œæ˜¾ç¤ºå®ƒå†…éƒ¨çš„åˆ é™¤æŒ‰é’® */
.character-data-item:hover .item-delete-btn,
.character-cart-item:hover .item-delete-btn,
.character-browser-item:hover .item-delete-btn,
.character-bank-transaction:hover .item-delete-btn,
.character-trajectory-item:hover .item-delete-btn,
.character-app-usage-item:hover .item-delete-btn,
.character-chat-bubble-container:hover .message-delete-btn,
.character-album-item:hover .item-delete-btn {
  opacity: 1; /* å˜å¾—å®Œå…¨å¯è§ */
  visibility: visible;
  transform: scale(1); /* æ¢å¤æ­£å¸¸å¤§å° */
}

/* --- â€œæŸ¥æ‰‹æœºâ€æ‚¬åœåˆ é™¤æŒ‰é’®æ ·å¼ ç»“æŸ --- */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è§’è‰²æ‰‹æœºå¾®ä¿¡æ¶ˆæ¯åˆ é™¤æŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */
.character-chat-bubble-container {
  position: relative; /* è®©åˆ é™¤æŒ‰é’®å¯ä»¥ç›¸å¯¹äºå®ƒå®šä½ */
}

.message-delete-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  background-color: rgba(0, 0, 0, 0.1);
  color: #555;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 16px;
  line-height: 22px;
  text-align: center;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: all 0.2s ease;
}

.character-chat-bubble-container:hover .message-delete-btn {
  opacity: 1; /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤º */
}

.message-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}

/* æ ¹æ®æ¶ˆæ¯æ˜¯å·¦æ˜¯å³ï¼Œè°ƒæ•´åˆ é™¤æŒ‰é’®çš„ä½ç½® */
.character-chat-bubble-container.sent .message-delete-btn {
  left: -28px;
}
.character-chat-bubble-container.received .message-delete-btn {
  right: -28px;
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² CSS ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°æ·»åŠ ã€‘å¼ºåˆ¶ä¿®æ­£æ‰€æœ‰è®¾ç½®é¡µé¢çš„åº•éƒ¨å®‰å…¨åŒº â–¼â–¼â–¼ */
#font-settings-screen .form-container,
#wallpaper-screen .form-container,
#api-settings-screen .form-container {
  padding-bottom: calc(20px + env(safe-area-inset-bottom));
}
/* â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘iOSé£æ ¼çš„æ»‘åŠ¨å¼€å…³æ ·å¼ â–¼â–¼â–¼ */

.toggle-switch-label {
  display: flex;
  align-items: center;
  justify-content: space-between; /* è®©æ–‡å­—å’Œå¼€å…³ä¸¤ç«¯å¯¹é½ */
  cursor: pointer;
  user-select: none;
  width: 100%;
  padding: 10px 0; /* å¢åŠ ä¸€ç‚¹ä¸Šä¸‹é—´è· */
}

.toggle-switch-text {
  font-weight: 500;
  color: var(--text-primary);
}

/* éšè—åŸå§‹çš„ checkbox */
.toggle-switch-label input[type="checkbox"] {
  opacity: 0;
  width: 0;
  height: 0;
  position: absolute;
}

/* å¼€å…³çš„è½¨é“ */
.toggle-switch-slider {
  position: relative;
  display: inline-block;
  width: 51px;
  height: 31px;
  background-color: #e9e9eb;
  border-radius: 34px;
  transition: background-color 0.2s;
  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
}

/* å¼€å…³çš„æ»‘å— (é‚£ä¸ªç™½è‰²åœ†ç‚¹) */
.toggle-switch-slider::before {
  content: "";
  position: absolute;
  height: 27px;
  width: 27px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  border-radius: 50%;
  transition: transform 0.2s;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
}

/* å½“ checkbox è¢«é€‰ä¸­æ—¶ï¼Œæ”¹å˜è½¨é“çš„é¢œè‰² */
.toggle-switch-label input:checked + .toggle-switch-slider {
  background-color: #34c759; /* iOS é£æ ¼çš„ç»¿è‰² */
}

/* å½“ checkbox è¢«é€‰ä¸­æ—¶ï¼Œç§»åŠ¨æ»‘å— */
.toggle-switch-label input:checked + .toggle-switch-slider::before {
  transform: translateX(20px);
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºä½ æ–°å¢çš„é¢œè‰²æ ·å¼ â–¼â–¼â–¼ */

/* 1. æŠŠæ—¶é—´çš„é¢œè‰²å¼ºåˆ¶è®¾ç½®ä¸ºé»‘è‰² */
#status-bar-time {
  color: #000000 !important; /* !important ç¡®ä¿å®ƒä¼˜å…ˆçº§æœ€é«˜ */
}

/* 2. æŠŠç”µæ± å®¹å™¨å†…çš„æ‰€æœ‰ä¸œè¥¿ï¼ˆå›¾æ ‡è¾¹æ¡†ã€ç”µé‡æ¡ã€ç™¾åˆ†æ¯”æ–‡å­—ï¼‰éƒ½è®¾ç½®ä¸ºç»¿è‰² */
#status-bar-battery {
  color: #4caf50 !important; /* è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çœ‹çš„ç»¿è‰² */
}

/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯æ­¥éª¤1éœ€è¦ç²˜è´´çš„æ–°æ ·å¼ â–¼â–¼â–¼ */

/* è®©æ¯ä¸€æ¡è¯„è®ºéƒ½å˜æˆå¯ç‚¹å‡»çš„ */
.comment-item {
  cursor: pointer; /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºä¸ºå°æ‰‹å½¢çŠ¶ */
  transition: background-color 0.2s; /* æ·»åŠ ä¸€ä¸ªå¹³æ»‘çš„èƒŒæ™¯è‰²è¿‡æ¸¡åŠ¨ç”» */
  border-radius: 4px; /* ç»™ä¸€ç‚¹ç‚¹åœ†è§’ï¼Œæ›´å¥½çœ‹ */
  padding: 2px 5px; /* å¢åŠ ä¸€ç‚¹å†…è¾¹è·ï¼Œè®©ç‚¹å‡»åŒºåŸŸæ›´å¤§ */
  margin: 0 -5px; /* æŠŠä¸Šé¢çš„å†…è¾¹è·æŠµæ¶ˆæ‰ï¼Œä¿æŒå¯¹é½ */
}
.comment-item:hover {
  background-color: #f0f2f5; /* é¼ æ ‡æ”¾ä¸Šå»æ—¶ï¼Œç»™ä¸€ä¸ªæ·¡æ·¡çš„èƒŒæ™¯è‰² */
}
#phone-screen.dark-mode .comment-item:hover {
  background-color: #2c2c2e; /* å¤œé—´æ¨¡å¼ä¸‹çš„æ‚¬åœé¢œè‰² */
}

/* â€œå›å¤â€è¿™ä¸¤ä¸ªå­—çš„æ ·å¼ */
.comment-item .reply-text {
  color: var(--text-secondary);
  margin: 0 4px; /* å’Œä¸¤è¾¹çš„åå­—æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
}

/* è¢«å›å¤è€…çš„åå­—æ ·å¼ */
.comment-item .reply-target-name {
  font-weight: 600;
  color: var(--accent-color);
  cursor: pointer;
  margin-right: 5px;
}
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘èŠå¤©è®°å½•æœç´¢åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* æœç´¢ç»“æœåˆ—è¡¨ */
#chat-search-results-list {
  flex-grow: 1; /* å æ®å‰©ä½™æ‰€æœ‰ç©ºé—´ */
  overflow-y: auto; /* å†…å®¹å¤šäº†å¯ä»¥æ»šåŠ¨ */
}

/* å•æ¡æœç´¢ç»“æœçš„æ ·å¼ */
.search-result-item {
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  display: flex;
  gap: 12px; /* å¤´åƒå’Œå†…å®¹çš„é—´è· */
  align-items: flex-start;
}
.search-result-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode .search-result-item:hover {
  background-color: #2c2c2e;
}

/* ç»“æœä¸­çš„å¤´åƒ */
.search-result-item .avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  flex-shrink: 0;
}

/* ç»“æœå³ä¾§ä¿¡æ¯ï¼ˆåå­—ã€æ—¶é—´ã€å†…å®¹ï¼‰ */
.search-result-info {
  display: flex;
  flex-direction: column;
  gap: 4px; /* ä¿¡æ¯å†…éƒ¨çš„å‚ç›´é—´è· */
  overflow: hidden; /* é˜²æ­¢å†…å®¹è¿‡é•¿æº¢å‡º */
}

/* åå­—å’Œæ—¶é—´çš„å®¹å™¨ */
.search-result-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: var(--text-secondary);
}

.search-result-meta .name {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 14px;
}

/* æ¶ˆæ¯å†…å®¹ */
.search-result-content {
  font-size: 14px;
  line-height: 1.5;
  word-break: break-all; /* ç¡®ä¿é•¿æ–‡æœ¬èƒ½æ¢è¡Œ */
}

/* ã€æ ¸å¿ƒã€‘å…³é”®è¯é«˜äº®æ ·å¼ */
.highlight {
  background-color: #ffde5c; /* äº®é»„è‰²èƒŒæ™¯ */
  color: #5d4037; /* æ·±æ£•è‰²æ–‡å­—ï¼Œå¯¹æ¯”æ›´æ¸…æ™° */
  font-weight: bold;
  padding: 1px 3px;
  border-radius: 3px;
}

/* è·³è½¬åæ¶ˆæ¯çš„é—ªçƒåŠ¨ç”» */
@keyframes flash-highlight {
  0% {
    background-color: transparent;
  }
  25% {
    background-color: rgba(255, 222, 92, 0.7);
  }
  100% {
    background-color: transparent;
  }
}
.message-bubble.flash {
  animation: flash-highlight 1.5s ease-out;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®å¤ã€‘è§£å†³æœç´¢ç»“æœçœ‹ä¸è§çš„é—®é¢˜ â–¼â–¼â–¼ */
#chat-search-screen .form-container {
  padding-bottom: 20px; /* ç»™åº•éƒ¨ä¸€ç‚¹ç©ºé—´ */
}

#search-results-list {
  flex-grow: 1; /* æ ¸å¿ƒï¼šè®©ç»“æœåˆ—è¡¨å æ®æ‰€æœ‰å‰©ä½™çš„å‚ç›´ç©ºé—´ */
  overflow-y: auto; /* æ ¸å¿ƒï¼šå¦‚æœç»“æœå¤ªå¤šï¼Œè®©å®ƒè‡ªå·±å‡ºç°æ»šåŠ¨æ¡ */
  min-height: 0; /* ä¸€ä¸ªç¥å¥‡çš„CSSå±æ€§ï¼Œç”¨äºè§£å†³flexå¸ƒå±€ä¸‹çš„æº¢å‡ºé—®é¢˜ */
  border-top: 1px solid var(--border-color); /* åœ¨ç»“æœå’ŒæŒ‰é’®ä¹‹é—´åŠ ä¸€æ¡åˆ†å‰²çº¿ï¼Œæ›´ç¾è§‚ */
  margin-top: 15px; /* å’Œä¸Šé¢çš„æŒ‰é’®æ‹‰å¼€è·ç¦» */
  padding-top: 10px; /* åˆ—è¡¨é¡¶éƒ¨çš„å†…è¾¹è· */
}
/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* ç»Ÿä¸€æ ·å¼ï¼Œè®©å›¾æ ‡å’Œæ–‡å­—æŒ‰é’®å¯¹é½ */
#music-playlist-panel .playlist-header .panel-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* â–¼â–¼â–¼ ç”¨è¿™å—æ–°ä»£ç æ›¿æ¢æ—§çš„åƒåœ¾æ¡¶æ ·å¼ â–¼â–¼â–¼ */

/* è®¾ç½®åƒåœ¾æ¡¶å›¾æ ‡çš„é»˜è®¤æ ·å¼ */
#delete-expired-songs-btn svg {
  color: inherit; /* æ ¸å¿ƒä¿®æ”¹1: å¹³æ—¶é¢œè‰²ç»§æ‰¿çˆ¶å…ƒç´ ï¼Œå’Œ"æœ¬åœ°"ç­‰æ–‡å­—é¢œè‰²ä¸€æ ·ï¼Œä¿æŒä½è°ƒ */
  transition:
    color 0.2s,
    transform 0.2s; /* æ·»åŠ transformè¿‡æ¸¡æ•ˆæœ */
  transform: translateY(3px); /* æ ¸å¿ƒä¿®æ”¹2: è®©å›¾æ ‡æ•´ä½“ä¸‹ç§»3åƒç´ ï¼Œè§†è§‰ä¸Šæ›´å¯¹é½ */
}

/* è®¾ç½®é¼ æ ‡æ‚¬åœ/ç‚¹å‡»æ—¶çš„æ ·å¼ */
#delete-expired-songs-btn:hover svg,
#delete-expired-songs-btn:active svg {
  color: #ff3b30; /* æ ¸å¿ƒä¿®æ”¹3: é¼ æ ‡æ”¾ä¸Šå»æˆ–ç‚¹å‡»æ—¶ï¼Œæ‰å˜ä¸ºé†’ç›®çš„çº¢è‰² */
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* ã€æ ¸å¿ƒã€‘ä¸“é—¨ä¸ºè§’è‰²æ‰‹æœºé‡Œçš„æ—¥è®°åˆ é™¤æŒ‰é’®ï¼Œé‡æ–°å®šä¹‰ä½ç½® */
#character-diary-list .character-data-item .item-delete-btn {
  top: auto; /* è§£é™¤é¡¶éƒ¨çš„å®šä½ */
  right: auto; /* è§£é™¤å³ä¾§çš„å®šä½ */
  bottom: 8px; /* å®šä½åˆ°è·ç¦»åº•éƒ¨8åƒç´  */
  left: 8px; /* å®šä½åˆ°è·ç¦»å·¦ä¾§8åƒç´  */
  opacity: 0; /* ä¿æŒé»˜è®¤éšè— */
  transition: opacity 0.2s ease; /* ä¿æŒæ·¡å…¥æ·¡å‡ºåŠ¨ç”» */
}

/* ã€ç¾åŒ–ã€‘é¼ æ ‡æ‚¬åœåœ¨æ•´å¼ æ—¥è®°å¡ç‰‡ä¸Šæ—¶ï¼Œæ‰æ˜¾ç¤ºè¿™ä¸ªæŒ‰é’® */
#character-diary-list .character-data-item:hover .item-delete-btn {
  opacity: 1;
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¿ƒå£°åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. è·³åŠ¨çš„å¿ƒåŠ¨ç”» */
@keyframes heartbeat {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}
#char-heart-btn svg {
  animation: heartbeat 1.5s infinite ease-in-out;
}

/* 2. å¿ƒå£°é¢æ¿ä¸»å†…å®¹æ ·å¼ (å·²ä¿®å¤) */
#inner-voice-avatar-wrapper::after {
  content: "";
  position: absolute;
  top: -3px;
  left: -3px;
  right: -3px;
  bottom: -3px;
  border: 1.5px solid transparent; /* é»˜è®¤æ˜¯é€æ˜è¾¹æ¡†ï¼Œçœ‹ä¸è§ */
  border-radius: 50%;
  pointer-events: none;
  transition: border-color 0.2s ease-in-out; /* æ·»åŠ å¹³æ»‘è¿‡æ¸¡ */
}
/* ã€æ ¸å¿ƒã€‘ä»…å½“æ²¡æœ‰å¤´åƒæ¡†æ—¶(.has-border)ï¼Œæ‰æ˜¾ç¤ºçº¢çº¿ */
#inner-voice-avatar-wrapper.has-border::after {
  border-color: #ff8a80; /* ä½ æƒ³è¦çš„çº¢è‰²è½®å»“çº¿ */
}

#inner-voice-content-area p {
  white-space: pre-wrap; /* è®©æ¢è¡Œç¬¦å’Œç©ºæ ¼ç”Ÿæ•ˆ */
  word-break: break-word; /* é˜²æ­¢é•¿å•è¯æº¢å‡º */
}

/* 3. å†å²è®°å½•é¢æ¿æ ·å¼ */
.inner-voice-history-item {
  background-color: #fff;
  margin: 10px;
  padding: 12px;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}
.history-item-timestamp {
  font-size: 11px;
  color: #999;
  border-bottom: 1px solid #eee;
  padding-bottom: 8px;
  margin-bottom: 8px;
}
.history-item-content p {
  margin: 0 0 8px 0;
  font-size: 13px;
  line-height: 1.5;
  color: #444;
}
.history-item-content strong {
  font-size: 12px;
}
/* â–²â–²â–² å¿ƒå£°åŠŸèƒ½æ ·å¼ç»“æŸ â–²â–²â–² */
/* ã€å…¨æ–°ã€‘å¿ƒå£°å†å²è®°å½•å•æ¡åˆ é™¤æŒ‰é’®æ ·å¼ */
.inner-voice-history-item {
  position: relative; /* è®©åˆ é™¤æŒ‰é’®å¯ä»¥ç›¸å¯¹äºå®ƒå®šä½ */
}

.history-item-delete-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background-color: #f0f0f0;
  color: #888;
  border: none;
  cursor: pointer;
  font-size: 18px;
  line-height: 24px;
  text-align: center;
  transition: all 0.2s ease;
}

.history-item-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}
/* â–¼â–¼â–¼ åœ¨è¿™é‡Œå¼€å§‹å¤åˆ¶ï¼šã€ä¸»é¢˜è‰²ç‰ˆã€‘å¯çˆ±åœ†æ¶¦æŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */

/* --- 1. å†æ¬¡è®¾ç½®é€šç”¨çš„â€œå¯çˆ±åŸºç¡€â€ --- */
#save-theme-btn,
#save-as-new-theme-btn,
#export-theme-btn,
#import-theme-btn,
#rename-theme-btn,
#delete-theme-btn {
  border: none;
  border-radius: 25px; /* å¯çˆ±çš„èƒ¶å›Šå½¢çŠ¶ */
  padding: 12px 18px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
  transition: all 0.2s ease-in-out;
  margin-top: 5px !important;
}

/* --- 2. å¯çˆ±çš„â€œæŒ‰ä¸‹â€æ•ˆæœ --- */
#save-theme-btn:active,
#save-as-new-theme-btn:active,
#export-theme-btn:active,
#import-theme-btn:active,
#rename-theme-btn:active,
#delete-theme-btn:active {
  transform: scale(0.97);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* --- 3. ã€æ ¸å¿ƒä¿®æ”¹ã€‘ä¸ºä¸åŒåŠŸèƒ½çš„æŒ‰é’®è®¾ç½®é…å¥—é¢œè‰² --- */

/* â€œä¿å­˜â€ å’Œ â€œå¦å­˜ä¸ºâ€ï¼šä½¿ç”¨å…¨å±€ä¸»é¢˜è‰²ï¼ */
#save-theme-btn,
#save-as-new-theme-btn {
  background-color: var(--accent-color); /* è¿™å°±æ˜¯ä½ çš„ä¸»é¢˜è‰²ï¼ */
  color: white;
}

/* â€œå¯¼å‡ºâ€ã€â€œå¯¼å…¥â€ã€â€œé‡å‘½åâ€ï¼šä½¿ç”¨æŸ”å’Œçš„æ¬¡è¦æ ·å¼ */
#export-theme-btn,
#import-theme-btn,
#rename-theme-btn {
  background-color: #f0f2f5; /* æ·¡æ·¡çš„ç°è‰²èƒŒæ™¯ */
  color: var(--accent-color); /* æ–‡å­—ä½¿ç”¨ä¸»é¢˜è‰² */
  border: 1px solid var(--accent-color); /* å†åŠ ä¸€ä¸ªä¸»é¢˜è‰²çš„è¾¹æ¡†ï¼Œæ›´ç²¾è‡´ */
}

/* â€œåˆ é™¤â€æŒ‰é’®ï¼šè¿˜æ˜¯ç”¨å¯çˆ±çš„ç²‰çº¢è‰²æ¥æé†’ï¼Œé˜²æ­¢è¯¯è§¦ */
#delete-theme-btn {
  background-color: #ffdde5; /* æ·¡æ·¡çš„æ¨±èŠ±ç²‰èƒŒæ™¯ */
  color: #ff3b30; /* æ–‡å­—ç”¨é†’ç›®çš„çº¢è‰² */
  border: 1px solid #ffc2d1;
}

/* --- 4. é¼ æ ‡æ”¾åˆ°ä¸åŒæŒ‰é’®ä¸Šæ—¶çš„é¢œè‰²å˜åŒ– --- */
#save-theme-btn:hover,
#save-as-new-theme-btn:hover {
  opacity: 0.85; /* ä¸»é¢˜è‰²æŒ‰é’®å˜æ·¡ä¸€ç‚¹ç‚¹ */
}

#export-theme-btn:hover,
#import-theme-btn:hover,
#rename-theme-btn:hover {
  background-color: #e9ecef; /* æ¬¡è¦æŒ‰é’®èƒŒæ™¯åŠ æ·±ä¸€ç‚¹ç‚¹ */
}

#delete-theme-btn:hover {
  background-color: #ffc2d1; /* åˆ é™¤æŒ‰é’®èƒŒæ™¯åŠ æ·±ä¸€ç‚¹ç‚¹ */
}

/* â–²â–²â–² å¤åˆ¶åˆ°è¿™é‡Œç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
.action-icon.summon-npc svg {
  stroke-width: 1.5; /* è®©å›¾æ ‡çº¿æ¡ç¨å¾®ç²—ä¸€ç‚¹ï¼Œæ›´æ¸…æ™° */
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¯·ç”¨ä¸‹é¢è¿™ã€ä¸€æ•´å—å¸¦æœ‰è¯¦ç»†æ³¨é‡Šã€‘çš„ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ æ—§çš„å¾®åšä¸»é¡µå¸ƒå±€CSS â–¼â–¼â–¼ */

/* 1. ä¸ªäººä¸»é¡µçš„æ»šåŠ¨å®¹å™¨ (ä¿æŒä¸å˜) */
#weibo-profile-page {
  flex-grow: 1;
  overflow-y: auto;
  background-color: #f0f2f5;
}

/* 2. å¤´éƒ¨å®¹å™¨ï¼šè´Ÿè´£èƒŒæ™¯å›¾ï¼Œå¹¶ä¸ºä¸‹æ–¹å†…å®¹ç•™å‡ºç©ºé—´ */
.weibo-profile-header {
  position: relative;
  height: 240px;
  /* 
      â˜…â˜…â˜… æ‰‹åŠ¨è°ƒæ•´åŒºï¼šå¾®åšå†…å®¹ä¸ä¸Šæ–¹åŒºåŸŸçš„ã€ä¸Šä¸‹é—´è·ã€‘ â˜…â˜…â˜…
      è¿™ä¸ªå€¼å†³å®šäº†ä½ çš„ç¬¬ä¸€æ¡å¾®åšï¼Œå’Œä¸Šæ–¹ä¸ªäººä¿¡æ¯åŒºåŸŸçš„è·ç¦»ã€‚
      - æ•°å€¼è¶Šå¤§ï¼Œé—´è·è¶Šå¤§ï¼Œå¾®åšå†…å®¹ç¦»å¾—è¶Šè¿œã€‚
      - æ•°å€¼è¶Šå°ï¼Œé—´è·è¶Šå°ï¼Œå¾®åšå†…å®¹ç¦»å¾—è¶Šè¿‘ã€‚
      æˆ‘å·²å°†å®ƒä» 90px å‡å°åˆ°äº† 20pxï¼Œä½ å¯ä»¥æ ¹æ®å–œå¥½å†å¾®è°ƒã€‚
    */
  margin-bottom: -5px; /* â˜… ä¿®æ”¹è¿™é‡Œ â˜… */
}

/* 3. èƒŒæ™¯å›¾æ ·å¼ (ä¿æŒä¸å˜) */
.weibo-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 4. å¤´åƒå®¹å™¨ï¼šå®ç°æ‚¬æµ®æ•ˆæœçš„æ ¸å¿ƒ */
.weibo-avatar-container {
  position: absolute;
  z-index: 3;
  width: 80px;
  height: 80px;
  border: 3px solid white;
  border-radius: 50%;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  transform: none;

  /* â˜…â˜…â˜… æ‰‹åŠ¨è°ƒæ•´åŒº1: å¤´åƒä½ç½® (å·¦å³ + ä¸Šä¸‹) â˜…â˜…â˜… */

  /* --- å·¦å³ä½ç½® --- */
  /* æ•°å€¼è¶Šå¤§ï¼Œè¶Šå¾€å³ã€‚æ•°å€¼è¶Šå°ï¼Œè¶Šå¾€å·¦ã€‚*/
  left: 15px; /* â˜… ä¿®æ”¹è¿™é‡Œ */

  /* --- ä¸Šä¸‹ä½ç½® --- */
  /* æ•°å€¼è¶Šå° (æ¯”å¦‚ -50px), è¶Šå¾€ä¸‹ã€‚æ•°å€¼è¶Šå¤§ (æ¯”å¦‚ -30px), è¶Šå¾€ä¸Šã€‚*/
  bottom: 50px; /* â˜… ä¿®æ”¹è¿™é‡Œ */
}

.weibo-avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

/* 5. æ˜µç§°å’ŒèŒä¸šä¿¡æ¯ */
/* â˜…â˜…â˜… æ‰‹åŠ¨è°ƒæ•´åŒº2: æ˜µç§°ä½ç½® (å·¦å³ + ä¸Šä¸‹) â˜…â˜…â˜… */
.weibo-nickname {
  position: absolute;
  z-index: 2;
  color: #1f1f1f;
  text-shadow: none;
  font-size: 18px;
  font-weight: 600;

  /* --- å·¦å³ä½ç½® --- */
  /* æ•°å€¼è¶Šå¤§ï¼Œè¶Šå¾€å³ã€‚æ•°å€¼è¶Šå°ï¼Œè¶Šå¾€å·¦ã€‚*/
  left: 35px; /* â˜… ä¿®æ”¹è¿™é‡Œ */

  /* --- ä¸Šä¸‹ä½ç½® --- */
  /* æ•°å€¼è¶Šå° (æ¯”å¦‚ -60px), è¶Šå¾€ä¸‹ã€‚æ•°å€¼è¶Šå¤§ (æ¯”å¦‚ -50px), è¶Šå¾€ä¸Šã€‚*/
  bottom: 30px; /* â˜… ä¿®æ”¹è¿™é‡Œ */
}

/* â–¼â–¼â–¼ ç”¨è¿™å—æ–°CSSæ›¿æ¢æ‰æ—§çš„ â–¼â–¼â–¼ */
#weibo-user-profession-display {
  position: absolute;
  left: 35px; /* ä¿®æ”¹ï¼šä» left æ”¹ä¸º rightï¼Œè®©å®ƒé å³å¯¹é½ */
  bottom: -5px; /* ä¿®æ”¹ï¼šè°ƒæ•´å‚ç›´ä½ç½®ï¼Œåœ¨å¤´åƒä¸‹æ–¹ */
  z-index: 2;
  font-size: 13px;
  color: #8a8a8a;
  text-shadow: none;
  text-align: right; /* æ–°å¢ï¼šè®©æ–‡å­—æœ¬èº«ä¹Ÿé å³å¯¹é½ï¼Œæ›´ç¾è§‚ */
  cursor: pointer; /* æ–°å¢ï¼šé¼ æ ‡æ”¾ä¸Šå»æ—¶æ˜¾ç¤ºä¸ºå°æ‰‹å½¢çŠ¶ */
}

/* 6. å…³æ³¨/ç²‰ä¸/å¾®åšæ•°æ® */
/* â˜…â˜…â˜… æ‰‹åŠ¨è°ƒæ•´åŒº3: å…³æ³¨/ç²‰ä¸/å¾®åš ä½ç½® (å·¦å³ + ä¸Šä¸‹) â˜…â˜…â˜… */
.weibo-stats {
  position: absolute;
  z-index: 2;
  display: flex;
  gap: 20px;

  /* --- å·¦å³ä½ç½® --- */
  /* æ•°å€¼è¶Šå¤§ï¼Œè¶Šå¾€å³ã€‚æ•°å€¼è¶Šå°ï¼Œè¶Šå¾€å·¦ã€‚*/
  left: 35px; /* â˜… ä¿®æ”¹è¿™é‡Œ */

  /* --- ä¸Šä¸‹ä½ç½® --- */
  /* æ•°å€¼è¶Šå° (æ¯”å¦‚ -90px), è¿™è¡Œæ•°æ®è¶Šå¾€ä¸‹ã€‚æ•°å€¼è¶Šå¤§ (æ¯”å¦‚ -70px), è¶Šå¾€ä¸Šã€‚*/
  bottom: 15px; /* â˜… ä¿®æ”¹è¿™é‡Œ */
}

/* 7. å•ä¸ªæ•°æ®é¡¹æ ·å¼ (ä¿æŒä¸å˜) */
.weibo-stat-item {
  display: flex;
  flex-direction: row;
  align-items: baseline;
  gap: 5px;
}
.weibo-stat-number {
  font-size: 14px;
  font-weight: 600;
  color: #333;
  text-shadow: none;
}
.weibo-stat-label {
  font-size: 13px;
  color: #888;
  text-shadow: none;
}

/* 8. å¾®åšFeedåˆ—è¡¨ (ä¿æŒä¸å˜) */
#my-weibo-feed-list {
  padding-top: 15px;
}

/* â–²â–²â–² å¾®åšæ ·å¼æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¾®åšé¡µé¢æ¡†æ¶å’Œåº•éƒ¨å¯¼èˆªæ ·å¼ â–¼â–¼â–¼ */
#weibo-screen {
  display: flex;
  flex-direction: column;
}
.weibo-view {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none; /* é»˜è®¤éšè—æ‰€æœ‰é¡µé¢ */
  flex-direction: column;
  background-color: #f0f2f5;
}
.weibo-view.active {
  display: flex; /* åªæ˜¾ç¤ºæ¿€æ´»çš„é¡µé¢ */
}
/* â–¼â–¼â–¼ ã€å¸ƒå±€ç»Ÿä¸€ä¿®å¤ç‰ˆã€‘ç”¨è¿™å—ä»£ç å®Œæ•´æ›¿æ¢æ‰ä½ æ—§çš„ #weibo-bottom-nav æ ·å¼ â–¼â–¼â–¼ */
#weibo-bottom-nav {
  /* --- æ ¸å¿ƒä¿®æ”¹ --- */
  position: absolute; /* 1. æ”¹ä¸ºç»å¯¹å®šä½ï¼Œè®©å®ƒæµ®åŠ¨èµ·æ¥ */
  bottom: 0; /* 2. å›ºå®šåœ¨åº•éƒ¨ */
  left: 0; /* 3. å·¦ä¾§å¯¹é½ */
  width: 100%; /* 4. å®½åº¦æ’‘æ»¡ */

  /* --- å…¶ä»–æ ·å¼ä¿æŒä¸å˜ --- */
  z-index: 15;
  display: flex;
  border-top: 1px solid var(--border-color);
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  padding-bottom: env(safe-area-inset-bottom);
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

.weibo-nav-item {
  flex: 1;
  text-align: center;
  padding: 12px 0;
  font-size: 14px;
  color: var(--text-secondary);
  cursor: pointer;
}
.weibo-nav-item.active {
  color: var(--accent-color);
  font-weight: 600;
}
/* â–²â–²â–² å¾®åšæ¡†æ¶æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¾®åšå…³æ³¨åˆ—è¡¨å¼¹çª—æ ·å¼ â–¼â–¼â–¼ */
#weibo-following-list-container {
  height: 100%;
  overflow-y: auto; /* ã€æ ¸å¿ƒã€‘å†…å®¹è¶…å‡ºæ—¶æ˜¾ç¤ºå‚ç›´æ»šåŠ¨æ¡ */
}
.weibo-following-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid #f0f0f0;
}
.weibo-following-item:last-child {
  border-bottom: none;
}
.weibo-following-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 12px;
  object-fit: cover;
}
.weibo-following-name {
  font-weight: 500;
  color: var(--text-primary);
}
/* â–²â–²â–² å…³æ³¨åˆ—è¡¨æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è®©ä¸ªäººä¸»é¡µå¯ç¼–è¾‘çš„å…ƒç´ æœ‰ç‚¹å‡»æ‰‹åŠ¿ â–¼â–¼â–¼ */
#weibo-avatar-img,
#weibo-nickname,
#weibo-posts-item, /* æˆ‘ä»¬è®©æ•´ä¸ªâ€œå¾®åšâ€åŒºåŸŸå¯ç‚¹å‡» */
#weibo-fans-item,  /* æ•´ä¸ªâ€œç²‰ä¸â€åŒºåŸŸå¯ç‚¹å‡» */
#weibo-background-img /* èƒŒæ™¯å›¾ä¹Ÿå¯ç‚¹å‡» */ {
  cursor: pointer;
  transition: opacity 0.2s;
}
#weibo-avatar-img:hover,
#weibo-nickname:hover,
#weibo-posts-item:hover,
#weibo-fans-item:hover,
#weibo-background-img:hover {
  opacity: 0.8; /* é¼ æ ‡æ”¾ä¸Šå»æ—¶å˜æ·¡ä¸€ç‚¹ï¼Œç»™ç”¨æˆ·åé¦ˆ */
}
/* â–²â–²â–² ç‚¹å‡»æ‰‹åŠ¿æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¯·ç”¨è¿™å—æ–°ä»£ç æ›¿æ¢æ—§çš„ #weibo-page-container æ ·å¼ â–¼â–¼â–¼ */
#weibo-page-container {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
  /* æ ¸å¿ƒä¿®æ”¹ï¼šä¸ºç»å¯¹å®šä½çš„å¯¼èˆªæ é¢„ç•™å‡ºç©ºé—´ï¼Œé˜²æ­¢å†…å®¹è¢«é®æŒ¡ */
  /* 50px æ˜¯å¯¼èˆªæ çš„å¤§è‡´é«˜åº¦ï¼Œenv() ç”¨äºé€‚é…iPhoneåº•éƒ¨çš„å°é»‘æ¡ */
  padding-bottom: calc(50px + env(safe-area-inset-bottom));
  box-sizing: border-box; /* ç¡®ä¿å†…è¾¹è·è¢«æ­£ç¡®è®¡ç®—åœ¨å†… */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* ç¡®ä¿ä¸ªäººä¸»é¡µçš„å†…å®¹å¯ä»¥æ»šåŠ¨ */
#weibo-profile-page {
  overflow-y: auto;
  height: 100%;
}
/* â–²â–²â–² ä¿®å¤CSSç»“æŸ â–²â–²â–² */

/* â–²â–²â–² ä¿®å¤CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®å¤ã€‘æå‡å¾®åšå…³æ³¨åˆ—è¡¨å¼¹çª—çš„å±‚çº§ â–¼â–¼â–¼ */
#weibo-following-modal {
  z-index: 1001; /* ç¡®ä¿å®ƒèƒ½è¦†ç›–åœ¨å…¶ä»–é¡µé¢ä¹‹ä¸Š */
}
/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„å¾®åšå¸–å­æ ·å¼ï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„å¾®åšå¸–å­æ ·å¼ï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* === å¾®åšå¸–å­ä¸“å±æ ·å¼ (å·²å’ŒåŠ¨æ€åˆ†ç¦») === */
/* === å¾®åšå¸–å­ä¸“å±æ ·å¼ (åœ†è§’å¡ç‰‡ç‰ˆ) === */
.weibo-post-item {
  background-color: var(--secondary-bg);
  border-radius: 12px; /* â˜… ä¿®æ”¹è¿™é‡Œï¼Œå¢åŠ åœ†è§’ï¼Œè®©å®ƒå˜å¾—åœ†æ¶¦å¯çˆ± */
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06); /* â˜… æ–°å¢æŸ”å’Œçš„é˜´å½±ï¼Œè¥é€ å¡ç‰‡æ‚¬æµ®æ„Ÿ */
  /* â˜… æ—§çš„ border-bottom åˆ†å‰²çº¿å·²ç»è¢«ç§»é™¤äº†ï¼Œç°åœ¨ç”±çˆ¶å®¹å™¨çš„ gap å±æ€§è´Ÿè´£é—´è· */
}
.weibo-post-item:last-child {
  /* è¿™ä¸ªè§„åˆ™ç°åœ¨ä¹Ÿä¸éœ€è¦äº†ï¼Œä½†ä¿ç•™ç€ä¹Ÿæ²¡å…³ç³» */
  border-bottom: none;
}

.weibo-post-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.weibo-post-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
}

.weibo-post-info {
  display: flex;
  flex-direction: column;
}

.weibo-post-nickname {
  font-weight: 600;
  font-size: 15px;
  color: var(--text-primary);
}

.weibo-post-timestamp {
  font-size: 12px;
  color: var(--text-secondary);
}

.weibo-post-content {
  font-size: 15px; /* å¾®åšæ­£æ–‡å­—ä½“ç¨å¤§ */
  line-height: 1.7;
  color: #333;
  white-space: pre-wrap;
  word-break: break-word;
  margin-bottom: 10px;
}

.weibo-post-image {
  width: 100%;
  max-height: 400px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 10px;
}

.weibo-post-footer {
  border-top: 1px solid #f0f0f0;
  padding-top: 8px;
  margin-top: 10px;
}

.weibo-post-actions {
  display: flex;
  justify-content: space-around; /* ä¸‰ä¸ªæŒ‰é’®å‡åˆ†ç©ºé—´ */
  margin-bottom: 10px;
}

.weibo-action-btn {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-secondary);
  cursor: pointer;
  font-size: 14px;
}
.weibo-action-btn.liked {
  color: #ff5252; /* ç‚¹èµåå˜çº¢ */
}
.weibo-action-btn svg {
  width: 20px;
  height: 20px;
}

.weibo-comments-container {
  padding: 10px;
  background-color: #f7f7f7;
  border-radius: 8px;
  font-size: 13px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-bottom: 10px;
}

.weibo-comment-item .weibo-commenter-name {
  font-weight: 600;
  color: var(--accent-color);
}
.weibo-comment-item .weibo-comment-reply-tag {
  color: var(--text-secondary);
  margin: 0 4px;
}

.weibo-comment-input-area {
  display: flex;
  gap: 8px;
}

.weibo-comment-input {
  flex-grow: 1;
  border: none;
  background-color: #f0f2f5;
  border-radius: 14px;
  padding: 8px 12px;
  font-size: 13px;
}

.weibo-comment-send-btn {
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 14px;
  padding: 0 15px;
  font-size: 13px;
  cursor: pointer;
}
/* â–²â–²â–² å¾®åšä¸“å±æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* å•æ¡è¯„è®ºçš„å®¹å™¨ï¼Œç°åœ¨éœ€è¦ç›¸å¯¹å®šä½ï¼Œå¹¶ä¸ºåˆ é™¤æŒ‰é’®ç•™å‡ºç©ºé—´ */
.weibo-comment-item {
  position: relative;
  padding-right: 25px;
}

/* è¯„è®ºåˆ é™¤æŒ‰é’®çš„æ ·å¼ */
.comment-delete-btn {
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  line-height: 22px;
  text-align: center;
  border-radius: 50%;
  color: var(--text-secondary);
  background-color: transparent; /* èƒŒæ™¯é€æ˜ */
  border: none; /* æ— è¾¹æ¡† */
  font-size: 20px; /* æ”¾å¤§"Ã—"å· */
  cursor: pointer;
  transition: all 0.2s ease;
  opacity: 0; /* é»˜è®¤éšè— */
}

/* é¼ æ ‡æ‚¬åœåœ¨æ•´æ¡è¯„è®ºä¸Šæ—¶ï¼Œæ‰æ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.weibo-comment-item:hover .comment-delete-btn {
  opacity: 1;
}

/* é¼ æ ‡æ‚¬åœåœ¨åˆ é™¤æŒ‰é’®ä¸Šæ—¶ï¼Œç»™ä¸€ç‚¹åé¦ˆæ•ˆæœ */
.comment-delete-btn:hover {
  background-color: #f0f0f0;
  color: #ff3b30; /* å˜çº¢è‰² */
}

#phone-screen.dark-mode .comment-delete-btn:hover {
  background-color: #3a3a3c; /* å¤œé—´æ¨¡å¼ä¸‹çš„æ‚¬åœèƒŒæ™¯è‰² */
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„å¾®åšçƒ­æœæ ·å¼ï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* === å¾®åšçƒ­æœåˆ—è¡¨æ ·å¼ === */
#weibo-hot-search-list {
  background-color: var(--secondary-bg);
}

.hot-search-item {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  transition: background-color 0.2s;
}

.hot-search-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode .hot-search-item:hover {
  background-color: #2c2c2e;
}

.hot-search-rank {
  width: 30px;
  font-size: 16px;
  font-weight: bold;
  color: var(--text-secondary);
  text-align: center;
  flex-shrink: 0;
}
/* å‰ä¸‰åç”¨ä¸åŒçš„é¢œè‰²çªå‡ºæ˜¾ç¤º */
.hot-search-item[data-rank="1"] .hot-search-rank {
  color: #f44336;
}
.hot-search-item[data-rank="2"] .hot-search-rank {
  color: #ff9800;
}
.hot-search-item[data-rank="3"] .hot-search-rank {
  color: #ffc107;
}

.hot-search-content {
  flex-grow: 1;
  display: flex;
  align-items: center;
  gap: 8px;
  overflow: hidden;
}

.hot-search-topic {
  font-size: 15px;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.hot-search-tag {
  font-size: 10px;
  color: white;
  padding: 2px 6px;
  border-radius: 4px;
  flex-shrink: 0;
}
.hot-search-tag.hot {
  background-color: #f44336;
}
.hot-search-tag.new {
  background-color: #ff9800;
}
.hot-search-tag.rec {
  background-color: #2196f3;
}

/* â–²â–²â–² å¾®åšçƒ­æœæ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* 1. è®©å¸–å­å¤´éƒ¨æˆä¸ºåˆ é™¤æŒ‰é’®çš„å®šä½å‚è€ƒç‚¹ */
.weibo-post-header {
  position: relative; /* å…³é”®ï¼ */
}

/* 2. åˆ é™¤æŒ‰é’®çš„æ ·å¼ */
.weibo-post-delete-btn {
  position: absolute; /* ç»å¯¹å®šä½ï¼Œè®©å®ƒæµ®åŠ¨èµ·æ¥ */
  top: 10px; /* è·ç¦»é¡¶éƒ¨10åƒç´  */
  right: 15px; /* è·ç¦»å³ä¾§15åƒç´  */
  width: 26px;
  height: 26px;
  background-color: rgba(0, 0, 0, 0.08); /* åŠé€æ˜çš„èƒŒæ™¯ */
  color: var(--text-secondary); /* ä½¿ç”¨å…¨å±€çš„æ¬¡è¦æ–‡å­—é¢œè‰² */
  border: none;
  border-radius: 50%; /* åœ†å½¢ */
  font-size: 20px; /* "Ã—"å·çš„å¤§å° */
  line-height: 26px; /* è®©"Ã—"å·å‚ç›´å±…ä¸­ */
  text-align: center;
  cursor: pointer;
  transition: all 0.2s ease; /* æ·»åŠ å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœ */
}

/* é¼ æ ‡æ”¾ä¸Šå»æ—¶ï¼Œå˜æˆé†’ç›®çš„çº¢è‰² */
.weibo-post-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
  transform: scale(1.1); /* è½»å¾®æ”¾å¤§ */
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å¾®åšå¸ƒå±€ç»ˆæä¿®å¤ã€‘çœŸæ­£è§£å†³æ‰€æœ‰é¡µé¢æ»šåŠ¨ä¸åˆ°åº•çš„é—®é¢˜ â–¼â–¼â–¼ */

/* 1. å¤–å±‚å®¹å™¨ä¸å†éœ€è¦â€œå«å­â€ï¼Œå®ƒçš„ä»»åŠ¡åªæ˜¯æ’‘å¼€ç©ºé—´ */
#weibo-page-container {
  flex-grow: 1;
  position: relative;
  overflow: hidden; /* ä¿æŒä¸å˜ */
}

/* 2. ã€æ ¸å¿ƒã€‘æŠŠâ€œå«å­â€åŠ åˆ°çœŸæ­£æ»šåŠ¨çš„åˆ—è¡¨è‡ªå·±èº«ä¸Šï¼ */
#weibo-profile-page,
#weibo-following-feed-list,
#weibo-hot-search-list,
#weibo-plaza-feed-list,
#weibo-hottopic-feed-list {
  flex-grow: 1;
  overflow-y: auto;

  /* 
       é­”æ³•å°±åœ¨è¿™é‡Œï¼æˆ‘ä»¬ä¸ºæ¯ä¸ªåˆ—è¡¨çš„åº•éƒ¨ï¼Œ
       éƒ½åŠ ä¸Šä¸€ä¸ªå’Œå¯¼èˆªæ ä¸€æ ·é«˜çš„å†…è¾¹è·ï¼ˆâ€œå«å­â€ï¼‰ã€‚
       è¿™æ ·åˆ—è¡¨æ»šåŠ¨åˆ°åº•æ—¶ï¼Œæœ€åä¸€æ¡è¯„è®ºå°±ä¼šè¢«è¿™ä¸ªå†…è¾¹è·å‘ä¸Šæ¨ï¼Œ
       æ­£å¥½æ˜¾ç¤ºåœ¨åº•éƒ¨å¯¼èˆªæ çš„ä¸Šæ–¹ï¼Œä¸ä¼šå†è¢«æŒ¡ä½äº†ï¼
    */
  padding-bottom: calc(50px + env(safe-area-inset-bottom));
  box-sizing: border-box; /* ç¡®ä¿å†…è¾¹è·è¢«æ­£ç¡®è®¡ç®— */
}

/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æŠŠè¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
#post-visibility-groups label {
  display: block;
  padding: 5px 0;
}
#post-visibility-groups input {
  margin-right: 8px;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å¾®åšå¸ƒå±€ç»ˆæä¿®å¤ã€‘è§£å†³æ‰€æœ‰é¡µé¢æ»šåŠ¨ä¸åˆ°åº•çš„é—®é¢˜ â–¼â–¼â–¼ */

/* 1. ç§»é™¤å¤–å±‚å®¹å™¨ä¸Šé”™è¯¯çš„å¤šä½™â€œå«å­â€ */
#weibo-page-container {
  padding-bottom: 0 !important;
}

/* 2. ã€æ ¸å¿ƒã€‘æŠŠâ€œå«å­â€ï¼ˆpadding-bottomï¼‰åŠ åˆ°çœŸæ­£æ»šåŠ¨çš„åˆ—è¡¨è‡ªå·±èº«ä¸Šï¼*/
#weibo-profile-page,
#weibo-following-feed-list,
#weibo-hot-search-list,
#weibo-plaza-feed-list,
#weibo-hottopic-feed-list {
  /* 
       é­”æ³•å°±åœ¨è¿™é‡Œï¼æˆ‘ä»¬ä¸ºæ¯ä¸ªåˆ—è¡¨çš„åº•éƒ¨ï¼Œ
       éƒ½åŠ ä¸Šä¸€ä¸ªå’Œå¯¼èˆªæ ä¸€æ ·é«˜çš„å†…è¾¹è·ï¼ˆâ€œå«å­â€ï¼‰ã€‚
       calc(50px + env(safe-area-inset-bottom)) ä¼šè‡ªåŠ¨è®¡ç®—å¯¼èˆªæ é«˜åº¦å’ŒiPhoneåº•éƒ¨å®‰å…¨åŒºé«˜åº¦ã€‚
    */
  padding-bottom: calc(50px + env(safe-area-inset-bottom)) !important;
  box-sizing: border-box; /* ç¡®ä¿å†…è¾¹è·è¢«æ­£ç¡®è®¡ç®— */
}
/* â–¼â–¼â–¼ ã€é—®é¢˜1ä¿®å¤ã€‘å¾®åšç¼–è¾‘èµ„æ–™æŒ‰é’®å¼ºåˆ¶æ˜¾ç¤º â–¼â–¼â–¼ */
/* è¯·å°†è¿™æ®µä»£ç ç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ */
#edit-weibo-profile-btn {
  display: flex !important; /* å¼ºåˆ¶æ˜¾ç¤ºä¸ºflexå®¹å™¨ */
  align-items: center;
  justify-content: center;
  color: var(--accent-color) !important; /* å¼ºåˆ¶ä½¿ç”¨ä¸»é¢˜è‰² */
}
#edit-weibo-profile-btn svg {
  stroke: currentColor !important; /* ç¡®ä¿SVGå›¾æ ‡ç»§æ‰¿ä¸Šé¢çš„é¢œè‰² */
}
/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* 1. è®©å…³æ³¨åˆ—è¡¨çš„æ¯ä¸€è¡Œéƒ½èƒ½å®¹çº³æ–°æŒ‰é’® */
.weibo-following-item {
  align-items: center; /* ç¡®ä¿å¤´åƒã€åå­—å’ŒæŒ‰é’®å‚ç›´å±…ä¸­å¯¹é½ */
}

/* 2. è¿™æ˜¯ä½ æ–°å¢çš„â€œæ“ä½œâ€æŒ‰é’®çš„æ ·å¼ */
.weibo-action-trigger-btn {
  margin-left: auto; /* æ ¸å¿ƒï¼šè®©æŒ‰é’®è‡ªåŠ¨é åˆ°æœ€å³è¾¹ */
  padding: 5px 8px;
  cursor: pointer;
  border-radius: 50%; /* åœ†å½¢æŒ‰é’®ï¼Œæ›´ç¾è§‚ */
  transition: background-color 0.2s;
}
.weibo-action-trigger-btn:hover {
  background-color: #e0e0e0;
}
#phone-screen.dark-mode .weibo-action-trigger-btn:hover {
  background-color: #3a3a3c;
}
.weibo-action-trigger-btn svg {
  width: 20px;
  height: 20px;
  stroke: var(--text-secondary); /* å›¾æ ‡é¢œè‰²è·Ÿéšä¸»é¢˜ */
  display: block; /* è§£å†³ä¸€äº›å¯¹é½é—®é¢˜ */
}

/* 3. ä¸ºæ“ä½œå¼¹çª—é‡Œçš„å•é€‰æŒ‰é’®ç¾åŒ–ä¸€ä¸‹ */
#weibo-action-type-select label {
  display: block;
  padding: 8px;
  border-radius: 6px;
  transition: background-color 0.2s;
}
#weibo-action-type-select label:hover {
  background-color: #f0f2f5;
}
#phone-screen.dark-mode #weibo-action-type-select label:hover {
  background-color: #2c2c2e;
}

/* â–²â–²â–² æ–°å¢CSSç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å¼¹çª—å±‚çº§ä¿®å¤ã€‘ç²˜è´´è¿™æ®µä»£ç åˆ°æ ·å¼æœ«å°¾ â–¼â–¼â–¼ */
#weibo-action-modal {
  z-index: 1002; /* è¿™ä¸ªå€¼æ¯”å…³æ³¨åˆ—è¡¨(1001)æ›´é«˜ï¼Œå°±ä¸ä¼šè¢«ç›–ä½äº† */
}
/* 4. å¸–å­é¡µåº•éƒ¨è¾“å…¥æ¡† */
/* â–¼â–¼â–¼ è¯·ç”¨è¿™å—æ–°ä»£ç æ›¿æ¢æ—§çš„ #post-comment-input-area æ ·å¼ â–¼â–¼â–¼ */
#post-comment-input-area {
  /* 
      æˆ‘ä»¬ç§»é™¤äº† position: absolute; å’Œç›¸å…³çš„ bottom, left å±æ€§ï¼Œ
      è®©å®ƒä»ä¸€ä¸ªâ€œæµ®åŠ¨å±‚â€å˜å›ä¸€ä¸ªæ­£å¸¸çš„å—çº§å…ƒç´ ï¼Œè‡ªç„¶åœ°æ’åœ¨å†…å®¹ä¸‹æ–¹ã€‚
      å…¶ä»–çš„æ ·å¼ä¼šä» .chat-input-area ç±»ç»§æ‰¿ï¼Œæ— éœ€æ‹…å¿ƒã€‚
    */
  width: 100%;
  box-sizing: border-box;
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² è®ºå›æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µã€å…¨æ–°ã€‘çš„è®ºå›ç¾åŒ–CSSï¼Œç²˜è´´åˆ°<style>æ ‡ç­¾çš„æœ«å°¾ â–¼â–¼â–¼ */

/* 1. ç¾åŒ–å¸–å­è¯¦æƒ…é¡µåº•éƒ¨çš„è¯„è®ºè¾“å…¥åŒºåŸŸ */
#post-comment-input-area {
  padding: 10px 15px; /* å¢åŠ å†…è¾¹è·ï¼Œè®©å®ƒä¸è´´è¾¹ */
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  /* é€‚é…iPhoneåº•éƒ¨å®‰å…¨åŒº */
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

/* 2. ã€æ ¸å¿ƒã€‘ç¾åŒ–è¯„è®ºè¾“å…¥æ¡†æœ¬èº« */
#post-comment-input-area #post-comment-input {
  background-color: #f0f2f5; /* æµ…ç°è‰²èƒŒæ™¯ï¼Œæ›´æœ‰å±‚æ¬¡æ„Ÿ */
  border: none;
  border-radius: 18px; /* åœ†è§’ï¼Œæ›´æŸ”å’Œ */
  padding: 10px 15px;
  font-size: 14px;
  resize: none; /* ç¦æ­¢ç”¨æˆ·æ‹–æ‹½å¤§å° */
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode #post-comment-input-area #post-comment-input {
  background-color: #2c2c2e;
}

/* 3. ç¾åŒ–å‘é€æŒ‰é’® */
#post-comment-input-area #send-post-comment-btn {
  height: 36px;
  border-radius: 18px; /* å’Œè¾“å…¥æ¡†ä¿æŒä¸€è‡´çš„åœ†è§’ */
  padding: 0 20px;
}

/* 4. ã€æ–°å¢ã€‘AIç”Ÿæˆè¯„è®ºæŒ‰é’®çš„æ ·å¼ */
.generate-comments-container {
  padding: 10px 20px 0 20px;
  border-bottom: 8px solid #f0f2f5;
}

#phone-screen.dark-mode .generate-comments-container {
  border-bottom-color: #000;
}

#generate-forum-comments-btn {
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 8px;
  background-color: #e9f5ff;
  color: var(--accent-color);
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

#generate-forum-comments-btn:hover {
  background-color: #d4eaff;
}
/* â–²â–²â–² è®ºå›ç¾åŒ–CSSç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è®ºå›å¸–å­/è¯„è®ºå¤´åƒä¸æ¥¼å±‚æ ·å¼ â–¼â–¼â–¼ */

/* 1. å¸–å­ä½œè€…åŒºåŸŸï¼šä½¿ç”¨flexå¸ƒå±€è®©å¤´åƒå’Œåå­—å¹¶æ’ */
#post-detail-content .post-detail-header {
  display: flex;
  align-items: center;
  gap: 12px; /* å¤´åƒå’Œå³ä¾§ä¿¡æ¯çš„é—´è· */
  padding-bottom: 20px;
  border-bottom: 1px solid var(--border-color);
  margin-bottom: 20px;
}

/* 2. å¸–å­ä½œè€…çš„å¤´åƒæ ·å¼ */
.post-author-avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
}

/* 4. ç§»é™¤æ—§çš„æ ‡é¢˜å¤–è¾¹è·ï¼Œå› ä¸ºflexå¸ƒå±€ä¼šå¤„ç†é—´è· */
#post-detail-content .post-detail-header h1 {
  margin: 0;
}
#post-detail-content .post-detail-header h1 {
  font-size: 18px; /* æ ‡é¢˜å¯ä»¥ç¨å¾®å°ä¸€ç‚¹ï¼Œæ›´åè°ƒ */
  margin-bottom: 4px;
}

/* 5. è¯„è®ºåŒºæ¯ä¸€æ¡è¯„è®ºçš„å¸ƒå±€ */
.post-comment-item {
  display: flex;
  gap: 10px; /* å¤´åƒå’Œå³ä¾§å†…å®¹çš„é—´è· */
  padding: 12px 0;
  border-bottom: 1px solid #f0f0f0;
}
#phone-screen.dark-mode .post-comment-item {
  border-bottom-color: #2c2c2e;
}

/* 6. è¯„è®ºè€…çš„å°å¤´åƒ */
.comment-avatar-small {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

/* 7. åŒ…è£¹è¯„è®ºæ‰€æœ‰æ–‡å­—å†…å®¹çš„å®¹å™¨ */
.comment-details {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

/* 8. è¯„è®ºçš„å¤´éƒ¨ï¼šåŒ…å«åå­—å’Œæ¥¼å±‚ */
.comment-header-line {
  display: flex;
  justify-content: space-between; /* è®©åå­—é å·¦ï¼Œæ¥¼å±‚é å³ */
  align-items: center;
  margin-bottom: 5px;
}

/* 9. è¯„è®ºæ¥¼å±‚å·çš„æ ·å¼ */
.comment-floor {
  font-size: 12px;
  color: var(--text-secondary);
  font-weight: 500;
}

/* 10. ç§»é™¤æ—§çš„è¯„è®ºä½œè€…å¤–è¾¹è· */
.post-comment-item .comment-author {
  margin-bottom: 0;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯ä¿®å¤è®ºå›è¯„è®ºåŒºå®½åº¦é—®é¢˜çš„æ–°å¢ä»£ç  â–¼â–¼â–¼ */
#post-comment-input-area #post-comment-input {
  flex-grow: 1; /* â˜…â˜…â˜… æ ¸å¿ƒä»£ç å°±æ˜¯è¿™è¡Œï¼è®©è¾“å…¥æ¡†è‡ªåŠ¨ä¼¸å±•ï¼Œå æ»¡æ‰€æœ‰å¯ç”¨å®½åº¦ â˜…â˜…â˜… */

  /* ä¸‹é¢è¿™äº›æ˜¯ç¾åŒ–æ ·å¼ï¼Œè®©å®ƒå’Œå…¶ä»–è¾“å…¥æ¡†é£æ ¼ç»Ÿä¸€ï¼Œè¿™æ¬¡æ²¡æœ‰ä¿®æ”¹é«˜åº¦å“¦ */
  border: none;
  background-color: #f0f2f5;
  border-radius: 18px;
  padding: 10px 15px;
  font-size: 14px;
  resize: none;
  box-sizing: border-box;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode #post-comment-input-area #post-comment-input {
  background-color: #2c2c2e;
}
/* â–²â–²â–² æ–°å¢ä»£ç ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ç”¨è¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œæ›¿æ¢æ‰ä½ æ—§çš„æ‰€æœ‰å¡”ç½—ç‰Œç›¸å…³CSS â–¼â–¼â–¼ */

/* 1. å åœç»“æœå¼¹çª—å†…çš„æ ·å¼ï¼ˆçº¯æ–‡å­—ç‰ˆï¼‰ */
#tarot-result-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
}
.tarot-result-question {
  font-size: 14px;
  font-weight: 500;
  color: var(--text-secondary);
  background-color: #f0f2f5;
  padding: 8px 12px;
  border-radius: 8px;
  width: 95%;
  text-align: center;
}
#phone-screen.dark-mode .tarot-result-question {
  background-color: #2c2c2e;
}
.tarot-spread-container {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 10px;
}
.tarot-card-wrapper {
  background-color: #fff;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 8px;
  min-width: 120px;
  text-align: center;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}
#phone-screen.dark-mode .tarot-card-wrapper {
  background-color: #1c1c1e;
}
.tarot-card-position {
  font-size: 12px;
  font-weight: 600;
  color: var(--accent-color);
  margin-bottom: 4px;
}
.tarot-card-name {
  font-size: 14px;
}

/* 3. å†å²è®°å½•æ ·å¼ (ä¿æŒä¸å˜) */
#tarot-history-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.tarot-history-item {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 12px;
  position: relative;
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .tarot-history-item {
  background-color: #2c2c2e;
}
.tarot-history-item .question {
  font-weight: 600;
  margin-bottom: 8px;
}
.tarot-history-item .details {
  font-size: 13px;
  color: var(--text-secondary);
  white-space: pre-wrap;
}
.tarot-history-delete-btn {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 24px;
  height: 24px;
  background-color: #e0e0e0;
  color: #888;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 18px;
  line-height: 24px;
  text-align: center;
}
#phone-screen.dark-mode .tarot-history-delete-btn {
  background-color: #3e3e42;
}
/* â–¼â–¼â–¼ ç¬¬1æ­¥ï¼šä»è¿™é‡Œå¼€å§‹å¤åˆ¶æ›¿æ¢ â–¼â–¼â–¼ */

#lovers-space-screen {
  background-color: #f0f2f5; /* ä¿ç•™ä¸€ä¸ªå¤‡ç”¨èƒŒæ™¯è‰² */
  background-size: cover; /* èƒŒæ™¯å›¾è¦†ç›–æ•´ä¸ªåŒºåŸŸ */
  background-position: center; /* èƒŒæ™¯å›¾å±…ä¸­æ˜¾ç¤º */
  background-repeat: no-repeat; /* èƒŒæ™¯å›¾ä¸é‡å¤ */
}

/* å¤´éƒ¨ */
#ls-header {
  height: 220px;
  position: relative;
  /* ã€æ ¸å¿ƒä¿®æ”¹ã€‘ç§»é™¤äº† background-size å’Œ background-position */
  color: white;
  flex-shrink: 0;
  background-color: transparent; /* ã€æ ¸å¿ƒä¿®æ”¹ã€‘è®©å¤´éƒ¨èƒŒæ™¯å˜é€æ˜ï¼Œä»¥æ˜¾ç¤ºä¸‹æ–¹çš„å…¨å±èƒŒæ™¯ */
}

/* â–²â–²â–² ç¬¬1æ­¥ï¼šå¤åˆ¶æ›¿æ¢åˆ°è¿™é‡Œç»“æŸ â–²â–²â–² */

/* --- ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘ä¿®å¤æƒ…ä¾£ç©ºé—´é¡¶éƒ¨æŒ‰é’®æ— æ³•ç‚¹å‡»çš„é—®é¢˜ --- */
/* --- ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘ä¿®å¤é®ç½©å±‚æ‹¦æˆªç‚¹å‡»çš„é—®é¢˜ --- */

.ls-header-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: transparent;

  /* â–¼â–¼â–¼ æ ¸å¿ƒä¿®å¤ï¼šè®©è¿™ä¸ªé®ç½©å±‚å¯¹é¼ æ ‡äº‹ä»¶â€œé€æ˜â€ï¼ â–¼â–¼â–¼ */
  pointer-events: none;
  /* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
}

/* --- ã€å·²ä¿®å¤ã€‘æƒ…ä¾£ç©ºé—´é¡¶éƒ¨æ å±‚çº§é—®é¢˜ --- */

.ls-header-top-bar {
  position: relative;
  z-index: 3; /* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ï¼šå°†å±‚çº§ä» 2 æå‡åˆ° 3 â˜…â˜…â˜… */
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  padding-top: calc(15px + env(safe-area-inset-top));
}

#ls-char-name {
  font-size: 18px;
  font-weight: 600;
}
#ls-switch-char-btn {
  font-size: 16px;
}

.ls-header-avatars {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: 15px;
  z-index: 2;
}
.ls-header-avatars img {
  width: 65px;
  height: 65px;
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}
.ls-header-avatars .heart-icon {
  font-size: 28px;
  color: #ff4d6d;
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
}

/* â–¼â–¼â–¼ è¯·ç”¨è¿™ã€ä¸€æ•´å—ã€‘å…¨æ–°çš„ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ—§çš„ #ls-tab-bar å’Œ .ls-tab-item æ ·å¼ â–¼â–¼â–¼ */

/* é¡µç­¾æ  (V2 - æ‚¬æµ®æ’‘æ»¡ç‰ˆ) */
/* â–¼â–¼â–¼ è¯·ç”¨è¿™å—ã€æ‚¬æµ®èƒ¶å›Šæœ€ç»ˆç‰ˆã€‘ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰ä½ æ—§çš„ #ls-tab-bar æ ·å¼ â–¼â–¼â–¼ */
#ls-tab-bar {
  display: flex;
  flex-shrink: 0;
  position: relative;
  z-index: 5;

  /* --- æ ¸å¿ƒä¿®æ”¹åœ¨è¿™é‡Œ --- */
  /* 1. ä½¿ç”¨ margin å®ç°ä¸Šä¸‹å·¦å³çš„è¾¹è·ï¼Œè¥é€ æ‚¬æµ®æ„Ÿ */
  margin: -20px 5px 10px 5px; /* æŠŠå·¦å³çš„ 15px æ”¹æˆäº† 5px */

  /* 2. ä¸ºæ‰€æœ‰å››ä¸ªè§’éƒ½è®¾ç½®åœ†è§’ï¼Œå½¢æˆå¯çˆ±çš„èƒ¶å›Šå½¢çŠ¶ */
  border-radius: 25px;

  background-color: var(--secondary-bg);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* é˜´å½±å¯ä»¥è®©æ‚¬æµ®æ„Ÿæ›´å¼º */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* å•ä¸ªé¡µç­¾é¡¹ç›® (V2) */
.ls-tab-item {
  flex: 1;
  text-align: center;
  /* æ ¸å¿ƒä¿®æ”¹ï¼špadding ä» 12px å¢åŠ åˆ° 15pxï¼Œè®©å¯¼èˆªæ ã€æ‹‰é•¿ä¸€ç‚¹ã€‘(æ›´é«˜) */
  padding: 15px 0;
  font-weight: 500;
  color: var(--text-secondary);
  cursor: pointer;
  position: relative;
  /* æ–°å¢ï¼šä¸ºå›¾æ ‡çš„ç¼©æ”¾å’Œé¢œè‰²å˜åŒ–æ·»åŠ å¹³æ»‘è¿‡æ¸¡ */
  transition: color 0.2s ease;
}

/* æ¿€æ´»çŠ¶æ€çš„é¡µç­¾ (V2) */
.ls-tab-item.active {
  color: var(--accent-color);
}

/* æ¿€æ´»çŠ¶æ€çš„ä¸‹åˆ’çº¿æŒ‡ç¤ºå™¨ (ä¿æŒä¸å˜) */
.ls-tab-item.active::after {
  content: "";
  position: absolute;
  bottom: 8px; /* å¾®è°ƒä½ç½®ä»¥é€‚åº”æ›´é«˜çš„å¯¼èˆªæ  */
  left: 50%;
  transform: translateX(-50%);
  width: 28px;
  height: 3px;
  background-color: var(--accent-color);
  border-radius: 1.5px;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºSVGå›¾æ ‡æ–°å¢çš„æ ·å¼ï¼Œè¯·æŠŠå®ƒä¹Ÿç²˜è´´åˆ°<style>é‡Œ â–¼â–¼â–¼ */
.ls-tab-item svg {
  width: 24px;
  height: 24px;
  /* ä¸ºå›¾æ ‡çš„å¤§å°å’Œç²—ç»†å˜åŒ–æ·»åŠ å¹³æ»‘è¿‡æ¸¡ */
  transition: all 0.2s ease-in-out;
}

/* æ¿€æ´»çŠ¶æ€çš„å›¾æ ‡ï¼Œä¼šå˜å¾—æ›´ç²—ã€æ›´å¤§ä¸€ç‚¹ï¼Œéå¸¸é†’ç›® */
.ls-tab-item.active svg {
  stroke-width: 2.5;
  transform: scale(1.1);
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */

/* å†…å®¹åŒºåŸŸ */
#ls-content-area {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
.ls-view {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  display: none;
  padding: 15px;
  box-sizing: border-box;
}
.ls-view.active {
  display: block;
}

/* æµ®åŠ¨æ·»åŠ æŒ‰é’® */
/* â–¼â–¼â–¼ è¯·ç”¨è¿™å—ã€ç»ˆæå±…ä¸­ä¿®å¤ç‰ˆã€‘ä»£ç ï¼Œæ›¿æ¢æ—§çš„ .ls-fab-btn æ ·å¼ â–¼â–¼â–¼ */
/* â–¼â–¼â–¼ è¿™æ˜¯SVGé€‚é…ç‰ˆçš„æœ€ç»ˆä»£ç  â–¼â–¼â–¼ */
.ls-fab-btn {
  position: fixed;
  bottom: calc(30px + env(safe-area-inset-bottom));
  right: 30px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: var(--accent-color);
  color: white;
  border: none;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  z-index: 10;

  /* ä¾ç„¶ä½¿ç”¨Flexboxæ¥å±…ä¸­SVGå›¾æ ‡ */
  display: flex;
  justify-content: center;
  align-items: center;

  /* ç§»é™¤æ‰€æœ‰ä¸å­—ä½“ç›¸å…³çš„å±æ€§ */
  /* font-size: 28px; (å·²ç§»é™¤) */
  /* line-height: normal; (å·²ç§»é™¤) */
}

/* (å¯é€‰) å¦‚æœä½ è§‰å¾—SVGæœ‰ç‚¹å°æˆ–å¤§ï¼Œå¯ä»¥å¾®è°ƒå®ƒçš„å¤§å° */
.ls-fab-btn svg {
  width: 24px;
  height: 24px;
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* è¯´è¯´å¡ç‰‡ */
#ls-moments-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
/* è¯´è¯´å¡ç‰‡ */
/* ... */
.ls-moment-card {
  position: relative; /* â˜…â˜…â˜… æ ¸å¿ƒä¿®å¤ï¼šå°±æ˜¯åŠ ä¸Šè¿™ä¸€è¡Œï¼ â˜…â˜…â˜… */
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
  display: flex;
  gap: 12px;
}
/* ... */

.ls-moment-card .avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  flex-shrink: 0;
}
.ls-moment-card .moment-main {
  display: flex;
  flex-direction: column;
}
.ls-moment-card .author {
  font-weight: 600;
  color: var(--text-primary);
}
.ls-moment-card .content {
  margin-top: 5px;
  font-size: 15px;
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
}
.ls-moment-card .timestamp {
  margin-top: 10px;
  font-size: 12px;
  color: var(--text-secondary);
}

/* ç›¸å†Œåˆ—è¡¨ */
/* â–¼â–¼â–¼ ç”¨è¿™å—æ–°æ ·å¼æ›¿æ¢æ—§çš„ #ls-album-list â–¼â–¼â–¼ */
#ls-album-list {
  display: grid;
  /* æ ¸å¿ƒä¿®æ”¹ï¼šä»2åˆ—å˜ä¸º3åˆ—ï¼Œé—´è·ä»15pxç¼©å°ä¸º5px */
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
.ls-album-item {
  cursor: pointer;
}
.ls-album-item .cover {
  width: 100%;
  aspect-ratio: 1 / 1;
  background-color: #e9ecef;
  background-size: cover;
  background-position: center;
  border-radius: 8px;
  margin-bottom: 8px;
}
.ls-album-item .name {
  font-weight: 500;
  text-align: center;
}

/* ç…§ç‰‡ä¸Šä¼ é¢„è§ˆ */
#ls-photo-preview-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 15px;
}
.ls-photo-preview-item {
  position: relative;
  aspect-ratio: 1 / 1;
}
.ls-photo-preview-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 6px;
}
/* æƒ…ä¹¦å’Œåˆ†äº«åˆ—è¡¨ */
.ls-list-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px 15px;
  margin-bottom: 10px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  cursor: pointer;
}
.ls-list-item .title {
  font-weight: 500;
  margin-bottom: 5px;
}
.ls-list-item .meta {
  font-size: 12px;
  color: var(--text-secondary);
}
.ls-share-item .share-type {
  display: inline-block;
  padding: 2px 6px;
  font-size: 10px;
  border-radius: 4px;
  margin-right: 8px;
  color: white;
}
.share-type.song {
  background-color: #28a745;
}
.share-type.movie {
  background-color: #fd7e14;
}
.share-type.book {
  background-color: #6f42c1;
}
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* ã€æ ¸å¿ƒä¿®å¤ã€‘è®©æ ‡é¢˜ç»å¯¹å±…ä¸­ï¼Œä¸å†å—ä¸¤è¾¹æŒ‰é’®æ•°é‡å½±å“ */
#ls-header #ls-char-name {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 60%; /* é™åˆ¶æœ€å¤§å®½åº¦ï¼Œé˜²æ­¢ä¸æŒ‰é’®é‡å  */
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ã€æ–°å¢ã€‘å¤´åƒå’Œè®¡æ•°å™¨çš„æ€»å®¹å™¨ï¼Œè´Ÿè´£æ•´ä½“å®šä½ */
.ls-avatar-and-counter-wrapper {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 2;
  display: flex;
  flex-direction: column; /* è®©å¤´åƒå’Œè®¡æ•°å™¨å‚ç›´æ’åˆ— */
  align-items: center; /* æ°´å¹³å±…ä¸­ */
  gap: 10px; /* å¤´åƒå’Œè®¡æ•°å™¨ä¹‹é—´çš„å‚ç›´é—´è· */
}

/* ã€ä¿®æ”¹ã€‘ç§»é™¤æ—§çš„å¤´åƒç»å¯¹å®šä½ï¼Œå› ä¸ºå®ƒç°åœ¨è¢«æ–°å®¹å™¨ç®¡ç†äº† */
.ls-header-avatars {
  position: static; /* æ”¹ä¸ºé™æ€å®šä½ */
  transform: none;
  bottom: auto;
  left: auto;
  /* å…¶ä»–æ ·å¼ï¼ˆå¦‚å¤´åƒå¤§å°ã€è¾¹æ¡†ç­‰ï¼‰ä¿æŒä¸å˜ */
}

/* ã€ä¿®æ”¹ã€‘ç§»é™¤æ—§çš„è®¡æ•°å™¨å®šä½æ ·å¼ï¼Œè®©å®ƒåœ¨æ–°å®¹å™¨é‡Œè‡ªç„¶æ’åˆ— */
#ls-days-counter {
  position: static;
  margin-top: 0;
  /* å…¶ä»–æ ·å¼ï¼ˆå¦‚å­—ä½“é¢œè‰²ã€é˜´å½±ç­‰ï¼‰ä¿æŒä¸å˜ */
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* 1. è®©ç›¸å†Œé¡¹ç›®æˆä¸ºåˆ é™¤æŒ‰é’®çš„å®šä½å‚è€ƒç‚¹ */
.ls-album-item .cover {
  position: relative; /* å…³é”®ï¼ */
  overflow: hidden; /* é˜²æ­¢åˆ é™¤æŒ‰é’®æº¢å‡ºåœ†è§’ */
}

/* 2. åˆ é™¤æŒ‰é’®çš„æ ·å¼ */
.ls-photo-delete-btn {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 24px;
  height: 24px;
  background-color: rgba(0, 0, 0, 0.6);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  line-height: 24px; /* ç¡®ä¿ "Ã—" å‚ç›´å±…ä¸­ */
  text-align: center;
  cursor: pointer;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: opacity 0.2s ease;
  z-index: 5; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
}

/* 3. é¼ æ ‡æ‚¬åœåœ¨å°é¢ä¸Šæ—¶ï¼Œæ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.ls-album-item .cover:hover .ls-photo-delete-btn {
  opacity: 1;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºæƒ…ä¾£ç©ºé—´â€œè¯´è¯´â€æ–°å¢çš„æ ·å¼ â–¼â–¼â–¼ */

/* è¯´è¯´å¡ç‰‡åº•éƒ¨çš„äº’åŠ¨åŒºï¼ˆè¯„è®ºè¾“å…¥ã€åˆ é™¤æŒ‰é’®ç­‰ï¼‰ */
.ls-moment-footer {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid #f0f0f0; /* å’Œå†…å®¹åŒºåˆ†éš”å¼€ */
}

/* è¯„è®ºåˆ—è¡¨çš„å®¹å™¨ */
.ls-moment-comments-container {
  display: flex;
  flex-direction: column;
  gap: 8px; /* æ¯æ¡è¯„è®ºä¹‹é—´çš„é—´è· */
  font-size: 14px;
  margin-bottom: 10px;
}

/* æ¯ä¸€æ¡è¯„è®ºçš„æ ·å¼ */
.ls-comment-item {
  position: relative; /* ä¸ºäº†å®šä½åˆ é™¤æŒ‰é’® */
  padding-right: 25px; /* ç»™åˆ é™¤æŒ‰é’®ç•™å‡ºç©ºé—´ */
  line-height: 1.5;
}

.ls-comment-item .commenter-name {
  font-weight: 600;
  color: var(--accent-color); /* ä½¿ç”¨ä¸»é¢˜è‰² */
  margin-right: 5px;
}

/* è¯„è®ºçš„åˆ é™¤æŒ‰é’® */
.ls-comment-delete-btn {
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  line-height: 22px;
  text-align: center;
  border-radius: 50%;
  color: var(--text-secondary);
  font-size: 18px;
  cursor: pointer;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: all 0.2s ease;
}

/* é¼ æ ‡æ”¾ä¸Šå»æ‰æ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.ls-comment-item:hover .ls-comment-delete-btn {
  opacity: 1;
}
.ls-comment-delete-btn:hover {
  background-color: #f0f0f0;
  color: #ff3b30;
}

/* è¯„è®ºè¾“å…¥åŒºåŸŸçš„æ ·å¼ */
.ls-comment-input-area {
  display: flex;
  gap: 8px;
  align-items: center;
}

.ls-comment-input-area input {
  flex-grow: 1;
  border: none;
  background-color: #f0f2f5;
  border-radius: 15px;
  padding: 8px 12px;
  font-size: 14px;
}

.ls-comment-input-area button {
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 15px;
  padding: 8px 15px;
  font-size: 14px;
  cursor: pointer;
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
}

/* è¯´è¯´å¡ç‰‡æœ¬èº«çš„åˆ é™¤æŒ‰é’® */
.ls-moment-delete-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 24px;
  height: 24px;
  background-color: rgba(0, 0, 0, 0.08);
  color: var(--text-secondary);
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 18px;
  line-height: 24px;
  text-align: center;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: all 0.2s ease;
}
.ls-moment-card:hover .ls-moment-delete-btn {
  opacity: 1; /* é¼ æ ‡æ”¾ä¸Šå»æ‰æ˜¾ç¤º */
}
.ls-moment-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}

/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€ä¿¡çº¸ç¾åŒ–ç‰ˆã€‘ä»£ç ï¼Œå®Œæ•´æ›¿æ¢æ‰ä¸Šä¸€ç‰ˆçš„æ‰€æœ‰æƒ…ä¹¦CSS â–¼â–¼â–¼ */

/* --- ã€å…¨æ–°ç¾åŒ–ç‰ˆã€‘æƒ…ä¾£ç©ºé—´æƒ…ä¹¦åŠŸèƒ½æ ·å¼ --- */

/* 1. æƒ…ä¹¦åˆ—è¡¨ä¸ºç©ºæ—¶çš„æç¤º (ä¸å˜) */
#ls-letters-list .ls-empty-placeholder {
  text-align: center;
  color: var(--text-secondary);
  padding: 50px 0;
}

/* 2. å•ä¸ªæƒ…ä¹¦å¡ç‰‡çš„æ ·å¼ (å·²ä¿®æ”¹) */
.ls-love-letter-item {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.07);
  cursor: pointer;
  transition:
    transform 0.2s,
    box-shadow 0.2s;
  display: flex;
  gap: 12px;
  align-items: center;
}
.ls-love-letter-item:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

/* 3. æƒ…ä¹¦å›¾æ ‡çš„æ ·å¼ (ä¸å˜) */
.ls-love-letter-item .letter-icon {
  flex-shrink: 0;
  width: 45px;
  height: 45px;
  color: #ff8fab;
}

/* 4. æƒ…ä¹¦ä¸»è¦ä¿¡æ¯åŒº (å·²ä¿®æ”¹ï¼ŒåŠ å…¥å¤´åƒ) */
.ls-love-letter-item .letter-info {
  flex-grow: 1;
  overflow: hidden;
}
/* ã€æ ¸å¿ƒä¿®æ”¹ã€‘æ”¶ä»¶äººåŒºåŸŸç°åœ¨åŒ…å«å¤´åƒå’Œåå­— */
.ls-love-letter-item .letter-recipient {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 5px;
}
.ls-love-letter-item .letter-recipient .avatar {
  width: 24px;
  height: 24px;
  border-radius: 50%;
}
.ls-love-letter-item .letter-preview {
  font-size: 13px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 5. å‘ä¿¡äººä¿¡æ¯ (ä¸å˜) */
.ls-love-letter-item .letter-sender {
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: var(--text-secondary);
}
.ls-love-letter-item .letter-sender .avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
}

/* 6. ã€å…¨æ–°ã€‘æƒ…ä¹¦è¯¦æƒ…æŸ¥çœ‹å™¨ (ä¿¡çº¸æ ·å¼) */
#ls-letter-viewer-modal {
  z-index: 1001; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
}
.ls-letter-viewer-content {
  background-color: #fdfaef; /* æ¸©é¦¨çš„ç±³é»„è‰²ä¿¡çº¸èƒŒæ™¯ */
  width: 90%;
  max-width: 340px;
  height: 75%;
  border-radius: 15px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
  display: flex;
  flex-direction: column;
  font-family: "Kaiti", "STKaiti", serif; /* ä½¿ç”¨æ›´å…¸é›…çš„æ¥·ä½“ */
}
.letter-viewer-header {
  padding: 15px;
  border-bottom: 1px dashed #e0d9c7;
  display: flex;
  align-items: center;
  gap: 10px;
  color: #5d4037;
}
.letter-viewer-header .meta-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
}
.letter-viewer-header .recipient-info .label {
  font-size: 13px;
  color: #a1887f;
}
.letter-viewer-header .recipient-info .name {
  font-size: 16px;
  font-weight: 600;
}
.letter-viewer-body {
  flex-grow: 1;
  padding: 20px;
  font-size: 16px;
  line-height: 2; /* æ›´å¤§çš„è¡Œé«˜ï¼Œæ¨¡æ‹Ÿæ‰‹å†™ä¿¡çš„èˆ’é€‚æ„Ÿ */
  color: #4a443b;
  overflow-y: auto;
  white-space: pre-wrap;
  word-break: break-word;
}
.letter-viewer-footer {
  padding: 15px;
  border-top: 1px dashed #e0d9c7;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
}
.letter-viewer-footer .sender-info {
  font-size: 14px;
  color: #5d4037;
  font-weight: 600;
}
.letter-viewer-footer .sender-info .timestamp {
  font-size: 11px;
  color: #a1887f;
  font-weight: normal;
}
.letter-viewer-footer .letter-actions {
  display: flex;
  gap: 10px;
}
.letter-viewer-footer .letter-actions button {
  padding: 8px 15px;
  border-radius: 15px;
  border: 1px solid #d4bda5;
  background-color: transparent;
  color: #8c7b6c;
  cursor: pointer;
  font-size: 14px;
}
.letter-viewer-footer .letter-actions button.primary {
  background-color: #ff8fab;
  color: white;
  border-color: #ff8fab;
}

/* Love letter viewer override â€“ airy ribbon paper */
#ls-letter-viewer-modal {
  z-index: 1001;
}
.ls-letter-viewer-content {
  position: relative;
  background:
    radial-gradient(
      circle at 18% 12%,
      rgba(255, 205, 220, 0.4),
      transparent 45%
    ),
    radial-gradient(
      circle at 85% 18%,
      rgba(196, 228, 255, 0.32),
      transparent 40%
    ),
    linear-gradient(150deg, #fffaf6 0%, #fff3f8 45%, #fff7ef 100%);
  width: 92%;
  max-width: 360px;
  height: 76%;
  border-radius: 18px;
  border: 2px solid rgba(255, 190, 210, 0.7);
  box-shadow:
    0 16px 42px rgba(255, 155, 176, 0.22),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
  display: flex;
  flex-direction: column;
  font-family: "Kaiti", "STKaiti", serif;
  overflow: hidden;
}
.ls-letter-viewer-content::after {
  content: "";
  position: absolute;
  inset: 14px 12px 12px;
  border-radius: 14px;
  border: 1px dashed rgba(255, 170, 195, 0.55);
  pointer-events: none;
}
.ls-letter-viewer-content::before {
  content: "";
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 64%;
  height: 10px;
  border-radius: 999px;
  background: linear-gradient(90deg, #ffd8e6, #c7e7ff);
  box-shadow: 0 8px 18px rgba(255, 169, 191, 0.35);
  opacity: 0.75;
}
.letter-viewer-header {
  padding: 16px 18px;
  border-bottom: 1px dashed #f2c1d4;
  display: flex;
  align-items: center;
  gap: 12px;
  color: #6a4a53;
  background: linear-gradient(
    120deg,
    rgba(255, 232, 242, 0.95),
    rgba(255, 247, 230, 0.92)
  );
}
.letter-viewer-header .meta-avatar {
  width: 42px;
  height: 42px;
  border-radius: 12px;
  border: 2px solid #fff;
  box-shadow: 0 4px 10px rgba(255, 143, 171, 0.35);
  object-fit: cover;
}
.letter-viewer-header .recipient-info .label {
  font-size: 13px;
  color: #b37b8c;
  letter-spacing: 0.2px;
}
.letter-viewer-header .recipient-info .name {
  font-size: 17px;
  font-weight: 700;
}
.letter-viewer-body {
  flex-grow: 1;
  margin: 12px 14px;
  padding: 18px 16px;
  font-size: 16px;
  line-height: 1.9;
  color: #4f3f45;
  overflow-y: auto;
  white-space: pre-wrap;
  word-break: break-word;
  background: repeating-linear-gradient(
    180deg,
    rgba(255, 232, 240, 0.62) 0,
    rgba(255, 232, 240, 0.62) 28px,
    rgba(255, 255, 255, 0.9) 28px,
    rgba(255, 255, 255, 0.9) 56px
  );
  border-radius: 12px;
  box-shadow: inset 0 1px 8px rgba(255, 170, 195, 0.18);
}
.letter-viewer-body em,
.letter-viewer-body strong {
  color: #d66c93;
}
.letter-viewer-footer {
  padding: 14px 16px;
  border-top: 1px dashed #f2c1d4;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  background: linear-gradient(
    90deg,
    rgba(255, 240, 245, 0.92),
    rgba(255, 250, 240, 0.94)
  );
}
.letter-viewer-footer .sender-info {
  font-size: 14px;
  color: #6a4a53;
  font-weight: 600;
  line-height: 1.4;
}
.letter-viewer-footer .sender-info .timestamp {
  font-size: 11px;
  color: #b37b8c;
  font-weight: normal;
}
.letter-viewer-footer .letter-actions {
  display: flex;
  gap: 10px;
}
.letter-viewer-footer .letter-actions button {
  padding: 9px 16px;
  border-radius: 18px;
  border: 1px solid #ffcde0;
  background: #fff;
  color: #d36d93;
  cursor: pointer;
  font-size: 14px;
  box-shadow: 0 6px 16px rgba(255, 143, 171, 0.2);
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease;
}
.letter-viewer-footer .letter-actions button:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 18px rgba(255, 143, 171, 0.28);
}
.letter-viewer-footer .letter-actions button.primary {
  background: linear-gradient(135deg, #ff9ab3, #ffd2e4);
  color: #fff;
  border-color: transparent;
}

/* â–²â–²â–² æ ·å¼æ›¿æ¢ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºæƒ…ä¹¦æ–°å¢çš„æ ·å¼ â–¼â–¼â–¼ */

/* 1. è®©æƒ…ä¹¦å¡ç‰‡å¯ä»¥ä½œä¸ºåˆ é™¤æŒ‰é’®çš„å®šä½å‚è€ƒç‚¹ */
.ls-love-letter-item {
  position: relative; /* å…³é”®ï¼ */
}

/* 2. åˆ é™¤æŒ‰é’®çš„æ ·å¼ */
.ls-letter-delete-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 24px;
  height: 24px;
  background-color: rgba(0, 0, 0, 0.1);
  color: #888;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  line-height: 24px;
  text-align: center;
  cursor: pointer;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: all 0.2s ease;
  z-index: 5; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
}

/* 3. é¼ æ ‡æ‚¬åœåœ¨æ•´å¼ å¡ç‰‡ä¸Šæ—¶ï¼Œæ‰æ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.ls-love-letter-item:hover .ls-letter-delete-btn {
  opacity: 1;
}

/* 4. é¼ æ ‡æ‚¬åœåœ¨åˆ é™¤æŒ‰é’®ä¸Šæ—¶ï¼Œç»™ä¸€ç‚¹åé¦ˆæ•ˆæœ */
.ls-letter-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- ã€å…¨æ–°ã€‘æƒ…ä¾£ç©ºé—´-æƒ…ä¾£æé—®æ ·å¼ --- */

#ls-questions-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.ls-question-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  overflow: hidden; /* é˜²æ­¢å†…éƒ¨å…ƒç´ æº¢å‡ºåœ†è§’ */
}

.ls-question-section,
.ls-answer-section {
  padding: 15px;
  display: flex;
  gap: 12px;
  align-items: flex-start;
}

.ls-question-section {
  border-bottom: 1px dashed var(--border-color);
}

.ls-question-card .qa-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  flex-shrink: 0;
}

.ls-question-card .qa-main {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.ls-question-card .qa-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.ls-question-card .qa-author {
  font-weight: 600;
}

.ls-question-card .qa-timestamp {
  font-size: 11px;
  color: var(--text-secondary);
}

.ls-question-card .qa-content {
  font-size: 15px;
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
}

.ls-answer-placeholder {
  padding: 20px;
  text-align: center;
}

.ls-answer-btn {
  padding: 8px 20px;
  border: 1px solid var(--accent-color);
  background-color: transparent;
  color: var(--accent-color);
  border-radius: 20px;
  cursor: pointer;
  font-weight: 500;
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºâ€œæƒ…ä¾£æé—®â€æ–°å¢çš„åˆ é™¤æŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */

/* 1. è®©æé—®å¡ç‰‡å¯ä»¥ä½œä¸ºåˆ é™¤æŒ‰é’®çš„å®šä½å‚è€ƒç‚¹ */
.ls-question-card {
  position: relative; /* å…³é”®ï¼ */
}

/* 2. åˆ é™¤æŒ‰é’®çš„æ ·å¼ */
.ls-question-delete-btn {
  position: absolute; /* ç»å¯¹å®šä½ï¼Œè®©å®ƒæµ®åŠ¨èµ·æ¥ */
  top: 10px;
  right: 10px;
  width: 24px;
  height: 24px;
  background-color: rgba(0, 0, 0, 0.08); /* åŠé€æ˜çš„èƒŒæ™¯ */
  color: var(--text-secondary); /* ä½¿ç”¨å…¨å±€çš„æ¬¡è¦æ–‡å­—é¢œè‰² */
  border: none;
  border-radius: 50%; /* åœ†å½¢ */
  font-size: 18px; /* "Ã—"å·çš„å¤§å° */
  line-height: 24px; /* è®©"Ã—"å·å‚ç›´å±…ä¸­ */
  text-align: center;
  cursor: pointer;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: all 0.2s ease; /* æ·»åŠ å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœ */
  z-index: 5; /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
}

/* 3. é¼ æ ‡æ‚¬åœåœ¨æ•´å¼ å¡ç‰‡ä¸Šæ—¶ï¼Œæ‰æ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.ls-question-card:hover .ls-question-delete-btn {
  opacity: 1;
}

/* 4. é¼ æ ‡æ‚¬åœåœ¨åˆ é™¤æŒ‰é’®ä¸Šæ—¶ï¼Œç»™ä¸€ç‚¹åé¦ˆæ•ˆæœ */
.ls-question-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºâ€œåˆ†äº«â€åŠŸèƒ½æ–°å¢çš„æ ·å¼ â–¼â–¼â–¼ */

.ls-share-item .title {
  font-weight: 600; /* æ ‡é¢˜åŠ ç²— */
}

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€å·²ä¿®å¤æ¢è¡Œé—®é¢˜ã€‘çš„ä»£ç ï¼Œæ›¿æ¢æ‰æ—§çš„ .ls-share-item .summary æ ·å¼ â–¼â–¼â–¼ */
.ls-share-item .summary {
  font-size: 14px;
  color: #666;
  margin-top: 8px;
  line-height: 1.6;
  /* --- æ ¸å¿ƒä¿®æ”¹ï¼šå…è®¸æ–‡å­—è‡ªåŠ¨æ¢è¡Œ --- */
  white-space: normal; /* <--- å…è®¸æ¢è¡Œ */
  overflow: visible; /* <--- å…è®¸å†…å®¹æº¢å‡ºå®¹å™¨ï¼ˆå³æ˜¾ç¤ºå¤šè¡Œï¼‰ */
  text-overflow: clip; /* <--- ç¦ç”¨çœç•¥å· */
  word-break: break-word; /* <--- é˜²æ­¢è¶…é•¿å•è¯æˆ–é“¾æ¥æ’‘ç ´å¸ƒå±€ */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

#phone-screen.dark-mode .ls-share-item .summary {
  color: #a0a0a0;
}

/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯æƒ…ä¾£ç©ºé—´ä¸“å±éŸ³ä¹æ’­æ”¾å™¨çš„CSSæ ·å¼ â–¼â–¼â–¼ */

/* æ’­æ”¾å™¨ä¸»çª—å£çš„é®ç½©å±‚ */
#ls-music-player-overlay {
  background-color: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
}

/* æ’­æ”¾åˆ—è¡¨é¢æ¿çš„æ ·å¼ (ç›´æ¥å¤ç”¨ç°æœ‰çš„) */
#ls-music-playlist-panel {
  /* æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ .music-playlist-panel çš„ç°æœ‰æ ·å¼ï¼Œçœå»é‡å¤ä»£ç  */
}

/* â–²â–²â–² CSSæ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* ã€æ–°å¢ã€‘éšè—æƒ…ä¾£ç©ºé—´æ’­æ”¾å™¨ä¸­ä¸éœ€è¦çš„æŒ‰é’® */
#ls-music-player-overlay #ls-playlist-btn,
#ls-music-player-overlay #ls-prev-btn,
#ls-music-player-overlay #ls-next-btn {
  display: none;
}

/* ã€æ–°å¢ã€‘å±…ä¸­æ’­æ”¾/æš‚åœæŒ‰é’® */
#ls-music-player-overlay .music-controls {
  justify-content: center; /* è®©å‰©ä¸‹çš„æŒ‰é’®å±…ä¸­ */
}

/* â–²â–²â–² CSSä»£ç æ›¿æ¢ç»“æŸ â–²â–²â–² */
/* ã€æ–°å¢ã€‘æƒ…ä¾£ç©ºé—´æ’­æ”¾å™¨å°é¢/æ­Œè¯åˆ‡æ¢æ ·å¼ */
#ls-display-area.show-lyrics #ls-album-cover {
  display: none; /* å½“æœ‰ show-lyrics ç±»æ—¶ï¼Œéšè—å°é¢ */
}
#ls-display-area.show-lyrics #ls-lyrics-container {
  display: block !important; /* å½“æœ‰ show-lyrics ç±»æ—¶ï¼Œæ˜¾ç¤ºæ­Œè¯ */
}

/* ã€æ–°å¢ã€‘æ­Œè¯è¡Œæ ·å¼ */
#ls-lyrics-container .lyric-line {
  padding: 4px 0;
  font-size: 14px;
  color: #666;
  opacity: 0.7;
  transition: all 0.5s ease;
}
#ls-lyrics-container .lyric-line.active {
  font-size: 16px;
  color: #000;
  opacity: 1;
  font-weight: 600;
}
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- ã€å…¨æ–°ã€‘æƒ…ä¾£ç©ºé—´-æƒ…ä¾£ç•ªèŒ„é’Ÿæ ·å¼ --- */

/* ä¸»é¡µå¸ƒå±€ */
#ls-pomodoro-home {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

#ls-pomodoro-start-btn-container {
  padding: 20px;
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  text-align: center;
  cursor: pointer;
  transition:
    transform 0.2s,
    box-shadow 0.2s;
}
#ls-pomodoro-start-btn-container:hover {
  transform: translateY(-5px);
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.12);
}
#ls-pomodoro-start-icon {
  font-size: 32px;
  color: var(--accent-color);
  line-height: 1;
}
#ls-pomodoro-start-btn-container p {
  margin: 8px 0 0 0;
  font-weight: 500;
  color: var(--text-primary);
}

/* å†å²è®°å½•åˆ—è¡¨ */
#ls-pomodoro-history-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.pomodoro-history-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px 15px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  cursor: pointer;
}
.pomodoro-history-item:hover {
  background-color: #f9f9f9;
}
.pomodoro-history-item .task {
  font-weight: 500;
  margin-bottom: 5px;
}
.pomodoro-history-item .meta {
  font-size: 12px;
  color: var(--text-secondary);
}

/* â–¼â–¼â–¼ æŠŠä¸‹é¢è¿™æ•´å—ã€é”æœºå…¨å±ç‰ˆã€‘ä»£ç ï¼Œæ›¿æ¢æ‰ä½ æ—§çš„ #ls-pomodoro-timer-active æ ·å¼ â–¼â–¼â–¼ */
#ls-pomodoro-timer-active {
  /* æ ¸å¿ƒä¿®æ”¹1ï¼šå°†å®šä½æ–¹å¼ä» absolute æ”¹ä¸º fixed */
  /* è¿™ä¼šè®©è®¡æ—¶å™¨ç•Œé¢è„±ç¦»åŸæ¥çš„â€œæƒ…ä¾£ç©ºé—´â€é¡µé¢ï¼Œæµ®åŠ¨åœ¨æ•´ä¸ªæ‰‹æœºå±å¹•çš„æœ€é¡¶å±‚ï¼*/
  position: fixed;

  /* æ ¸å¿ƒä¿®æ”¹2ï¼šç”¨è¿™å››ä¸ªå±æ€§è®©å®ƒæ’‘æ»¡æ•´ä¸ªå±å¹• */
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  /* æ ¸å¿ƒä¿®æ”¹3ï¼šè®¾ç½®ä¸€ä¸ªè¶…é«˜çš„å±‚çº§ï¼Œç¡®ä¿å®ƒèƒ½ç›–ä½æ‰€æœ‰ä¸œè¥¿ï¼Œå®ç°â€œé”æœºâ€æ•ˆæœ */
  z-index: 2000;

  background-size: cover;
  background-position: center;
  color: white;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: 50px 20px;
  box-sizing: border-box;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);

  /* (å¯é€‰ä¼˜åŒ–) ä¸ºiPhoneçš„åˆ˜æµ·å’Œåº•éƒ¨å°é»‘æ¡ç•™å‡ºå®‰å…¨è·ç¦»ï¼Œè®©ç•Œé¢æ›´ç¾è§‚ */
  padding-top: calc(50px + env(safe-area-inset-top));
  padding-bottom: calc(50px + env(safe-area-inset-bottom));
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ç”¨è¿™æ®µæ–°ä»£ç æ›¿æ¢ â–¼â–¼â–¼ */
.pomodoro-char-avatar-container {
  position: relative;
  text-align: center;
  width: 100%; /* <-- å°±æ˜¯æ–°å¢äº†è¿™ä¸€è¡Œï¼ */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
#pomodoro-char-avatar {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: 3px solid rgba(255, 255, 255, 0.8);
  cursor: pointer;
  transition: transform 0.2s;
}
#pomodoro-char-avatar:active {
  transform: scale(0.9);
}
/* â–¼â–¼â–¼ ç”¨è¿™æ®µã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘ä»£ç å®Œæ•´æ›¿æ¢æ—§çš„ #pomodoro-char-log æ ·å¼ â–¼â–¼â–¼ */
#pomodoro-char-log {
  position: absolute;
  top: 100%;
  margin-top: 12px;
  left: 50%;
  transform: translateX(-50%);
  background-color: rgba(0, 0, 0, 0.65);
  padding: 8px 12px;
  border-radius: 10px;
  font-size: 14px;
  max-width: 80%; /* <-- æ ¸å¿ƒä¿®æ”¹åœ¨è¿™é‡Œï¼è®©æ°”æ³¡å¯ä»¥å˜å¾—æ›´å®½ */
  width: max-content; /* <-- æ–°å¢ï¼ç¡®ä¿æ°”æ³¡å®½åº¦æ ¹æ®å†…å®¹è‡ªé€‚åº”ï¼Œä½†ä¸ä¼šè¶…è¿‡80% */
  opacity: 0;
  visibility: hidden;
  transition:
    opacity 0.3s,
    visibility 0.3s,
    margin-top 0.3s; /* margin-topè®©åŠ¨ç”»æ›´å¹³æ»‘ */
  pointer-events: none;
  white-space: pre-wrap;
  box-sizing: border-box; /* æ–°å¢ï¼é˜²æ­¢å†…è¾¹è·å¯¼è‡´å¸ƒå±€é—®é¢˜ */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

#pomodoro-char-log::after {
  content: "";
  position: absolute;
  bottom: 100%; /* <-- ä¿®æ”¹è¿™é‡Œ */
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border: 6px solid transparent;
  border-bottom-color: rgba(0, 0, 0, 0.65); /* <-- ä¿®æ”¹è¿™é‡Œ */
}

#pomodoro-char-log.visible {
  opacity: 1;
  visibility: visible; /* æ–°å¢ */
  margin-bottom: 22px; /* æ ¸å¿ƒä¿®å¤3: æ˜¾ç¤ºæ—¶å‘ä¸Šç§»åŠ¨ä¸€ç‚¹ï¼Œæœ‰ä¸€ä¸ªâ€œå†’å‡ºæ¥â€çš„åŠ¨ç”»æ•ˆæœ */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* æ—¶é—´å’Œä»»åŠ¡æ˜¾ç¤º */
.pomodoro-timer-display {
  text-align: center;
}
#pomodoro-current-task {
  font-size: 20px;
  font-weight: 500;
  margin-bottom: 10px;
}
#pomodoro-time {
  font-size: 72px;
  font-weight: 200;
  letter-spacing: 2px;
}

/* ç»“æŸæŒ‰é’® */
#pomodoro-end-btn {
  padding: 12px 30px;
  font-size: 16px;
  font-weight: 600;
  border: 2px solid white;
  background-color: rgba(255, 255, 255, 0.2);
  color: white;
  border-radius: 25px;
  cursor: pointer;
}

/* å†å²è¯¦æƒ…å¼¹çª—å†…çš„èŠå¤©æ°”æ³¡ */
#pomodoro-history-viewer-content {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
.pomodoro-log-bubble {
  padding: 8px 12px;
  border-radius: 12px;
  max-width: 80%;
  background-color: #f0f0f0;
  align-self: flex-start;
  line-height: 1.5;
}
#phone-screen.dark-mode .pomodoro-log-bubble {
  background-color: #2c2c2e;
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */

/* --- ä¿®å¤æ–°å¢åŠŸèƒ½å¯¼è‡´çš„æ»šåŠ¨æ¡é—®é¢˜ --- */

/* 1. å¼ºåˆ¶éšè—ä½ ä¸è¦çš„â€œæƒ…ä¾£ç©ºé—´æ’­æ”¾åˆ—è¡¨â€ */
#ls-music-playlist-panel {
  display: none !important;
}

/* 2. ç¡®ä¿ä¸»å±å¹•å®¹å™¨ç»å¯¹ä¸ä¼šå‡ºç°æ»šåŠ¨æ¡ï¼Œå®ç°å›ºå®šæ•ˆæœ */
#phone-screen {
  overflow: hidden !important;
}

/* === ã€åœˆå­è¯„è®ºåŒºç»ˆæä¿®å¤ - è¦†ç›–ç»§æ‰¿ç‰ˆã€‘ === */

/* 
   é—®é¢˜æ ¹æºï¼šåœˆå­è¯„è®ºåŒº(#post-comment-input-area)é”™è¯¯åœ°ç»§æ‰¿äº†
   ä¸»èŠå¤©è¾“å…¥åŒº(.chat-input-area)çš„æ ·å¼ï¼Œå¯¼è‡´å¸ƒå±€é”™ä¹±ã€‚
   ä»¥ä¸‹ä»£ç å°†é’ˆå¯¹åœˆå­å±å¹•(#post-screen)ä¸‹çš„è¯„è®ºåŒºè¿›è¡Œå¼ºåˆ¶è¦†ç›–ã€‚
*/

/* 1. å¼ºåˆ¶é‡ç½®è¯„è®ºåŒºå®¹å™¨çš„å¸ƒå±€ï¼Œè®©å®ƒæ°´å¹³æ’åˆ—ã€å‚ç›´å±…ä¸­ */
#post-screen #post-comment-input-area {
  display: flex !important;
  flex-direction: row !important; /* å¼ºåˆ¶æ¨ªå‘æ’åˆ— */
  align-items: center !important; /* å¼ºåˆ¶å‚ç›´å±…ä¸­ï¼Œå®ç°å¹³è¡Œ */
  gap: 10px !important; /* è®¾ç½®è¾“å…¥æ¡†å’ŒæŒ‰é’®çš„é—´è· */
}

/* 2. ç¡®ä¿å†…å±‚å®¹å™¨ä¹Ÿæ­£ç¡®ä¼¸å±• */
#post-screen #post-comment-input-area .chat-input-main-row {
  flex-grow: 1 !important;
  display: flex !important;
  align-items: center !important;
  gap: 10px !important;
}

/* 3. å¼ºåˆ¶è¾“å…¥æ¡†çš„æ ·å¼ï¼Œå¹¶è®©å®ƒå¡«æ»¡ç©ºé—´ */
#post-screen #post-comment-input {
  flex-grow: 1 !important; /* è§£å†³å³ä¾§ç©ºç™½çš„å…³é”®ï¼ */
  min-height: 40px;
  background-color: #f0f2f5 !important;
  border-radius: 20px !important;
  border: none !important;
  padding: 10px 15px !important;
  font-size: 14px !important;
  line-height: 1.5;
  resize: none;
  box-sizing: border-box;
}

/* 4. å¼ºåˆ¶å‘é€æŒ‰é’®çš„æ ·å¼ */
#post-screen #send-post-comment-btn {
  height: 40px !important;
  padding: 0 20px !important;
  border-radius: 20px !important;
  background-color: var(--accent-color) !important;
  color: white !important;
  font-weight: 600 !important;
  font-size: 14px !important;
  border: none !important;
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode #post-screen #post-comment-input {
  background-color: #2c2c2e !important;
}
/* â–¼â–¼â–¼ è¿™æ˜¯æ–°å¢çš„ä¸»å±å¹•æ»‘åŠ¨æ ·å¼ â–¼â–¼â–¼ */

/* ä¸»å±å¹•æ»‘åŠ¨å®¹å™¨ */
.home-screen-slider {
  width: 100%;
  height: 100%; /* ç¡®ä¿å®ƒèƒ½æ’‘æ»¡çˆ¶å®¹å™¨ */
  display: flex; /* è®©ä¸¤é¡µå¹¶æ’ç«™å¥½ */
  overflow-x: auto; /* å…è®¸æ°´å¹³æ»šåŠ¨ */
  overflow-y: hidden; /* ç¦æ­¢å‚ç›´æ»šåŠ¨ */
  scroll-snap-type: x mandatory; /* è¿™å°±æ˜¯æ»‘åŠ¨çš„é­”æ³•ï¼è®©å®ƒè‡ªåŠ¨å¸é™„åˆ°æ¯ä¸€é¡µ */
  -webkit-overflow-scrolling: touch; /* åœ¨iOSä¸Šå®ç°æ›´å¹³æ»‘çš„æ»šåŠ¨ */
  scrollbar-width: none; /* éšè—æ»šåŠ¨æ¡ (Firefox) */
  -ms-overflow-style: none; /* éšè—æ»šåŠ¨æ¡ (IE) */
}
.home-screen-slider::-webkit-scrollbar {
  display: none; /* éšè—æ»šåŠ¨æ¡ (Chrome, Safari) */
}

.home-page {
  width: 100%; /* æ¯ä¸€é¡µéƒ½å æ»¡æ•´ä¸ªå±å¹•å®½åº¦ */
  height: 100%;
  flex-shrink: 0; /* é˜²æ­¢é¡µé¢è¢«å‹ç¼©å˜å½¢ */
  scroll-snap-align: start; /* ç¡®ä¿æ¯æ¬¡éƒ½å¯¹é½é¡µé¢çš„å¼€å§‹ä½ç½® */

  /* è®©é¡µé¢å†…éƒ¨çš„å†…å®¹å¯ä»¥æ»šåŠ¨ */
  overflow-y: auto;
  padding: 0 20px; /* ä¿æŒå’Œä½ åŸæ¥ä¸€æ ·çš„å·¦å³è¾¹è· */
  box-sizing: border-box;
  position: relative !important;
}

/* åˆ†é¡µå°åœ†ç‚¹çš„å®¹å™¨ */
.pagination-dots {
  position: absolute;
  bottom: calc(100px + env(safe-area-inset-bottom)); /* æ”¾åœ¨Dockæ ä¸Šæ–¹ */
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 8px; /* åœ†ç‚¹ä¹‹é—´çš„é—´è· */
}

/* å•ä¸ªå°åœ†ç‚¹ */
.pagination-dots .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: rgba(255, 255, 255, 0.4); /* æœªé€‰ä¸­æ—¶çš„é¢œè‰² */
  transition: background-color 0.3s ease; /* æ·»åŠ ä¸€ä¸ªå¹³æ»‘çš„é¢œè‰²è¿‡æ¸¡åŠ¨ç”» */
}

/* è¢«é€‰ä¸­çš„å°åœ†ç‚¹ */
.pagination-dots .dot.active {
  background-color: rgba(255, 255, 255, 0.9); /* é€‰ä¸­æ—¶å˜å¾—æ›´äº® */
}

/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* è¿™æ˜¯ç¬¬äºŒé¡µå¸ƒå±€çš„å…¨æ–°æ ·å¼ (V2 ç¾åŒ–ç‰ˆ) */

/* 1. æŠŠå¤´åƒå°ç»„ä»¶å®šä½åˆ°å·¦åŠå±çš„ä¸­é—´ */
#second-page-left-widget {
  position: absolute;
  top: 50px;
  left: 25%;
  transform: translateX(-50%);
}

/* â˜…â˜…â˜… è¿™æ˜¯ä¸ºå¤´åƒå°ç»„ä»¶æ–°å¢çš„æ”¾å¤§å’Œç»†è¾¹æ¡†æ ·å¼ â˜…â˜…â˜… */
#second-page-left-widget .widget-circle-uploader {
  width: 65px; /* å¤´åƒå®½åº¦ä» 65px æ”¾å¤§åˆ° 80px */
  height: 65px; /* å¤´åƒé«˜åº¦ä» 65px æ”¾å¤§åˆ° 80px */
  border-width: 1px; /* è½®å»“çº¿ä» 2px å‡å°åˆ° 1pxï¼Œå˜å¾—å¾ˆç»† */
  padding: 1px; /* â˜…â˜…â˜… åœ¨è¿™é‡Œæ·»åŠ è¿™ä¸€è¡Œï¼ŒæŠŠç¼éš™å‡å°åˆ°1åƒç´  â˜…â˜…â˜… */
}
/* 2. æŠŠå³ä¸Šè§’çš„å›¾æ ‡æ”¹ä¸ºå¹¶æ’æ’åˆ— */
#second-page-top-right-apps {
  position: absolute;
  top: 50px;
  right: 30px;
  display: flex;
  gap: 30px; /* â˜…â˜…â˜… å›¾æ ‡é—´è·ä» 25px å¢åŠ åˆ° 30pxï¼Œæ‹‰å¼€è·ç¦» â˜…â˜…â˜… */
}

/* 3. æ–‡å­—é¢œè‰²æ ·å¼ä¿æŒä¸å˜ */
#second-page-top-right-apps .desktop-app-icon .label {
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}
/* â–¼â–¼â–¼ æŠŠè¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ è¯·ç”¨è¿™ã€ä¸€æ•´å—æ–°ä»£ç ã€‘å®Œæ•´æ›¿æ¢æ‰ä½ ä¸Šæ¬¡æ·»åŠ çš„ã€å…³äºç¬¬äºŒé¡µå¤´åƒçš„æ‰€æœ‰CSS â–¼â–¼â–¼ */

/* 1. å®¹å™¨ï¼šç§»é™¤å…ƒç´ é—´è·ï¼Œè®©å¤´åƒå’Œæ°”æ³¡é æ‹¢ (ä¿æŒä¸å˜) */
#second-page-left-widget {
  /* â˜…â˜…â˜… åœ¨è¿™é‡Œæ–°å¢ä¸€ä¸ªå®½åº¦ï¼Œä½œä¸ºâ€œä¸»å®½åº¦â€ â˜…â˜…â˜… */
  width: 150px;
  gap: 0;
}

#second-page-bubble {
  margin-top: -10px;
  padding: 10px 15px;
  border-radius: 30px;
  /* â˜…â˜…â˜… ä¿®æ”¹ç‚¹1ï¼šç§»é™¤ min-width å’Œ display: inline-block â˜…â˜…â˜… */
  /* min-width: 140px; */
  /* display: inline-block; */

  /* â˜…â˜…â˜… ä¿®æ”¹ç‚¹2ï¼šæ·»åŠ ä¸‹é¢è¿™ä¸‰è¡Œï¼Œè®©å®ƒå æ»¡çˆ¶å®¹å™¨å®½åº¦å¹¶å±…ä¸­ â˜…â˜…â˜… */
  width: 100%;
  box-sizing: border-box; /* ç¡®ä¿ padding ä¸ä¼šæ’‘ç ´å¸ƒå±€ */
  text-align: center; /* è®©æ–‡å­—åœ¨å˜å®½çš„å®¹å™¨é‡Œå±…ä¸­ */

  background-color: rgba(255, 255, 255, 0.4);
  color: #1c1c1e;
  text-shadow: none;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  position: relative;
  z-index: 1;
}

/* â˜…â˜…â˜… ä¿®æ”¹ç‚¹2ï¼šåœ¨è¿™é‡Œæ˜ç¡®ç§»é™¤é‚£ä¸ªä¸æƒ³è¦çš„å°–è§’ â˜…â˜…â˜… */
#second-page-bubble::after {
  content: none; /* å¼ºåˆ¶ç§»é™¤ç»§æ‰¿è‡ª .widget-bubble çš„å°–è§’ä¼ªå…ƒç´  */
}

/* 3. æå‡å¤´åƒå±‚çº§ (ä¿æŒä¸å˜) */
#second-page-left-widget .widget-circle-uploader {
  position: relative;
  z-index: 2;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* 1. æ–°å¢æ°”æ³¡çš„å®¹å™¨ï¼Œè´Ÿè´£æ•´ä½“å¸ƒå±€å’Œå®½åº¦ */
#new-bubbles-container {
  display: flex;
  align-items: center;
  gap: 8px;
  /* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ï¼šå°†å›ºå®šçš„ 180px æ”¹ä¸º 100%ï¼Œè®©å®ƒè‡ªåŠ¨è·Ÿéšçˆ¶å®¹å™¨ â˜…â˜…â˜… */
  width: 100%;
  margin-top: 8px;
}

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€å…¨æ–°çš„ä»£ç ã€‘æ›¿æ¢æ—§çš„ #flat-capsule-bubble æ ·å¼ â–¼â–¼â–¼ */
/* â–¼â–¼â–¼ ç”¨è¿™å—ã€ä¿®æ”¹åã€‘çš„ä»£ç æ›¿æ¢æ—§çš„ #flat-capsule-bubble æ ·å¼ â–¼â–¼â–¼ */
#flat-capsule-bubble {
  flex-grow: 1;
  min-width: auto;
  /* â˜…â˜…â˜… ä¿®æ”¹ç‚¹1ï¼šé«˜åº¦ä» 44px å‡å°åˆ° 38px â˜…â˜…â˜… */
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 15px;
  /* â˜…â˜…â˜… ä¿®æ”¹ç‚¹2ï¼šæ–°å¢èƒŒæ™¯è‰²ï¼Œå°†é€æ˜åº¦ä» 0.4 æå‡åˆ° 0.6ï¼Œè®©å®ƒæ›´ä¸é€æ˜ â˜…â˜…â˜… */
  background-color: rgba(255, 255, 255, 0.4);
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

#flat-capsule-bubble::after {
  content: none; /* ç§»é™¤ç»§æ‰¿æ¥çš„å°å°¾å·´ */
}

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€ä¿®æ”¹åã€‘çš„ä»£ç æ›¿æ¢æ—§çš„ #circular-bubble æ ·å¼ â–¼â–¼â–¼ */
#circular-bubble {
  flex-shrink: 0;
  /* â˜…â˜…â˜… ä¿®æ”¹ç‚¹1ï¼šå®½åº¦å’Œé«˜åº¦éƒ½ä» 44px å‡å°åˆ° 38px â˜…â˜…â˜… */
  width: 35px;
  height: 35px;
  border-radius: 50%;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: auto;
  /* â˜…â˜…â˜… ä¿®æ”¹ç‚¹2ï¼šæ–°å¢èƒŒæ™¯è‰²ï¼Œä¸èƒ¶å›Šæ°”æ³¡ä¿æŒä¸€è‡´ï¼Œæ›´ä¸é€æ˜ â˜…â˜…â˜… */
  background-color: rgba(255, 255, 255, 0.4);
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* 4. ç§»é™¤åœ†å½¢æ°”æ³¡çš„å°å°¾å·´ */
#circular-bubble::after {
  content: none;
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* 1. æ–°å¤´åƒç»„ä»¶çš„å®šä½ï¼šä¸­é—´åä¸Š */
#second-page-center-avatar {
  position: absolute;
  top: 235px; /* æ§åˆ¶ä¸Šä¸‹ä½ç½®ï¼Œæ•°å€¼è¶Šå°è¶Šé ä¸Š */
  transform: translateX(-50%); /* æ°´å¹³å±…ä¸­ */
  z-index: 5; /* ç¡®ä¿å®ƒåœ¨å…¶ä»–å…ƒç´ ä¹‹ä¸Š */
}

/* 2. æ–°å¤´åƒçš„å°ºå¯¸å’Œæ ·å¼ï¼šæ¯”ç¬¬ä¸€ä¸ªå¤§ï¼Œä¸”æ²¡æœ‰è½®å»“çº¿ */
#second-page-center-avatar .widget-circle-uploader {
  width: 85px; /* æ¯”ç¬¬ä¸€ä¸ªå¤´åƒ(65px)å¤§ä¸€åœˆ */
  height: 85px; /* ä¿æŒæ­£åœ† */
  border: none; /* ç§»é™¤è½®å»“çº¿ */
  padding: 0; /* ç§»é™¤å†…è¾¹è·ï¼Œè®©å›¾ç‰‡å¡«æ»¡ */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* 1. è¿™æ˜¯åŒ…è£¹å¤´åƒå’Œæ‰€æœ‰æ–°æ°”æ³¡çš„æ€»å®¹å™¨ (V2 åŠ å¤§ç‰ˆ) */
/* 1. è¿™æ˜¯åŒ…è£¹å¤´åƒå’Œæ‰€æœ‰æ–°æ°”æ³¡çš„æ€»å®¹å™¨ (V2 åŠ å¤§ç‰ˆ) */
#center-avatar-wrapper {
  position: absolute;
  /* â˜… æ ¸å¿ƒä¿®æ”¹ï¼šå°†å›ºå®šå€¼æ”¹ä¸ºå¯è°ƒèŠ‚çš„å˜é‡ï¼Œå¹¶æä¾›ä¸€ä¸ªé»˜è®¤å€¼ 190px */
  top: var(--second-page-center-avatar-top-offset, 190px);
  transform: translateX(-55%);
  z-index: 5;

  /* â˜… ä¿®æ”¹ç‚¹ï¼šæŠŠè¿™ä¸ªâ€œçœ‹ä¸è§çš„ç›’å­â€çš„å°ºå¯¸å˜å¤§ */
  width: 300px; /* ä» 250px å¢åŠ åˆ°äº† 300px */
  height: 180px; /* ä» 150px å¢åŠ åˆ°äº† 180px */
}

/* 2. æŠŠä½ åŸæ¥çš„å¤´åƒåœ¨æ€»å®¹å™¨é‡Œå±…ä¸­ï¼Œè¿™æ ·å®ƒçš„ä½ç½®çœ‹èµ·æ¥å’ŒåŸæ¥ä¸€æ¨¡ä¸€æ · */
#second-page-center-avatar {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  /* æˆ‘ä»¬ä¸å†éœ€è¦å®ƒè‡ªå·±æ¥å®šä½äº†ï¼Œæ‰€ä»¥æŠŠæ—§çš„å®šä½æ ·å¼ç§»é™¤ */
}

#avatar-subtitle {
  position: absolute;
  bottom: 20px; /* â˜… ä¿®æ”¹ç‚¹ï¼šæŠŠå®ƒä»å®¹å™¨å¤–é¢ç§»åˆ°é‡Œé¢ï¼Œä½ç½®æ›´åè°ƒ */
  left: 50%;
  transform: translateX(-50%);

  background-color: transparent;
  border: none;
  outline: none;

  color: white;
  font-size: 14px;
  font-weight: 500;
  text-align: center;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
  cursor: pointer;
  padding: 2px 8px;
}

/* è¿™æ˜¯å››ä¸ªè§’è½æ°”æ³¡çš„é€šç”¨æ ·å¼ */
.corner-bubble {
  position: absolute;
  background-color: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 12px;
  padding: 8px 12px;
  color: white;
  font-size: 12px;
  font-weight: 500;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  min-width: 80px;
  cursor: pointer;
}

/* â–¼â–¼â–¼ åœ¨è¿™é‡Œåˆ†åˆ«ä¿®æ”¹å››ä¸ªè§’è½çš„ä½ç½® â–¼â–¼â–¼ */

/* 5. åˆ†åˆ«å®šä½å››ä¸ªè§’è½çš„æ°”æ³¡ */
#bubble-top-left {
  top: 40px; /* æ§åˆ¶ä¸Šä¸‹ä½ç½®ï¼Œæ•°å€¼è¶Šå¤§è¶Šã€å¾€ä¸‹ã€‘ç§» */
  left: -15px; /* æ§åˆ¶å·¦å³ä½ç½®ï¼Œæ•°å€¼è¶Šå¤§è¶Šã€å¾€å³ã€‘ç§» */
}

#bubble-top-right {
  top: 40px; /* æ§åˆ¶ä¸Šä¸‹ä½ç½®ï¼Œæ•°å€¼è¶Šå¤§è¶Šã€å¾€ä¸‹ã€‘ç§» */
  right: -15px; /* æ§åˆ¶å·¦å³ä½ç½®ï¼Œæ•°å€¼è¶Šå¤§è¶Šã€å¾€å·¦ã€‘ç§» */
}

#bubble-bottom-left {
  bottom: 40px; /* æ§åˆ¶ä¸Šä¸‹ä½ç½®ï¼Œæ•°å€¼è¶Šå¤§è¶Šã€å¾€ä¸Šã€‘ç§» */
  left: -15px; /* æ§åˆ¶å·¦å³ä½ç½®ï¼Œæ•°å€¼è¶Šå¤§è¶Šã€å¾€å³ã€‘ç§» */
}

#bubble-bottom-right {
  bottom: 40px; /* æ§åˆ¶ä¸Šä¸‹ä½ç½®ï¼Œæ•°å€¼è¶Šå¤§è¶Šã€å¾€ä¸Šã€‘ç§» */
  right: -15px; /* æ§åˆ¶å·¦å³ä½ç½®ï¼Œæ•°å€¼è¶Šå¤§è¶Šã€å¾€å·¦ã€‘ç§» */
}
/* â–¼â–¼â–¼ ã€è¿™æ˜¯ä¿®æ”¹åçš„ç‰ˆæœ¬ã€‘è¯·ç”¨è¿™æ•´å—ä»£ç æ›¿æ¢æ—§çš„ â–¼â–¼â–¼ */

/* 1. æ€»å®¹å™¨ï¼šç§»é™¤äº†é¡¶éƒ¨çš„å†…è¾¹è· */
#new-custom-widget {
  position: absolute;
  bottom: 30px;
  right: 20px;
  width: 50%;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 6px;
  /* padding-top: 50px;  <-- è¿™è¡Œå·²ç»è¢«åˆ æ‰äº† */
}

/* 2. ã€å…¨æ–°ã€‘å¤´éƒ¨å®¹å™¨ï¼šè´Ÿè´£è®©æœˆä»½å’Œå¤´åƒæ°´å¹³æ’åˆ— */
/* è¿™æ˜¯å¤´éƒ¨å®¹å™¨ï¼šè´Ÿè´£è®©æœˆä»½å’Œå¤´åƒæ°´å¹³æ’åˆ— */
#new-widget-header {
  width: 100%;
  display: flex;
  justify-content: flex-end; /* ä¿®æ”¹ï¼šè®©æ‰€æœ‰å†…å®¹éƒ½é å³å¯¹é½ */
  align-items: center;
  gap: 70px; /* æ–°å¢ï¼šåœ¨æœˆä»½å’Œå¤´åƒä¹‹é—´åŠ ä¸€ç‚¹é—´è· */
  margin-bottom: 5px;
}

/* 3. æœˆä»½ï¼šç§»é™¤äº†ç»å¯¹å®šä½ï¼Œç°åœ¨æ˜¯æ™®é€šçš„flexé¡¹ç›® */
#widget-month-display {
  font-size: 25px;
  font-weight: 300;
  color: rgba(255, 255, 255, 0.85);
  text-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
  line-height: 1;
}

/* 4. å¤´åƒï¼šç§»é™¤äº†ä¸å¿…è¦çš„æ ·å¼ï¼Œå› ä¸ºå¸ƒå±€ç”±çˆ¶å®¹å™¨æ§åˆ¶äº† */
#new-custom-widget #new-widget-avatar {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: none;
  outline: none;
}

/* 5. å¯ç¼–è¾‘æ–‡å­—å’Œåˆ†å‰²çº¿ (ä¿æŒä¸å˜) */
#new-custom-widget .new-widget-text {
  background: transparent;
  border: none;
  outline: none;
  padding: 2px 4px;
  border-radius: 3px;
  color: rgba(255, 255, 255, 0.85);
  text-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
  font-size: 13px;
  text-align: right;
  width: 100%;
  box-sizing: border-box;
}

#new-custom-widget .new-widget-divider {
  width: 60%;
  height: 1px;
  border-top: 1px dashed rgba(255, 255, 255, 0.3);
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€ç²¾è‡´ç‰ˆã€‘è¯·ç”¨è¿™æ•´å—ä»£ç æ›¿æ¢æ—§çš„è®ºå›å¸–å­åˆ é™¤æŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */

/* 1. å¸–å­åˆ—è¡¨é¡¹æ ·å¼ (ä¿æŒä¸å˜ï¼Œåªæ˜¯ç¡®ä¿å³ä¾§æœ‰è¶³å¤Ÿç©ºé—´) */
.forum-post-item {
  position: relative;
  padding-right: 40px;
}

/* 2. åˆ é™¤æŒ‰é’®çš„æ–°æ ·å¼ - å°å·§ç²¾è‡´ç‰ˆ */
.forum-post-delete-btn {
  position: absolute;
  top: 50%;
  right: 12px; /* ç¦»è¾¹ç¼˜ç¨å¾®è¿‘ä¸€ç‚¹ */
  transform: translateY(-50%);

  /* --- æ ¸å¿ƒä¿®æ”¹ï¼šå°ºå¯¸å˜å° --- */
  width: 24px;
  height: 24px;

  /* --- æ ¸å¿ƒä¿®æ”¹ï¼šå¤–è§‚æ›´ç²¾è‡´ --- */
  background-color: transparent; /* é»˜è®¤èƒŒæ™¯é€æ˜ï¼Œä¸çªå…€ */
  color: var(--text-secondary); /* é»˜è®¤é¢œè‰²ä½¿ç”¨æ¬¡è¦æ–‡å­—çš„ç°è‰²ï¼Œæ›´æŸ”å’Œ */
  border: none;
  border-radius: 50%;
  font-size: 18px; /* å‡å° "Ã—" çš„å¤§å° */
  line-height: 24px; /* ç¡®ä¿ "Ã—" å‚ç›´å±…ä¸­ */
  text-align: center;
  cursor: pointer;

  /* --- æ ¸å¿ƒä¿®æ”¹ï¼šäº¤äº’åŠ¨æ•ˆ --- */
  transition: all 0.2s ease; /* ä¸ºæ‰€æœ‰å˜åŒ–æ·»åŠ å¹³æ»‘è¿‡æ¸¡ */
}

/* 3. é¼ æ ‡æ‚¬åœæ—¶çš„åé¦ˆæ•ˆæœ */
.forum-post-delete-btn:hover {
  background-color: #ff3b30; /* æ‚¬åœæ—¶æ‰æ˜¾ç¤ºé†’ç›®çš„çº¢è‰²èƒŒæ™¯ */
  color: white; /* "Ã—" å˜ä¸ºç™½è‰² */
  transform: translateY(-50%) scale(1.1); /* è½»å¾®æ”¾å¤§ï¼Œæ›´æœ‰åŠ¨æ„Ÿ */
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
/* 1. å®šä¹‰ä¸€ä¸ªé€šç”¨çš„ã€æ§åˆ¶æ‰€æœ‰ä¸»å±å¹•æ–‡å­—é¢œè‰²çš„å˜é‡ (ä¿æŒä¸å˜) */
#phone-screen {
  --home-icon-widget-text-color: #ffffff;
}

/* 2. ã€æ ¸å¿ƒã€‘åˆ›å»ºä¸€ä¸ªâ€œè¶…çº§é€‰æ‹©å™¨â€ï¼Œä¸€æ¬¡æ€§é€‰ä¸­æ‰€æœ‰éœ€è¦å˜è‰²çš„æ–‡å­— */
/* è¿™æ¬¡æˆ‘ä»¬åŠ å…¥äº†é¡¶éƒ¨çŠ¶æ€æ å’Œåº•éƒ¨Dockæ çš„å›¾æ ‡æ–‡å­— */
.desktop-app-icon .label,                        /* â–¼â–¼â–¼ æ ¸å¿ƒä¿®æ”¹ï¼šç§»é™¤äº†å‰é¢çš„IDé™å®šï¼Œè®©å®ƒèƒ½åŒæ—¶é€‰ä¸­ä¸»å±å¹•å’ŒDockæ çš„å›¾æ ‡æ–‡å­— â–¼â–¼â–¼ */
#desktop-widget-column .widget-bubble,           
#desktop-widget-column .widget-subtext,        
#second-page-left-widget .widget-bubble,           
#second-page-left-widget .widget-subtext,        
#avatar-subtitle,                                
.corner-bubble,                                   
#new-custom-widget .new-widget-text,              
#widget-month-display,
#status-bar                                     /* â˜…â˜…â˜… æ–°å¢ï¼šé¡¶éƒ¨çŠ¶æ€æ  â˜…â˜…â˜… */ {
  color: var(--home-icon-widget-text-color) !important;
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.6);
}
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å»é™¤ä¸»å±å¹•å­—ä½“é˜´å½±çš„æ ·å¼ â–¼â–¼â–¼ */
#phone-screen.no-home-font-shadow .app-icon .label,
#phone-screen.no-home-font-shadow .desktop-app-icon .label,
#phone-screen.no-home-font-shadow .widget-bubble,
#phone-screen.no-home-font-shadow .widget-subtext,
#phone-screen.no-home-font-shadow #avatar-subtitle,
#phone-screen.no-home-font-shadow .corner-bubble,
#phone-screen.no-home-font-shadow .new-widget-text,
#phone-screen.no-home-font-shadow #widget-month-display,
#phone-screen.no-home-font-shadow #profile-username,
#phone-screen.no-home-font-shadow #profile-sub-username,
#phone-screen.no-home-font-shadow #profile-bio,
#phone-screen.no-home-font-shadow #profile-location,
#phone-screen.no-home-font-shadow #clock-container {
  text-shadow: none !important;
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯å¾®åšä¸»é¡µå¤´åƒæ¡†çš„ä¸“å±æ ·å¼ â–¼â–¼â–¼ */
.weibo-avatar-container .weibo-avatar-frame {
  position: absolute;
  width: 121%; /* ç›¸å¯¹å¤§å°ï¼Œä½ å¯ä»¥å¾®è°ƒ */
  height: 121%;
  /* ä½¿ç”¨transformè¿›è¡Œç²¾ç¡®å®šä½ï¼Œç¡®ä¿å®Œç¾å±…ä¸­ */
  transform: translate(-50%, -57%);
  top: 50%;
  left: 50%;
  z-index: 4; /* ç¡®ä¿åœ¨å¤´åƒä¹‹ä¸Š */
  pointer-events: none; /* è®©é¼ æ ‡äº‹ä»¶å¯ä»¥ç©¿é€å®ƒ */
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯å¾®åšå¸–å­ä½œè€…å¤´åƒæ¡†çš„ä¸“å±æ ·å¼ â–¼â–¼â–¼ */

/* è¿™æ˜¯å¸–å­å¤´éƒ¨ï¼Œå¤´åƒå’Œæ¡†çš„æ€»å®¹å™¨ */
.weibo-post-header .avatar-with-frame {
  position: relative;
  /* æ ¸å¿ƒï¼šå°ºå¯¸å’ŒåŸæ¥çš„å¤´åƒä¿æŒä¸€è‡´ */
  width: 40px;
  height: 40px;
  flex-shrink: 0;
}

/* å®¹å™¨å†…çš„å¤´åƒå›¾ç‰‡ */
.weibo-post-header .avatar-with-frame .avatar-img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1; /* ç¡®ä¿åœ¨æ¡†çš„ä¸‹é¢ */
}

/* å®¹å™¨å†…çš„å¤´åƒæ¡†å›¾ç‰‡ */
.weibo-post-header .avatar-with-frame .avatar-frame {
  position: absolute;
  width: 121%; /* ç›¸å¯¹å¤§å°ï¼Œä½ å¯ä»¥å¾®è°ƒ */
  height: 121%;
  /* ä½¿ç”¨transformè¿›è¡Œç²¾ç¡®å®šä½ï¼Œç¡®ä¿å®Œç¾å±…ä¸­ */
  transform: translate(-50%, -57%);
  top: 50%;
  left: 50%;
  z-index: 4; /* ç¡®ä¿åœ¨å¤´åƒä¹‹ä¸Š */
  pointer-events: none; /* è®©é¼ æ ‡äº‹ä»¶å¯ä»¥ç©¿é€å®ƒ */
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸»å±å¹•å¤´åƒæ¡†çš„ä¸“å±æ ·å¼ â–¼â–¼â–¼ */
#profile-widget .profile-avatar-container .weibo-avatar-frame {
  position: absolute;
  width: 121%; /* ç›¸å¯¹å¤§å°ï¼Œä½ å¯ä»¥å¾®è°ƒ */
  height: 121%;
  /* ä½¿ç”¨transformè¿›è¡Œç²¾ç¡®å®šä½ï¼Œç¡®ä¿å®Œç¾å±…ä¸­ */
  transform: translate(-50%, -57%);
  top: 50%;
  left: 50%;
  z-index: 4; /* ç¡®ä¿åœ¨å¤´åƒä¹‹ä¸Š */
  pointer-events: none; /* è®©é¼ æ ‡äº‹ä»¶å¯ä»¥ç©¿é€å®ƒ */
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ æŠŠè¿™æ®µå…¨æ–°çš„CSSï¼Œç²˜è´´åˆ°ä½  <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

.weibo-background {
  /* æ ¸å¿ƒä»£ç ï¼šä½¿ç”¨ mask-image åˆ›å»ºä¸€ä¸ªä»ä¸Šåˆ°ä¸‹çš„æ¸å˜è’™ç‰ˆ */

  /* a. -webkit- å‰ç¼€æ˜¯ä¸ºäº†å…¼å®¹æ—§ç‰ˆçš„ Chrome å’Œ Safari æµè§ˆå™¨ */
  -webkit-mask-image: linear-gradient(
    to bottom,

    /* æ¸å˜æ–¹å‘ï¼šä»ä¸Šåˆ°ä¸‹ */ /* â˜…â˜…â˜… è¿™é‡Œæ˜¯ä½ å¯ä»¥è‡ªå·±è°ƒæ•´çš„åœ°æ–¹ â˜…â˜…â˜… */ black 60%,
    /* å‰60%çš„éƒ¨åˆ†æ˜¯å®Œå…¨ä¸é€æ˜çš„ (é»‘è‰²=ä¸é€æ˜) */ transparent 100%
      /* ä»60%çš„ä½ç½®å¼€å§‹ï¼Œåˆ°åº•éƒ¨(100%)ï¼Œé€æ¸è¿‡æ¸¡åˆ°å®Œå…¨é€æ˜ */
  );

  /* b. è¿™æ˜¯æ ‡å‡†è¯­æ³•ï¼Œå…¼å®¹ç°ä»£æµè§ˆå™¨ */
  mask-image: linear-gradient(to bottom, black 60%, transparent 100%);
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åœˆå­åˆ†ç±»æ ‡ç­¾æ ·å¼ â–¼â–¼â–¼ */
.category-tag-container {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 8px;
}
.category-tag {
  font-size: 11px;
  font-weight: 500;
  color: var(--accent-color);
  background-color: #e7f3ff;
  padding: 3px 8px;
  border-radius: 10px;
}
#phone-screen.dark-mode .category-tag {
  background-color: rgba(10, 132, 255, 0.2);
  color: #0a84ff;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘åœˆå­/å°ç»„åˆ†ç±»ç­›é€‰åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* ç­›é€‰å›¾æ ‡çš„æ ·å¼ */
.header .filter-btn {
  font-size: 20px; /* å›¾æ ‡å¤§å° */
  cursor: pointer;
  color: var(--accent-color); /* è·Ÿéšä¸»é¢˜è‰² */
  position: relative; /* ä¸ºäº†å®šä½å°çº¢ç‚¹ */
}

/* å½“ç­›é€‰ç”Ÿæ•ˆæ—¶ï¼Œå›¾æ ‡ä¸Šæ˜¾ç¤ºä¸€ä¸ªå°ç‚¹æç¤º */
.header .filter-btn.active::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  width: 8px;
  height: 8px;
  background-color: #ff3b30;
  border-radius: 50%;
  border: 1.5px solid var(--secondary-bg);
}

/* ç­›é€‰å¼¹çª—å†…çš„åˆ†ç±»åˆ—è¡¨ */
#forum-filter-category-list {
  display: flex;
  flex-wrap: wrap; /* è‡ªåŠ¨æ¢è¡Œ */
  gap: 10px; /* æ ‡ç­¾ä¹‹é—´çš„é—´è· */
  padding: 10px;
}

#forum-filter-category-list label {
  display: inline-flex;
  align-items: center;
  background-color: #f0f2f5;
  padding: 6px 12px;
  border-radius: 15px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.2s ease;
}

#phone-screen.dark-mode #forum-filter-category-list label {
  background-color: #3a3a3c;
}

#forum-filter-category-list input[type="checkbox"] {
  display: none; /* éšè—åŸå§‹çš„å¤é€‰æ¡† */
}

/* é€‰ä¸­åçš„æ ·å¼ */
#forum-filter-category-list input[type="checkbox"]:checked + span {
  color: white;
  font-weight: 500;
}

/* é»˜è®¤ç»™æ ‡ç­¾ä¸€ä¸ªå¥½çœ‹çš„é¢œè‰²å¾ªç¯ */
#forum-filter-category-list label:nth-of-type(6n + 1) input:checked + span {
  background-color: #007bff;
}
#forum-filter-category-list label:nth-of-type(6n + 2) input:checked + span {
  background-color: #28a745;
}
#forum-filter-category-list label:nth-of-type(6n + 3) input:checked + span {
  background-color: #fd7e14;
}
#forum-filter-category-list label:nth-of-type(6n + 4) input:checked + span {
  background-color: #6f42c1;
}
#forum-filter-category-list label:nth-of-type(6n + 5) input:checked + span {
  background-color: #dc3545;
}
#forum-filter-category-list label:nth-of-type(6n + 6) input:checked + span {
  background-color: #ffc107;
}

/* æ ‡ç­¾å†…çš„æ–‡å­—éƒ¨åˆ†ï¼Œä¹Ÿéœ€è¦è®¾ç½®æ ·å¼ï¼Œç‰¹åˆ«æ˜¯é€‰ä¸­åçš„èƒŒæ™¯è‰² */
#forum-filter-category-list label span {
  padding: 6px 12px;
  margin: -6px -12px; /* æŠµæ¶ˆlabelçš„paddingï¼Œè®©èƒŒæ™¯è‰²å¡«æ»¡ */
  border-radius: 15px;
  transition: all 0.2s ease;
}
/* â–²â–²â–² æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æ¸¸æˆå¤§å…æ ·å¼ â–¼â–¼â–¼ */
#game-hall-grid {
  display: grid;
  grid-template-columns: 1fr; /* æ¯è¡Œä¸€ä¸ªæ¸¸æˆ */
  gap: 15px; /* æ¸¸æˆå¡ç‰‡ä¹‹é—´çš„é—´è· */
}

.game-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  display: flex;
  align-items: center;
  gap: 15px;
  cursor: pointer;
  transition:
    transform 0.2s,
    box-shadow 0.2s;
}

.game-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}

.game-card .game-icon {
  font-size: 32px;
  width: 50px;
  height: 50px;
  flex-shrink: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #f0f2f5;
  border-radius: 10px;
}

#phone-screen.dark-mode .game-card .game-icon {
  background-color: #2c2c2e;
}

.game-card .game-info .game-title {
  font-weight: 600;
  font-size: 16px;
  color: var(--text-primary);
}

.game-card .game-info .game-desc {
  font-size: 13px;
  color: var(--text-secondary);
  margin-top: 4px;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç‹¼äººæ€æ¸¸æˆæ ·å¼ â–¼â–¼â–¼ */

/* æ¸¸æˆè®¾ç½®é¡µçš„ç©å®¶é€‰æ‹©åˆ—è¡¨ */
.player-selection-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid var(--border-color);
}
.player-selection-item:last-child {
  border-bottom: none;
}
.player-selection-item input[type="checkbox"] {
  width: 20px;
  height: 20px;
  margin-right: 15px;
}
.player-selection-item img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 10px;
}
.player-selection-item .name {
  font-weight: 500;
}
.player-selection-item .type-tag {
  font-size: 11px;
  color: var(--text-secondary);
  background-color: #f0f0f0;
  padding: 2px 6px;
  border-radius: 4px;
  margin-left: auto;
}

/* æ¸¸æˆä¸»ç•Œé¢å¸ƒå±€ */
#werewolf-game-content {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  padding: 10px;
  box-sizing: border-box;
}

/* ç©å®¶åº§ä½ç½‘æ ¼ */
#werewolf-players-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
  gap: 10px;
  padding: 10px;
  flex-shrink: 0;
}

.player-seat {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
}
.player-seat .player-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: 3px solid transparent;
  object-fit: cover;
  transition: all 0.3s ease;
}
.player-seat .player-avatar.speaking {
  border-color: #4cd964; /* ç»¿è‰²è¾¹æ¡†è¡¨ç¤ºæ­£åœ¨å‘è¨€ */
  box-shadow: 0 0 10px #4cd964;
}
.player-seat .player-avatar.dead {
  filter: grayscale(100%);
  opacity: 0.5;
}
.player-seat .player-name {
  font-size: 12px;
  font-weight: 500;
  text-align: center;
  max-width: 60px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.player-seat .player-role-indicator {
  position: absolute;
  top: -2px;
  right: -2px;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background-color: #ff3b30; /* çº¢è‰²ä»£è¡¨ç‹¼äºº */
  color: white;
  font-size: 12px;
  font-weight: bold;
  display: none; /* é»˜è®¤éšè— */
  justify-content: center;
  align-items: center;
  border: 1px solid white;
}

/* æ¸¸æˆæ—¥å¿—åŒºåŸŸ */
#werewolf-log-container {
  flex-grow: 1;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 10px;
  padding: 10px;
  overflow-y: auto;
  margin: 10px 0;
  min-height: 0; /* flexå¸ƒå±€ä¸‹æ»šåŠ¨çš„å…³é”® */
}
.log-entry {
  padding: 6px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  font-size: 14px;
  line-height: 1.5;
}
.log-entry.system {
  color: var(--accent-color);
  font-weight: bold;
  text-align: center;
  background-color: rgba(0, 123, 255, 0.05);
  border-radius: 5px;
}
.log-entry.speech .speaker {
  font-weight: 600;
}

/* ç©å®¶æ“ä½œåŒº */
#werewolf-action-area {
  flex-shrink: 0;
  padding: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  min-height: 50px;
}
#werewolf-action-area button {
  padding: 10px 20px;
}
#werewolf-action-area .vote-target-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
}
#werewolf-action-area .vote-target-btn {
  padding: 8px 12px;
  font-size: 13px;
  background-color: #e9ecef;
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}
#werewolf-action-area .vote-target-btn.selected {
  background-color: var(--accent-color);
  color: white;
  border-color: var(--accent-color);
}
/* â–²â–²â–² ç‹¼äººæ€æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç‹¼äººæ€å‘è¨€æ—¥å¿—ç¾åŒ–æ ·å¼ â–¼â–¼â–¼ */

/* åŒ…å«å¤´åƒå’Œæ–‡å­—çš„æ€»å®¹å™¨ */
.log-entry.speech {
  display: flex;
  align-items: flex-start; /* é¡¶éƒ¨å¯¹é½ */
  gap: 10px; /* å¤´åƒå’Œæ–‡å­—çš„é—´è· */
  padding: 8px 6px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05); /* æ¯æ¡å‘è¨€ä¹‹é—´çš„åˆ†å‰²çº¿ */
}

/* å‘è¨€è€…çš„åœ†å½¢å°å¤´åƒ */
.speech-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%; /* å®Œç¾åœ†å½¢ */
  flex-shrink: 0; /* é˜²æ­¢å¤´åƒè¢«å‹ç¼© */
  object-fit: cover;
}

/* åŒ…è£¹åå­—å’Œå‘è¨€å†…å®¹çš„æ–°å®¹å™¨ */
.speech-content {
  display: flex;
  flex-direction: column; /* åå­—å’Œå†…å®¹å‚ç›´æ’åˆ— */
  gap: 2px;
}

/* å‘è¨€è€…åå­—çš„æ ·å¼ */
.speech-content .speaker {
  font-weight: 600;
  font-size: 13px;
  color: var(--text-secondary); /* ä½¿ç”¨æ¬¡è¦æ–‡å­—é¢œè‰²ï¼Œä¸é‚£ä¹ˆåˆºçœ¼ */
}

/* å‘è¨€å†…å®¹çš„æ ·å¼ */
.speech-content .speech-text {
  word-break: break-word; /* ç¡®ä¿é•¿ç¯‡å‘è¨€èƒ½æ­£ç¡®æ¢è¡Œ */
  line-height: 1.6;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€è¿™æ˜¯ä¸ºä½ æ–°å¢çš„Xç¤¾äº¤Appå›¾æ ‡æ ·å¼ã€‘ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
#second-page-x-social-app {
  position: absolute;
  /* æ§åˆ¶ä¸Šä¸‹ä½ç½®ã€‚æˆ‘æŠŠå€¼è°ƒå¤§äº†ï¼Œè®©å®ƒæ›´é ä¸‹ï¼Œå’Œâ€œåœˆå­â€å›¾æ ‡å¯¹é½ */
  top: 100px; /* â˜… ä¿®æ”¹è¿™é‡Œ â˜… */

  /* æ§åˆ¶å·¦å³ä½ç½®ã€‚æˆ‘æŠŠå€¼è°ƒå°äº†ï¼Œè®©å®ƒæ›´é å³ï¼Œå’Œâ€œæƒ…ä¾£ç©ºé—´â€å›¾æ ‡å¯¹é½ */
  right: 0px; /* â˜… ä¿®æ”¹è¿™é‡Œ â˜… */
}

/* æŠŠæ–°å›¾æ ‡çš„æ–‡å­—ä¹Ÿå˜æˆç™½è‰²ï¼Œå’Œå…¶ä»–å›¾æ ‡ç»Ÿä¸€ */
#second-page-x-social-app .label {
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æµ·é¾Ÿæ±¤æ¸¸æˆæ ·å¼ â–¼â–¼â–¼ */

.sts-log-entry {
  padding: 8px 10px;
  margin-bottom: 8px;
  border-radius: 8px;
  line-height: 1.6;
}

/* ç³»ç»Ÿæ¶ˆæ¯ (è°œé¢ã€æç¤ºç­‰) */
.sts-log-entry.system {
  background-color: #e9ecef;
  color: var(--text-secondary);
  text-align: center;
  font-weight: 500;
}
#phone-screen.dark-mode .sts-log-entry.system {
  background-color: #2c2c2e;
}

/* ç©å®¶æé—® */
.sts-log-entry.question {
  background-color: #fff;
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .sts-log-entry.question {
  background-color: #1c1c1e;
}
.sts-log-entry .speaker {
  font-weight: 600;
  color: var(--accent-color);
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æµ·é¾Ÿæ±¤ - å‡ºé¢˜äººå›ç­”æ°”æ³¡ç¾åŒ– â–¼â–¼â–¼ */
.sts-log-entry.answer {
  text-align: right;
}
.sts-log-entry.answer .answer-text {
  display: inline-block;
  padding: 8px 12px; /* å¢åŠ å†…è¾¹è·ï¼Œè®©æ°”æ³¡æ›´é¥±æ»¡ */
  border-radius: 18px; /* å¢åŠ åœ†è§’ */
  font-weight: 500; /* å­—ä½“ä¸ç”¨å¤ªç²— */
  background-color: #f0f2f5; /* ç»Ÿä¸€çš„ã€ä¸­æ€§çš„æµ…ç°è‰²èƒŒæ™¯ */
  color: var(--text-primary); /* æ–‡å­—é¢œè‰²ä½¿ç”¨ä¸»é¢˜çš„ä¸»è‰²ï¼Œé€‚é…å¤œé—´æ¨¡å¼ */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08); /* ç¨å¾®è°ƒæ•´é˜´å½± */
}

/* ç§»é™¤æ—§çš„ã€æŒ‰é¢œè‰²åŒºåˆ†çš„æ ·å¼ï¼Œç¡®ä¿æ‰€æœ‰å›ç­”éƒ½ç”¨ä¸Šé¢çš„æ–°æ ·å¼ */
.sts-log-entry.answer .answer-text.yes,
.sts-log-entry.answer .answer-text.no,
.sts-log-entry.answer .answer-text.irrelevant {
  background-color: #f0f2f5; /* ç¡®ä¿æ‰€æœ‰éƒ½ç”¨è¿™ä¸ªé¢œè‰² */
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode .sts-log-entry.answer .answer-text,
#phone-screen.dark-mode .sts-log-entry.answer .answer-text.yes,
#phone-screen.dark-mode .sts-log-entry.answer .answer-text.no,
#phone-screen.dark-mode .sts-log-entry.answer .answer-text.irrelevant {
  background-color: #3a3a3c; /* å¤œé—´æ¨¡å¼ä¸‹çš„æ·±ç°è‰² */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* AIçŒœæµ‹ */
.sts-log-entry.guess {
  font-style: italic;
  color: #fd7e14;
  border-left: 3px solid #fd7e14;
  padding-left: 12px;
}

/* ç©å®¶åº§ä½ä¸Šçš„èº«ä»½æŒ‡ç¤ºå™¨ */
.player-seat .player-role-indicator.riddle-master {
  background-color: #ffc107; /* é»„è‰²ä»£è¡¨å‡ºé¢˜äºº */
  display: flex;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æµ·é¾Ÿæ±¤èŠå¤©æ—¥å¿—ç¾åŒ–æ ·å¼ â–¼â–¼â–¼ */
.sts-log-entry.question,
.sts-log-entry.answer,
.sts-log-entry.guess {
  display: flex;
  align-items: flex-start; /* å¤´åƒå’Œæ°”æ³¡é¡¶éƒ¨å¯¹é½ */
  gap: 10px;
  max-width: 85%;
  margin-bottom: 12px;
}

/* æé—®å’ŒçŒœæµ‹é å·¦ */
.sts-log-entry.question,
.sts-log-entry.guess {
  align-self: flex-start;
}

/* å›ç­”é å³ */
.sts-log-entry.answer {
  align-self: flex-end;
  flex-direction: row-reverse; /* å…³é”®ï¼šè®©å¤´åƒåœ¨å³è¾¹ */
}

/* å¤´åƒæ ·å¼ */
.sts-log-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æµ·é¾Ÿæ±¤èŠå¤©æ—¥å¿—ç¾åŒ–æ ·å¼ (æ°”æ³¡é€æ˜ç‰ˆ) â–¼â–¼â–¼ */
.sts-log-entry.question .sts-log-content,
.sts-log-entry.guess .sts-log-content {
  background-color: transparent; /* <-- ä¿®æ”¹ç‚¹1ï¼šèƒŒæ™¯æ”¹ä¸ºé€æ˜ */
  border-radius: 8px;
  padding: 8px 12px;
  border: none; /* <-- ä¿®æ”¹ç‚¹2ï¼šç§»é™¤è¾¹æ¡†ï¼Œè®©å®ƒå½»åº•â€œæ¶ˆå¤±â€ */
}

#phone-screen.dark-mode .sts-log-entry.question .sts-log-content,
#phone-screen.dark-mode .sts-log-entry.guess .sts-log-content {
  background-color: #1c1c1e;
}

/* ä¿®æ­£å›ç­”æ°”æ³¡çš„æ ·å¼ï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„å— */
.sts-log-entry.answer .answer-text {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
.player-seat .player-avatar.active-turn {
  border-color: #007bff; /* ä½¿ç”¨ä¸»é¢˜è‰²ä½œä¸ºè¾¹æ¡†é¢œè‰² */
  box-shadow: 0 0 15px rgba(0, 123, 255, 0.7); /* æ·»åŠ å‘å…‰æ•ˆæœ */
  animation: sts-pulse-glow 1.5s infinite ease-in-out; /* åº”ç”¨åŠ¨ç”» */
}

@keyframes sts-pulse-glow {
  0%,
  100% {
    box-shadow: 0 0 15px rgba(0, 123, 255, 0.7);
  }
  50% {
    box-shadow: 0 0 25px rgba(0, 123, 255, 1);
  }
}
/* â–¼â–¼â–¼ ã€æµ·é¾Ÿæ±¤å¸ƒå±€ä¿®å¤ã€‘è¯·å°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */
#sts-game-log {
  display: flex;
  flex-direction: column;
}
/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æµ·é¾Ÿæ±¤èŠå¤©æ—¥å¿—ç¾åŒ–æ ·å¼ â–¼â–¼â–¼ */
.sts-log-entry.question,
.sts-log-entry.answer,
.sts-log-entry.guess {
  display: flex;
  align-items: flex-start; /* å¤´åƒå’Œæ°”æ³¡é¡¶éƒ¨å¯¹é½ */
  gap: 10px;
  max-width: 85%;
  margin-bottom: 12px;
  /* ç§»é™¤æ—§çš„èƒŒæ™¯å’Œè¾¹æ¡†ï¼Œå› ä¸ºç°åœ¨ç”±å­å…ƒç´ å¤„ç† */
  background-color: transparent;
  border: none;
}

/* æé—®å’ŒçŒœæµ‹ï¼ˆçŒœé¢˜æ–¹ï¼‰é å·¦ */
.sts-log-entry.question,
.sts-log-entry.guess {
  align-self: flex-start;
}

/* å›ç­”ï¼ˆå‡ºé¢˜äººï¼‰é å³ */
.sts-log-entry.answer {
  align-self: flex-end;
  flex-direction: row-reverse; /* å…³é”®ï¼šè®©å¤´åƒåœ¨å³è¾¹ */
}

/* å¤´åƒæ ·å¼ */
.sts-log-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}

/* åŒ…å«å‘è¨€äººå’Œå†…å®¹çš„æ°”æ³¡ */
.sts-log-entry.question .sts-log-content,
.sts-log-entry.guess .sts-log-content {
  background-color: #fff;
  border-radius: 8px;
  padding: 8px 12px;
  border: 1px solid var(--border-color);
}

#phone-screen.dark-mode .sts-log-entry.question .sts-log-content,
#phone-screen.dark-mode .sts-log-entry.guess .sts-log-content {
  background-color: #1c1c1e;
}

/* ä¿®æ­£å›ç­”æ°”æ³¡çš„æ ·å¼ï¼Œå› ä¸ºå®ƒä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„å— */
.sts-log-entry.answer .answer-text {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* è®©æ—¥å¿—å®¹å™¨æ”¯æŒflexå¸ƒå±€çš„å¯¹é½ */
#sts-game-log {
  display: flex;
  flex-direction: column;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€æµ·é¾Ÿæ±¤è¾“å…¥åŒºç»ˆæä¿®å¤ç‰ˆã€‘ â–¼â–¼â–¼ */

/* 1. å¼ºåˆ¶é‡ç½®æ•´ä¸ªè¾“å…¥åŒºåŸŸçš„å¸ƒå±€ä¸ºâ€œæ¨ªå‘æ’åˆ—â€å¹¶â€œå‚ç›´å±…ä¸­â€ */
#sts-action-area {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important; /* æ ¸å¿ƒä¿®æ­£ï¼šä» flex-end æ”¹ä¸º centerï¼Œå®ç°å‚ç›´å±…ä¸­ */
  gap: 8px !important;
}

/* 2. å¼ºåˆ¶å†…éƒ¨çš„ main-row ä¹Ÿå‚ç›´å±…ä¸­ï¼Œå¹¶è®©å®ƒå¡«æ»¡ç©ºé—´ */
#sts-action-area .chat-input-main-row {
  flex-grow: 1 !important;
  display: flex !important;
  align-items: center !important; /* æ ¸å¿ƒä¿®æ­£ï¼šå†…éƒ¨ä¹Ÿä¿æŒå‚ç›´å±…ä¸­ */
  gap: 8px !important;
}

/* 3. ç¾åŒ–è¾“å…¥æ¡†æœ¬èº«ï¼Œå¹¶è®©å®ƒè‡ªåŠ¨æ’‘æ»¡å®½åº¦ */
#sts-action-area #sts-question-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
}

/* 4. ç»Ÿä¸€æ‰€æœ‰æŒ‰é’®çš„é«˜åº¦å’Œæ ·å¼ï¼Œè®©å®ƒä»¬å’Œè¾“å…¥æ¡†å®Œç¾é€‚é… */
#sts-action-area #guess-sts-answer-btn,
#sts-action-area #send-sts-question-btn {
  height: 40px;
  border-radius: 20px;
  padding: 0 15px;
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
}

/* 5. å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode #sts-action-area #sts-question-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}
/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å‰§æœ¬æ€æ¸¸æˆæ ·å¼ â–¼â–¼â–¼ */

/* æ¸¸æˆä¸»ç•Œé¢å¸ƒå±€ */
#script-kill-game-content {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  padding: 10px;
  box-sizing: border-box;
}

/* ç©å®¶åº§ä½åŒº (å¤ç”¨ç‹¼äººæ€çš„æ ·å¼) */
#script-kill-players-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
  gap: 10px;
  padding: 10px;
  flex-shrink: 0;
}

/* æ¸¸æˆæ—¥å¿—åŒº (å¤ç”¨ç‹¼äººæ€çš„æ ·å¼) */
#script-kill-log-container {
  flex-grow: 1;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 10px;
  padding: 10px;
  overflow-y: auto;
  margin: 10px 0;
  min-height: 0; /* flexå¸ƒå±€ä¸‹æ»šåŠ¨çš„å…³é”® */
}

/* ç©å®¶æ“ä½œåŒº (å¤ç”¨ç‹¼äººæ€çš„æ ·å¼) */
#script-kill-action-area {
  flex-shrink: 0;
  padding: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  min-height: 50px;
}
#script-kill-action-area button {
  padding: 10px 20px;
}

/* æŠ•ç¥¨é€‰é¡¹æ ·å¼ */
#sk-vote-options-list label {
  display: block;
  padding: 8px;
  border-radius: 6px;
  cursor: pointer;
}
#sk-vote-options-list label:hover {
  background-color: #f0f2f5;
}
#phone-screen.dark-mode #sk-vote-options-list label:hover {
  background-color: #2c2c2e;
}

/* çº¿ç´¢å¡ç‰‡æ ·å¼ */
.sk-evidence-card {
  background-color: var(--secondary-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}
.sk-evidence-card .source {
  font-size: 12px;
  color: var(--text-secondary);
  margin-bottom: 8px;
}
.sk-evidence-card .description {
  font-size: 14px;
  line-height: 1.6;
}

/* â–²â–²â–² å‰§æœ¬æ€æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* ã€å…¨æ–°ã€‘å‰§æœ¬æ€å¯è§†åŒ–ç¼–è¾‘å™¨æ ·å¼ */

/* è§’è‰²/çº¿ç´¢å¡ç‰‡çš„å®¹å™¨ */
.sk-item-container {
  display: flex;
  flex-direction: column;
  gap: 10px;
  background-color: #f0f2f5;
  padding: 10px;
  border-radius: 8px;
  min-height: 50px;
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .sk-item-container {
  background-color: #2c2c2e;
}

/* å•ä¸ªè§’è‰²/çº¿ç´¢çš„å¡ç‰‡ */
.sk-editor-item {
  background-color: var(--secondary-bg);
  padding: 10px 15px;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.sk-editor-item .item-info .item-name {
  font-weight: 600;
}
.sk-editor-item .item-info .item-meta {
  font-size: 12px;
  color: var(--text-secondary);
}

/* å¡ç‰‡ä¸Šçš„ç¼–è¾‘/åˆ é™¤æŒ‰é’® */
.sk-editor-item .item-actions {
  display: flex;
  gap: 8px;
}
.sk-editor-item .item-actions button {
  padding: 4px 8px;
  font-size: 13px;
  border-radius: 5px;
  cursor: pointer;
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘â€œä½ è¯´æˆ‘çŒœâ€æ¸¸æˆæ ·å¼ â–¼â–¼â–¼ */

/* æ¸¸æˆæ—¥å¿—åŒºåŸŸ */
#guess-what-game-log {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* å•æ¡æ—¥å¿—æ¡ç›® */
.guess-log-entry {
  padding: 8px 12px;
  border-radius: 12px;
  line-height: 1.6;
  max-width: 90%;
  word-break: break-word;
}

/* ç³»ç»Ÿæç¤ºï¼Œä¾‹å¦‚æ¸¸æˆå¼€å§‹ã€è°çš„å›åˆ */
.guess-log-entry.system {
  background-color: #e9ecef;
  color: var(--text-secondary);
  text-align: center;
  font-weight: 500;
  font-size: 13px;
  align-self: center;
}
#phone-screen.dark-mode .guess-log-entry.system {
  background-color: #2c2c2e;
}

/* ç©å®¶å‘è¨€çš„æ°”æ³¡ï¼ˆé€šç”¨ï¼‰ */
.guess-log-entry.user-turn,
.guess-log-entry.ai-turn {
  display: flex;
  gap: 10px;
  align-items: flex-start;
}

/* ç©å®¶å‘è¨€å†…å®¹ */
.guess-log-entry .bubble {
  background-color: #fff;
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid var(--border-color);
}
#phone-screen.dark-mode .guess-log-entry .bubble {
  background-color: #2c2c2e;
}

/* AIå‘è¨€æ°”æ³¡ï¼ˆé å·¦ï¼‰ */
.guess-log-entry.ai-turn {
  align-self: flex-start;
}

/* ç”¨æˆ·å‘è¨€æ°”æ³¡ï¼ˆé å³ï¼‰ */
.guess-log-entry.user-turn {
  align-self: flex-end;
  flex-direction: row-reverse; /* å¤´åƒåœ¨å³è¾¹ */
}
.guess-log-entry.user-turn .bubble {
  background-color: #dcf8c6; /* ç±»ä¼¼å¾®ä¿¡çš„ç»¿è‰² */
}
#phone-screen.dark-mode .guess-log-entry.user-turn .bubble {
  background-color: #3b5b32; /* å¤œé—´æ¨¡å¼ä¸‹çš„ç»¿è‰² */
}

/* æ°”æ³¡å†…çš„å¤´åƒ */
.guess-log-entry .avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  flex-shrink: 0;
}

/* æ°”æ³¡å†…çš„åå­—å’Œå†…å®¹ */
.guess-log-entry .name {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  margin-bottom: 4px;
}

/* æ¸¸æˆè¾“å…¥åŒºç¾åŒ– */
#guess-what-action-area {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important; /* ä¿æŒå‚ç›´å±…ä¸­ */
  gap: 8px !important;
  width: 100%; /* æ–°å¢ï¼šè®©æ•´ä¸ªå®¹å™¨æ’‘æ»¡å®½åº¦ */
  box-sizing: border-box; /* æ–°å¢ï¼šç¡®ä¿å†…è¾¹è·å’Œè¾¹æ¡†è¢«æ­£ç¡®è®¡ç®—åœ¨å†… */
}

#guess-what-action-area #guess-what-user-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
}
#guess-what-action-area #send-guess-what-input-btn {
  height: 40px;
  border-radius: 20px;
  padding: 0 15px;
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
}
#phone-screen.dark-mode #guess-what-action-area #guess-what-user-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}

/* â–²â–²â–² â€œä½ è¯´æˆ‘çŒœâ€æ¸¸æˆæ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å‰§æœ¬æ€AIç”Ÿæˆå™¨å¸ƒå±€ä¿®å¤ã€‘è¯·å°†è¿™æ•´å—å…¨æ–°çš„CSSç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* 1. ã€æ ¸å¿ƒã€‘è®©æ•´ä¸ªå¼¹çª—çš„å†…å®¹åŒº(modal-body)èƒ½å¤Ÿæ­£ç¡®åœ°æ’‘æ»¡å‰©ä½™ç©ºé—´å¹¶æ»šåŠ¨ */
#sk-ai-generator-modal .modal-body {
  flex-grow: 1; /* å…è®¸å†…å®¹åŒºå æ® header å’Œ footer ä¹‹é—´çš„æ‰€æœ‰å¯ç”¨å‚ç›´ç©ºé—´ */
  min-height: 0; /* è§£å†³flexå¸ƒå±€ä¸­ä¸€ä¸ªå¸¸è§çš„æ»šåŠ¨æ¡å¤±æ•ˆé—®é¢˜ï¼Œéå¸¸å…³é”® */
  /* overflow-y: auto;  <-- è¿™ä¸ªå±æ€§ä½ çš„ .modal-body å·²ç»æœ‰äº†ï¼Œæ‰€ä»¥ä¸ç”¨é‡å¤å†™ */
}

/* 2. ã€æ ¸å¿ƒã€‘æŒ‡å®šåŒ…å«â€œé¢„è§ˆæ¡†â€çš„é‚£ä¸ª form-group ä¹Ÿéœ€è¦èƒ½å¤Ÿå¼¹æ€§å¢é•¿ */
/* æˆ‘ä»¬ç”¨ :last-of-type ç²¾å‡†å®šä½åˆ°æœ€åä¸€ä¸ª .form-group */
#sk-ai-generator-modal .modal-body .form-group:last-of-type {
  flex-grow: 1; /* è®©å®ƒåƒæ‰æ‰€æœ‰å‰©ä½™çš„å‚ç›´ç©ºé—´ */
  min-height: 0; /* åŒæ ·æ˜¯ä¸ºäº†å…¼å®¹æ€§ */
  display: flex; /* æŠŠå®ƒè‡ªå·±ä¹Ÿå˜æˆflexå®¹å™¨ */
  flex-direction: column; /* è®©å®ƒé‡Œé¢çš„ label å’Œ preview å‚ç›´æ’åˆ— */
}

/* 3. ã€æ ¸å¿ƒã€‘æœ€åï¼Œç¡®ä¿é¢„è§ˆæ¡†æœ¬èº«èƒ½å¤Ÿæ’‘æ»¡å®ƒçš„çˆ¶å®¹å™¨ï¼Œå¹¶ä¸”åœ¨å†…å®¹è¿‡å¤šæ—¶è‡ªå·±æ»šåŠ¨ */
#sk-ai-result-preview {
  flex-grow: 1; /* æ’‘æ»¡çˆ¶å®¹å™¨(.form-group)çš„ç©ºé—´ */
  overflow-y: auto; /* å½“ä»£ç è¶…å‡ºæ—¶ï¼Œæ˜¾ç¤ºå®ƒè‡ªå·±çš„æ»šåŠ¨æ¡ï¼Œè€Œä¸æ˜¯è®©æ•´ä¸ªå¼¹çª—æ»šåŠ¨ */

  /* (å¯é€‰ç¾åŒ–) ç»™ä¸€ä¸ªæœ€å°é«˜åº¦ï¼Œé˜²æ­¢åœ¨æ²¡å†…å®¹æ—¶å®Œå…¨å¡Œé™· */
  min-height: 100px;
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€æ¸¸æˆè¾“å…¥åŒºç»ˆæä¿®å¤ç‰ˆã€‘ â–¼â–¼â–¼ */

/* 1. å¼ºåˆ¶é‡ç½®ä¸¤ä¸ªæ¸¸æˆè¾“å…¥åŒºåŸŸçš„å®¹å™¨å¸ƒå±€ */
#sts-action-area,
#guess-what-action-area {
  display: flex !important;
  flex-direction: row !important; /* å…³é”®ï¼šä»çºµå‘æ”¹ä¸ºæ¨ªå‘ */
  align-items: center !important; /* å…³é”®ï¼šè®©æ‰€æœ‰å­å…ƒç´ å‚ç›´å±…ä¸­ */
  gap: 8px !important; /* è®¾ç½®å…ƒç´ ä¹‹é—´çš„é—´è· */
  width: 100%; /* æ–°å¢ï¼šè®©æ•´ä¸ªå®¹å™¨å®½åº¦æ’‘æ»¡ */
  box-sizing: border-box; /* æ–°å¢ï¼šç¡®ä¿å†…è¾¹è·å’Œè¾¹æ¡†è¢«æ­£ç¡®è®¡ç®— */
}

/* 2. å¼ºåˆ¶å†…éƒ¨çš„ .chat-input-main-row ä¹Ÿèƒ½æ­£ç¡®ä¼¸å±•å’Œå¯¹é½ */
#sts-action-area .chat-input-main-row,
#guess-what-action-area .chat-input-main-row {
  flex-grow: 1 !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
}

/* 3. ç¾åŒ–è¾“å…¥æ¡†æœ¬èº«ï¼Œå¹¶è®©å®ƒè‡ªåŠ¨æ’‘æ»¡å®½åº¦ */
#sts-action-area #sts-question-input,
#guess-what-action-area #guess-what-user-input {
  flex-grow: 1; /* æ ¸å¿ƒï¼šè®©è¾“å…¥æ¡†è‡ªåŠ¨ä¼¸å±•ï¼Œå æ»¡æ‰€æœ‰å¯ç”¨å®½åº¦ */
  min-height: 40px; /* ä¿è¯æœ€å°é«˜åº¦ */
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
  box-sizing: border-box;
}

/* 4. ç»Ÿä¸€æ‰€æœ‰æŒ‰é’®çš„é«˜åº¦å’Œæ ·å¼ï¼Œè®©å®ƒä»¬å’Œè¾“å…¥æ¡†å®Œç¾é€‚é… */
#sts-action-area button,
#guess-what-action-area button {
  height: 40px;
  border-radius: 20px;
  padding: 0 15px;
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
  font-size: 14px;
  font-weight: 600;
}

/* 5. å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode #sts-action-area #sts-question-input,
#phone-screen.dark-mode #guess-what-action-area #guess-what-user-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}
/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* === ã€ç‹¬å®¶å®šåˆ¶ã€‘éšè—æ¸¸æˆå¤§å…è¿”å›æŒ‰é’®çš„ "é€€å‡º" æ–‡å­— === */
#exit-werewolf-game-btn,
#exit-sts-game-btn,
#exit-script-kill-game-btn,
#exit-guess-what-game-btn,
#exit-ludo-game-btn,
#exit-undercover-game-btn {
  /* <--- ä¿®æ”¹åœ¨è¿™é‡Œ */
  font-size: 0 !important;
  color: transparent !important;
}

#exit-werewolf-game-btn::before,
#exit-sts-game-btn::before,
#exit-script-kill-game-btn::before,
#exit-guess-what-game-btn::before,
#exit-ludo-game-btn::before,
#exit-undercover-game-btn::before {
  /* <--- è¿˜æœ‰è¿™é‡Œ */
  content: "â€¹";
  font-size: 24px !important;
  color: var(--accent-color) !important;
}

/* â–¼â–¼â–¼ ã€V3æœ€ç»ˆç‰ˆã€‘æ¸¸æˆå‘è¨€è¾“å…¥åŒºé€šç”¨ç¾åŒ–æ ·å¼ (å·²å±…ä¸­) â–¼â–¼â–¼ */

/* 1. è®©æ‰€æœ‰æ¸¸æˆçš„å‘è¨€åŒºåŸŸå®¹å™¨éƒ½æ°´å¹³å±…ä¸­ */
#werewolf-action-area.speaking-mode,
#script-kill-action-area.speaking-mode,
#undercover-action-area.speaking-mode {
  /* â˜… æ–°å¢äº† #undercover-action-area */
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 10px 12px !important; /* å¢åŠ ä¸Šä¸‹å†…è¾¹è·ï¼Œè®©åŒºåŸŸä¸è´´åº• */
  box-sizing: border-box;
  justify-content: center; /* â˜…â˜…â˜… è¿™å°±æ˜¯å®ç°å±…ä¸­çš„æ ¸å¿ƒä»£ç ï¼ â˜…â˜…â˜… */
}

/* 2. ç¾åŒ–æ‰€æœ‰æ¸¸æˆçš„å‘è¨€è¾“å…¥æ¡† */
#werewolf-action-area.speaking-mode #user-speech-input,
#script-kill-action-area.speaking-mode #user-sk-speech-input,
#undercover-action-area.speaking-mode #undercover-user-speech-input {
  /* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ï¼šæˆ‘ä»¬ç§»é™¤äº† flex-grow: 1; å±æ€§ï¼â˜…â˜…â˜… */
  /* è¿™æ ·è¾“å…¥æ¡†å°±ä¸ä¼šæ— é™ä¼¸å±•ï¼Œè€Œæ˜¯ä¿æŒä¸€ä¸ªè‡ªç„¶çš„å®½åº¦ */

  border: 1px solid #ccc; /* å¢åŠ ä¸€ä¸ªæ·¡æ·¡çš„è¾¹æ¡†ï¼Œè®©å®ƒæ›´æ¸…æ™° */
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
  width: auto; /* ç¡®ä¿å®½åº¦æ˜¯è‡ªé€‚åº”çš„ */
  height: auto;
  min-width: 200px; /* ç»™ä¸€ä¸ªæœ€å°å®½åº¦ï¼Œé˜²æ­¢å†…å®¹å°‘æ—¶å¤ªçª„ */
}

/* 3. ç¾åŒ–æ‰€æœ‰æ¸¸æˆçš„â€œå‘è¨€/ç»“æŸå‘è¨€â€æŒ‰é’® */
#werewolf-action-area.speaking-mode #end-speech-btn,
#script-kill-action-area.speaking-mode #sk-end-speech-btn,
#undercover-action-area.speaking-mode #undercover-end-speech-btn {
  height: 40px;
  border-radius: 20px;
  padding: 0 20px; /* å¢åŠ å·¦å³å†…è¾¹è·ï¼Œè®©æŒ‰é’®æ›´é¥±æ»¡ */
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
  margin: 0 !important;
  width: auto !important;
  background-color: var(--accent-color);
  color: white;
  border: none;
}

/* 4. å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode #werewolf-action-area.speaking-mode #user-speech-input,
#phone-screen.dark-mode
  #script-kill-action-area.speaking-mode
  #user-sk-speech-input,
#phone-screen.dark-mode
  #undercover-action-area.speaking-mode
  #undercover-user-speech-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
  border-color: #444; /* å¤œé—´æ¨¡å¼ä¸‹çš„è¾¹æ¡†é¢œè‰² */
}

/* â–²â–²â–² æœ€ç»ˆç‰ˆæ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å® ç‰©åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

#chat-pet {
  transition: transform 0.2s ease-out; /* ä¸ºæ‹–åŠ¨æ·»åŠ ä¸€ç‚¹å¹³æ»‘è¿‡æ¸¡ */
}

#chat-pet:active {
  cursor: grabbing;
  transform: scale(1.1); /* æ‹–åŠ¨æ—¶ç¨å¾®æ”¾å¤§ï¼Œç»™ç”¨æˆ·åé¦ˆ */
  filter: brightness(0.9);
}

#chat-pet img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* è‡ªå®šä¹‰å›¾ç‰‡ç­‰æ¯”ç¼©æ”¾ */
  -webkit-user-drag: none; /* é˜²æ­¢å›¾ç‰‡è¢«æ„å¤–æ‹–åŠ¨ */
  user-drag: none;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å® ç‰©æ•°å€¼é¢æ¿æ ·å¼ â–¼â–¼â–¼ */

#pet-stats-area {
  display: flex;
  flex-direction: column;
  gap: 12px; /* æ¯ä¸ªæ•°å€¼æ¡ä¹‹é—´çš„é—´è· */
  margin-bottom: 20px;
  padding: 15px;
  background-color: #f9f9f9;
  border-radius: 8px;
  border: 1px solid var(--border-color);
}

#phone-screen.dark-mode #pet-stats-area {
  background-color: #2c2c2e;
}

.stat-bar-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.stat-bar-container .stat-label {
  width: 60px; /* å›ºå®šæ ‡ç­¾å®½åº¦ï¼Œè®©è¿›åº¦æ¡å¯¹é½ */
  font-size: 14px;
  font-weight: 500;
  flex-shrink: 0;
}

.stat-bar {
  flex-grow: 1;
  height: 18px;
  background-color: #e9ecef;
  border-radius: 9px;
  overflow: hidden;
  position: relative;
}

#phone-screen.dark-mode .stat-bar {
  background-color: #3e3e42;
}

.stat-bar-fill {
  height: 100%;
  border-radius: 9px;
  transition: width 0.5s ease-in-out;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 10px;
  font-weight: bold;
  text-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
}

/* ä¸ºä¸åŒçš„æ•°å€¼æ¡è®¾ç½®ä¸åŒçš„é¢œè‰² */
#pet-hunger-bar .stat-bar-fill {
  background: linear-gradient(135deg, #fd7e14, #ffc107);
}
#pet-happiness-bar .stat-bar-fill {
  background: linear-gradient(135deg, #28a745, #20c997);
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å® ç‰©äº²å¯†åº¦è¿›åº¦æ¡é¢œè‰² â–¼â–¼â–¼ */
#pet-intimacy-user-bar .stat-bar-fill {
  background: linear-gradient(
    135deg,
    #ff8fab,
    #ffc3a0
  ); /* å¯¹ä½ ï¼šæ¸©æš–çš„ç²‰æ©™è‰² */
}
#pet-intimacy-char-bar .stat-bar-fill {
  background: linear-gradient(
    135deg,
    #a1c4fd,
    #c2e9fb
  ); /* å¯¹Taï¼šæŸ”å’Œçš„å¤©è“è‰² */
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å® ç‰©èŠå¤©ç•Œé¢æ ·å¼ â–¼â–¼â–¼ */
#pet-chat-messages .message-wrapper {
  max-width: 85%;
}

#pet-chat-messages .message-bubble {
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

#pet-chat-messages .message-bubble .avatar {
  width: 34px;
  height: 34px;
  border-radius: 50%;
}

#pet-chat-messages .message-bubble .content {
  padding: 8px 12px;
  border-radius: 10px;
  line-height: 1.5;
}

#pet-chat-messages .message-wrapper.user {
  align-self: flex-end;
}
#pet-chat-messages .message-wrapper.user .message-bubble {
  flex-direction: row-reverse;
}
#pet-chat-messages .message-wrapper.user .content {
  background-color: #dcf8c6;
}

#pet-chat-messages .message-wrapper.pet {
  align-self: flex-start;
}
#pet-chat-messages .message-wrapper.pet .content {
  background-color: #fff;
}

#phone-screen.dark-mode #pet-chat-messages {
  background-color: #000;
}
#phone-screen.dark-mode #pet-chat-messages .message-wrapper.user .content {
  background-color: #26491d;
}
#phone-screen.dark-mode #pet-chat-messages .message-wrapper.pet .content {
  background-color: #2c2c2e;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å¸ƒå±€ç»ˆæä¿®å¤ã€‘ç”¨è¿™æ•´å—ä»£ç æ›¿æ¢ä½ ä¸Šä¸€æ¬¡æ·»åŠ çš„å® ç‰©èŠå¤©è¾“å…¥æ¡†æ ·å¼ â–¼â–¼â–¼ */

/* 1. è®©å¼¹çª—å†…å®¹åŒºé€‚é…æ–°å¸ƒå±€ (ä¿æŒä¸å˜) */
#pet-chat-modal .modal-content {
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* 2. æ¶ˆæ¯åŒºåŸŸ (ä¿æŒä¸å˜) */
#pet-chat-modal #pet-chat-messages {
  flex-grow: 1;
  min-height: 0;
  overflow-y: auto;
  padding: 20px 15px;
  background-color: #f0f2f5;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* 3. æ°”æ³¡æ ·å¼ (ä¿æŒä¸å˜) */
#pet-chat-modal .message-bubble .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
}
#pet-chat-modal .message-wrapper.user .content {
  background-color: #007aff;
  color: white;
  padding: 10px 14px;
  border-radius: 18px 18px 4px 18px;
  max-width: 100%;
}
#pet-chat-modal .message-wrapper.pet .content {
  background-color: #ffffff;
  color: #1c1c1e;
  padding: 10px 14px;
  border-radius: 18px 18px 18px 4px;
  max-width: 100%;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

/* --- â–¼â–¼â–¼ æ ¸å¿ƒä¿®å¤åŒºåŸŸ â–¼â–¼â–¼ --- */

/* 4. é‡ç½®è¾“å…¥åŒºåŸŸçš„èƒŒæ™¯å’Œè¾¹æ¡† (ä¿æŒä¸å˜) */
#pet-chat-modal #pet-chat-input-area {
  border-top: 1px solid #e0e0e0;
  background-color: #f7f7f7;
  padding: 10px 12px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

/* 5. ã€æ ¸å¿ƒä¿®å¤ã€‘è®©è¾“å…¥æ¡†å’Œå‘é€æŒ‰é’®çš„å®¹å™¨å˜æˆ Flex å¸ƒå±€ */
#pet-chat-modal #pet-chat-input-area .chat-input-main-row {
  display: flex; /* å…³é”®ï¼šè®©å†…éƒ¨å…ƒç´ æ¨ªå‘æ’åˆ— */
  align-items: center; /* å…³é”®ï¼šè®©è¾“å…¥æ¡†å’ŒæŒ‰é’®å‚ç›´å±…ä¸­å¯¹é½ï¼Œå®ç°â€œå¹³è¡Œâ€ */
  gap: 8px; /* è¾“å…¥æ¡†å’ŒæŒ‰é’®ä¹‹é—´çš„é—´è· */
}

/* 6. ç¾åŒ–è¾“å…¥æ¡†ï¼Œå¹¶ã€è®©å®ƒæ’‘æ»¡å®½åº¦ã€‘ */
#pet-chat-modal #pet-chat-input {
  flex-grow: 1; /* å…³é”®ï¼šè®©è¾“å…¥æ¡†å æ®æ‰€æœ‰å‰©ä½™çš„å®½åº¦ */
  background-color: white;
  border: 1px solid #ddd;
  border-radius: 18px;
  padding: 8px 15px;
  line-height: 1.5;
  min-height: 38px;
  max-height: 100px;
  resize: none; /* ç¦æ­¢ç”¨æˆ·æ‰‹åŠ¨æ‹–æ‹½å¤§å° */
  box-sizing: border-box; /* ç¡®ä¿paddingä¸ä¼šæ’‘ç ´å¸ƒå±€ */
}

/* 7. ç¾åŒ–å‘é€æŒ‰é’®ï¼Œå¹¶å›ºå®šå…¶å¤§å° */
#pet-chat-modal #send-to-pet-btn {
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«å‹ç¼© */
  background-color: #007aff;
  color: white;
  border: none;
  border-radius: 18px;
  height: 38px;
  padding: 0 20px;
  font-weight: 600;
  cursor: pointer; /* é¼ æ ‡æ”¾ä¸Šå»æ—¶æ˜¾ç¤ºå°æ‰‹ */
}

/* 8. å¤œé—´æ¨¡å¼é€‚é… (ä¿æŒä¸å˜) */
#phone-screen.dark-mode #pet-chat-modal #pet-chat-messages {
  background-color: #000;
}
#phone-screen.dark-mode #pet-chat-modal .message-wrapper.pet .content {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode #pet-chat-modal #pet-chat-input-area {
  background-color: #1c1c1e;
  border-top-color: #38383a;
}
#phone-screen.dark-mode #pet-chat-modal #pet-chat-input {
  background-color: #2c2c2e;
  border-color: #38383a;
  color: white;
}

/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- ã€å…¨æ–°ã€‘æƒ…ä¾£ç©ºé—´-æƒ…ç»ªæ—¥è®°æ ·å¼ --- */

/* æ—¥è®°è§†å›¾ä¸»å®¹å™¨ */
#ls-diary-view {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* æ—¥å†å®¹å™¨ */
.ls-calendar-wrapper {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ls-calendar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  font-size: 16px;
  font-weight: 600;
}

.ls-calendar-header button {
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  color: var(--accent-color);
}

.ls-calendar-weekdays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  text-align: center;
  font-size: 12px;
  color: var(--text-secondary);
  margin-bottom: 10px;
}

.ls-calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 5px;
}

.ls-calendar-day {
  aspect-ratio: 1 / 1;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s;
  position: relative;
  padding-top: 4px;
}
.ls-calendar-day:hover {
  background-color: #f0f2f5;
}
.ls-calendar-day.empty {
  cursor: default;
  pointer-events: none;
}
.ls-calendar-day.today .day-number {
  background-color: var(--accent-color);
  color: white;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  line-height: 22px;
}

.ls-calendar-day .day-number {
  font-size: 13px;
  font-weight: 500;
  margin-bottom: 4px;
}

.ls-calendar-day .mood-emojis {
  display: flex;
  gap: 4px;
  font-size: 16px;
  position: absolute;
  bottom: 5px;
}

/* å¿ƒæƒ…ç½å­ */
.ls-mood-jar-wrapper {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  text-align: center;
}

.ls-mood-jar-wrapper h3 {
  margin: 0 0 15px 0;
  font-size: 16px;
}

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€ä¿®å¤åã€‘çš„ä»£ç æ›¿æ¢æ—§çš„ .ls-mood-jar æ ·å¼ â–¼â–¼â–¼ */
.ls-mood-jar {
  width: 100%;
  max-width: 100%; /* â˜… æ ¸å¿ƒä¿®æ”¹1: ä½¿ç”¨max-widthé˜²æ­¢æº¢å‡º */
  box-sizing: border-box; /* â˜… æ ¸å¿ƒä¿®æ”¹2: ç¡®ä¿paddingä¸ä¼šå¯¼è‡´å®½åº¦è®¡ç®—é”™è¯¯ */
  min-height: 80px;
  background-color: #f0f2f5;
  border-radius: 8px;
  padding: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-content: flex-start;
  justify-content: center;
  overflow: auto; /* â˜… æ ¸å¿ƒä¿®æ”¹3 (ä¿é™©): å¦‚æœå†…å®¹å®åœ¨å¤ªå¤šï¼Œå°±ç”¨æ»šåŠ¨æ¡å…œåº• */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

.ls-mood-jar .mood-emoji-item {
  font-size: 22px;
}

/* æ—¥è®°ç¼–è¾‘å¼¹çª— */
#ls-emoji-selector .emoji-option {
  padding: 5px;
  border-radius: 8px;
  transition: background-color 0.2s;
}
#ls-emoji-selector .emoji-option.selected {
  background-color: #e0e0e0;
  transform: scale(1.2);
}

/* æ—¥è®°æŸ¥çœ‹å¼¹çª— */
.ls-diary-entry-block {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 15px;
  border-left: 4px solid var(--accent-color);
}
.ls-diary-entry-block .entry-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}
.ls-diary-entry-block .entry-header .mood-emoji {
  font-size: 32px;
}
.ls-diary-entry-block .entry-header .author {
  font-weight: 600;
  font-size: 16px;
}
.ls-diary-entry-block .entry-content {
  line-height: 1.7;
  white-space: pre-wrap;
  word-break: break-word;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- ã€å…¨æ–°ã€‘æƒ…ä¾£ç©ºé—´-æ—¥è®°é€šçŸ¥å¡ç‰‡æ ·å¼ --- */

/* 1. è®©åŒ…è£¹å¡ç‰‡çš„æ°”æ³¡æœ¬èº«å˜é€æ˜ */
.message-bubble.is-ls-diary-notification .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* 2. å¡ç‰‡ä¸»ä½“æ ·å¼ */
.ls-diary-notification-card {
  width: 220px; /* å¡ç‰‡å®½åº¦ */
  background: linear-gradient(
    135deg,
    #fff5f8,
    #ffebee
  ); /* æ¸©æŸ”çš„ç²‰è‰²æ¸å˜èƒŒæ™¯ */
  border-radius: 12px;
  padding: 15px;
  cursor: pointer;
  border: 1px solid #ffdde1; /* æ·¡æ·¡çš„ç²‰è‰²è¾¹æ¡† */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  position: relative;
  overflow: hidden; /* éšè—æº¢å‡ºçš„è£…é¥°å…ƒç´  */
  transition:
    transform 0.2s,
    box-shadow 0.2s; /* æ·»åŠ ç‚¹å‡»åŠ¨æ•ˆ */
}
.ls-diary-notification-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* 3. å¡ç‰‡å³ä¸Šè§’çš„è£…é¥°æ€§å›¾æ ‡ */
.ls-diary-notification-card::before {
  content: "ğŸ’Œ";
  position: absolute;
  top: -5px;
  right: 10px;
  font-size: 30px;
  opacity: 0.1;
  transform: rotate(15deg);
}

/* 4. å¡ç‰‡å¤´éƒ¨ï¼ˆå›¾æ ‡å’Œæ ‡é¢˜ï¼‰ */
.ls-diary-card-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 15px;
  font-weight: 600;
  color: #c85c7c; /* ç¨æ·±çš„ç²‰è‰²ï¼Œä¿è¯æ¸…æ™°åº¦ */
  margin-bottom: 10px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(200, 92, 124, 0.2);
}

/* 5. å¡ç‰‡æ­£æ–‡ */
.ls-diary-card-body p {
  font-size: 14px;
  color: #5c474b; /* æ·±æ£•è‰²ï¼Œæ˜“äºé˜…è¯» */
  margin: 0 0 12px 0;
  line-height: 1.6;
}

/* 6. å¡ç‰‡åº•éƒ¨æç¤ºæ–‡å­— */
.ls-diary-card-footer {
  font-size: 12px;
  color: #c85c7c;
  text-align: right;
  font-weight: 500;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€ç‹¬å®¶å®šåˆ¶ã€‘å® ç‰©äº’åŠ¨æŒ‰é’® 2x2 ç½‘æ ¼å¸ƒå±€ (æœ€ç»ˆåŠ å¼ºç‰ˆ) â–¼â–¼â–¼ */

/* 1. ä½¿ç”¨ !important å¼ºåˆ¶å¼€å¯ç½‘æ ¼å¸ƒå±€ï¼Œå¯¹æŠ—æ ·å¼å†²çª */
#pet-interaction-area {
  display: grid !important; /* å…³é”®ï¼šå¼ºåˆ¶ä½¿ç”¨ grid å¸ƒå±€ */
  grid-template-columns: 1fr 1fr; /* ä¸¤åˆ—ç½‘æ ¼ */
  gap: 10px; /* æŒ‰é’®é—´è· */
  max-width: 220px; /* é€‚å½“æ”¾å®½æœ€å¤§å®½åº¦ï¼Œç»™æŒ‰é’®æ›´å¤šç©ºé—´ */
  margin: 15px auto !important; /* å¼ºåˆ¶å±…ä¸­ */
}

/* 2. è°ƒæ•´æŒ‰é’®å°ºå¯¸ï¼Œå¹¶å¼ºåˆ¶æ–‡å­—ä¸æ¢è¡Œ */
#pet-interaction-area button {
  /* å°ºå¯¸å’Œæ–‡å­— */
  padding: 8px 12px;
  font-size: 14px;
  white-space: nowrap; /* å…³é”®ï¼šå¼ºåˆ¶æ–‡å­—åœ¨åŒä¸€è¡Œæ˜¾ç¤ºï¼Œé˜²æ­¢æ¢è¡Œ */

  /* å½¢çŠ¶å’Œç¾åŒ– */
  border-radius: 18px;
  width: 100%;
  font-weight: 600;
  background-color: #f0f2f5;
  color: var(--accent-color);
  border: 1.5px solid var(--accent-color);
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* 3. äº¤äº’æ•ˆæœä¿æŒä¸å˜ */
#pet-interaction-area button:hover {
  background-color: var(--accent-color);
  color: white;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

#pet-interaction-area button:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
}

/* â–²â–²â–² ç¾åŒ–æ ·å¼ç»“æŸ â–²â–²â–² */

/* --- ã€æœ€ç»ˆç‰ˆã€‘æƒ…ä¾£ç©ºé—´å³ä¸Šè§’æŒ‰é’®ç¾åŒ–ä¸ç‹¬ç«‹å¾®è°ƒ --- */

/* 1. æ”¶ç´§æŒ‰é’®å®¹å™¨çš„æ•´ä½“é—´è· */
#ls-header .header-actions {
  gap: 0px; /* â˜… ä¿®æ”¹è¿™é‡Œï¼šå°†æŒ‰é’®é—´çš„é—´è·å‡å°åˆ°0ï¼Œè®©å®ƒä»¬ç´§æŒ¨ç€ */
}

/* 2. ä¿æŒæŒ‰é’®çš„åŸºç¡€æ ·å¼ï¼ˆè¿™éƒ¨åˆ†ä¸å˜ï¼‰ */
#ls-header .action-btn {
  padding: 8px;
  border-radius: 50%;
  transition: background-color 0.2s;
}
#ls-header .action-btn:hover {
  background-color: rgba(255, 255, 255, 0.2);
}

/* 3. ã€æ ¸å¿ƒã€‘ä¸ºæ¯ä¸ªæŒ‰é’®æ·»åŠ ç‹¬ç«‹çš„å¾®è°ƒåŠŸèƒ½ */

/* â€œè®¾ç½®â€æŒ‰é’®çš„ç‹¬ç«‹ä½ç½® */
#ls-settings-btn {
  position: relative; /* å¯ç”¨ç›¸å¯¹å®šä½ï¼Œè¿™æ˜¯å¾®è°ƒçš„å…³é”® */
  top: 0px; /* ã€è°ƒä¸Šä¸‹ã€‘: æ­£æ•°å¾€ä¸‹ç§»ï¼Œè´Ÿæ•°å¾€ä¸Šç§» */
  left: 40px; /* ã€è°ƒå·¦å³ã€‘: æ­£æ•°å¾€å³ç§»ï¼Œè´Ÿæ•°å¾€å·¦ç§» */
}

/* â€œæ›´æ¢èƒŒæ™¯â€æŒ‰é’®çš„ç‹¬ç«‹ä½ç½® */
#ls-change-bg-btn {
  position: relative;
  top: 0px;
  left: 30px;
}

/* â€œåˆ‡æ¢â€æŒ‰é’®çš„ç‹¬ç«‹ä½ç½® */
#ls-switch-char-btn {
  position: relative;
  top: -5px;
  left: 15px;
}

/* â–¼â–¼â–¼ ã€ç‹¬å®¶å®šåˆ¶ã€‘æƒ…ä¾£ç©ºé—´å¿ƒåŠ¨éŸ³æ³¢å›¾æ ‡ â–¼â–¼â–¼ */

/* 1. ç§»é™¤æ—§çš„çˆ±å¿ƒå­—ç¬¦å’Œå‘å…‰æ•ˆæœ */
.ls-header-avatars .heart-icon {
  font-size: 0; /* è®©'â¤'å­—ç¬¦æ¶ˆå¤± */
  text-shadow: none; /* ç§»é™¤æ–‡å­—é˜´å½± */

  /* 2. ä¸ºæ–°å›¾æ ‡è®¾ç½®ä¸€ä¸ªå®¹å™¨å¤§å°ï¼Œæ‚¨å¯ä»¥æ ¹æ®å–œå¥½å¾®è°ƒ */
  width: 80px;
  height: 28px;

  /* 3. ã€æ ¸å¿ƒã€‘å°†ä½ å›¾ç‰‡ä¸­çš„éŸ³æ³¢å¿ƒåŠ¨å›¾è®¾ç½®ä¸ºèƒŒæ™¯ */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='24' viewBox='0 0 80 24'%3E%3Cg fill='%23ff8fab'%3E%3Crect x='0' y='10' width='3' height='4' rx='1.5'/%3E%3Crect x='5' y='8' width='3' height='8' rx='1.5'/%3E%3Crect x='10' y='11' width='3' height='2' rx='1.5'/%3E%3Crect x='15' y='6' width='3' height='12' rx='1.5'/%3E%3Crect x='20' y='9' width='3' height='6' rx='1.5'/%3E%3Cpath transform='translate(25 0) scale(1.1)' d='M22 8.879c0-5.323-5.326-5.323-7.5-1.121C12.277 2.235 7 3.556 7 8.879 7 14.155 14.5 20 14.5 20S22 14.155 22 8.879z'/%3E%3Crect x='55' y='9' width='3' height='6' rx='1.5'/%3E%3Crect x='60' y='6' width='3' height='12' rx='1.5'/%3E%Crect x='65' y='11' width='3' height='2' rx='1.5'/%3E%3Crect x='70' y='8' width='3' height='8' rx='1.5'/%3E%3Crect x='75' y='10' width='3' height='4' rx='1.5'/%3E%3C/g%3E%3C/svg%3E");
  background-size: contain; /* ç¡®ä¿å›¾æ ‡å®Œæ•´æ˜¾ç¤º */
  background-repeat: no-repeat;
  background-position: center;

  /* 4. ï¼ˆå¯é€‰ï¼‰å¾®è°ƒå‚ç›´ä½ç½®ï¼Œè®©å®ƒå’Œå¤´åƒæ›´å¯¹é½ */
  position: relative;
  top: -2px;
}

/* â–²â–²â–² å®šåˆ¶æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºä½ æ–°å¢çš„æ—¥å†å±…ä¸­ä¿®å¤ä»£ç  â–¼â–¼â–¼ */

/* 1. å¼ºåˆ¶è®©æ¯ä¸€å¤©çš„æ ¼å­å†…å®¹éƒ½ä¸è¦æº¢å‡ºï¼Œé¿å…äº’ç›¸å½±å“ */
.ls-calendar-day {
  overflow: hidden;
  text-align: center; /* å†æ¬¡å¼ºè°ƒæ–‡æœ¬å±…ä¸­ï¼Œæ›´ç¨³å®š */
}

/* 2. ã€æ ¸å¿ƒä¿®å¤ã€‘å°†è“åœˆæœ¬èº«ä¹Ÿå˜æˆä¸€ä¸ªflexå±…ä¸­å®¹å™¨ */
/* è¿™èƒ½ç¡®ä¿é‡Œé¢çš„æ•°å­—ï¼Œæ— è®ºå¦‚ä½•éƒ½ä¼šåœ¨åœˆåœˆçš„æ­£ä¸­é—´ */
.ls-calendar-day.today .day-number {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€ç‹¬å®¶å®šåˆ¶ã€‘æƒ…ä¾£ç©ºé—´è¿”å›æŒ‰é’®ç¾åŒ– â–¼â–¼â–¼ */
#ls-header .back-btn {
  /* 1. æ ¸å¿ƒä¿®æ”¹ï¼šå°†ç®­å¤´é¢œè‰²è®¾ä¸ºæ‚¨æƒ³è¦çš„ç™½è‰² */
  color: white;

  /* 2. ç»Ÿä¸€æ ·å¼ï¼šè®©å®ƒå’Œåœˆå­è¿”å›æŒ‰é’®ä¸€æ ·ï¼Œæ‹¥æœ‰40x40pxçš„åœ†å½¢ç‚¹å‡»åŒºåŸŸ */
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s ease;
  cursor: pointer;
}

/* 3. ä¸ºå®ƒæ·»åŠ ä¸å…¶ä»–æŒ‰é’®ç»Ÿä¸€çš„ã€æ¼‚äº®çš„æ‚¬åœæ•ˆæœ */
#ls-header .back-btn:hover {
  background-color: rgba(255, 255, 255, 0.2);
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€V6 æœ€ç»ˆä¿®æ­£ç‰ˆã€‘å¿ƒå£°é¢æ¿ï¼ˆè¾¹æ¡†é—®é¢˜ä¿®å¤ï¼‰ â–¼â–¼â–¼ */

/* 1. åŸºç¡€å¸ƒå±€ (ä¿æŒä¸å˜) */
#inner-voice-modal .modal-body {
  position: relative;
  min-height: 450px;
}
#inner-voice-avatar-wrapper,
#inner-voice-char-name,
#inner-voice-adopter-info {
  position: absolute;
  transition: all 0.3s ease;
}

/* 2. è§’è‰²ä¸»å¤´åƒçš„å®¹å™¨ï¼šåœ¨è¿™é‡Œæ·»åŠ  padding å’Œ background-color */
#inner-voice-avatar-wrapper {
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 65px;
  height: 65px;
  border-radius: 50%;

  /* --- â–¼â–¼â–¼ æ ¸å¿ƒä¿®æ”¹åœ¨è¿™é‡Œ â–¼â–¼â–¼ --- */
  padding: 4px; /* â˜… æ–°å¢ï¼šå‘å†…æŒ¤å‹4åƒç´ ï¼Œä¸ºçº¢çº¿ç•™å‡ºç©ºé—´ã€‚ä½ å¯ä»¥è‡ªå·±è°ƒæ•´è¿™ä¸ªæ•°å€¼ï¼Œæ¯”å¦‚3pxæˆ–5px */
  background-color: #fff; /* â˜… æ–°å¢ï¼šè®©å†…è¾¹è·çš„åŒºåŸŸæ˜¾ç¤ºä¸ºç™½è‰²ï¼Œå½¢æˆä¸€ä¸ªâ€œç™½ç¯â€ */
  box-sizing: border-box; /* â˜… æ–°å¢ï¼šç¡®ä¿paddingä¸ä¼šæŠŠå®¹å™¨æ’‘å¤§ï¼Œè¿™å¾ˆé‡è¦ */
  /* --- â–²â–²â–² ä¿®æ”¹ç»“æŸ â–²â–²â–² --- */

  box-shadow: 0 0 0 1.5px transparent;
  transition: box-shadow 0.2s ease-in-out;
}

/* å½“éœ€è¦æ˜¾ç¤ºè¾¹æ¡†æ—¶ï¼Œæ”¹å˜ box-shadow çš„é¢œè‰² (å·²ä¿®æ”¹ä¸ºç²‰è‰²) */
#inner-voice-avatar-wrapper.has-border {
  box-shadow: 0 0 0 1.5px #ff8fab; /*  <-- å°±æ˜¯ä¿®æ”¹è¿™é‡Œï¼*/
}

/* 4. ç§»é™¤ä¹‹å‰åˆ¶é€ å†²çªçš„ ::after ä¼ªå…ƒç´  (ä¿æŒä¸å˜) */
#inner-voice-avatar-wrapper::after {
  display: none;
}

/* è§’è‰²ä¸»å¤´åƒçš„å›¾ç‰‡æ ·å¼ï¼ˆä¿æŒä¸å˜ï¼‰ */
#inner-voice-avatar-wrapper #inner-voice-avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  border: none;
}

/* å¤´åƒæ¡†çš„æ ·å¼ï¼ˆä¿æŒä¸å˜ï¼‰ */
/* â–¼â–¼â–¼ ã€æœ€ç»ˆå¾®è°ƒç‰ˆã€‘è¯·ç”¨è¿™æ•´å—ä»£ç ï¼Œæ›¿æ¢æ‰æ—§çš„èŠå¤©å’Œå¿ƒå£°å¤´åƒæ¡†è§„åˆ™ â–¼â–¼â–¼ */

.avatar-with-frame .avatar-frame,
#inner-voice-avatar-frame {
  position: absolute;
  width: 110%;
  height: 115%;
  transform: translate(-50%, -56%);
  top: 50%;
  left: 50%;
  z-index: 2;
  pointer-events: none;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* 5. è§’è‰²åå­—å’Œé¢†å…»äººä¿¡æ¯çš„ä½ç½® (ä¿æŒä¸å˜) */
#inner-voice-char-name {
  top: 95px;
  left: 50%;
  transform: translateX(-50%);
  font-weight: 600;
  font-size: 16px;
  color: #333;
  text-align: center;
}
#inner-voice-adopter-info {
  top: 125px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: #666;
}
#inner-voice-adopter-info img {
  width: 24px;
  height: 24px;
  border-radius: 50%;
}

/* 6. å†…å®¹åŒºè·ç¦» (ä¿æŒä¸å˜) */
#inner-voice-content-area {
  margin-top: 165px;
}

/* â–¼â–¼â–¼ ã€å…¨æ–° | CSSå˜é‡ç‰ˆã€‘å¿ƒå£°é¢æ¿å¡ç‰‡å’Œæ ‡ç­¾æ ·å¼ â–¼â–¼â–¼ */

/* è¿™æ˜¯å¿ƒå£°é¢æ¿é‡Œï¼Œæ¯ä¸ªé¡¹ç›®ï¼ˆä¾‹å¦‚â€œæœè£…â€çš„æ•´ä¸ªå¡ç‰‡ï¼‰çš„æ ·å¼ */
#inner-voice-content-area > div {
  /* æ ¸å¿ƒä¿®æ”¹ï¼šæˆ‘ä»¬æŠŠé¢œè‰²å’Œé€æ˜åº¦å˜æˆäº†å¯ä»¥è¢«JSä¿®æ”¹çš„å˜é‡ */
  background-color: rgba(
    var(--iv-card-bg-rgb, 255, 255, 255),
    var(--iv-card-opacity, 0.7)
  );

  border-radius: 16px;
  padding: 15px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  transition: background-color 0.3s; /* æ·»åŠ å¹³æ»‘è¿‡æ¸¡ */
}

/* â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘å¿ƒå£°é¢æ¿æ ‡ç­¾æ ·å¼ â–¼â–¼â–¼ */

/* 1. å…ˆå®šä¹‰æ‰€æœ‰æ ‡ç­¾çš„é€šç”¨æ ·å¼ï¼Œç¡®ä¿å½¢çŠ¶ã€å­—ä½“é¢œè‰²ã€é˜´å½±ç­‰éƒ½ä¿æŒä¸å˜ */
#inner-voice-content-area strong {
  padding: 3px 10px;
  border-radius: 12px;
  color: white !important; /* å¼ºåˆ¶å­—ä½“é¢œè‰²ä¸ºç™½è‰² */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2); /* ä¿æŒæ–‡å­—é˜´å½± */
}

/* 2. ç„¶åï¼Œå†ä¸ºæ¯ä¸ªæ ‡ç­¾å•ç‹¬è®¾ç½®å¯å˜çš„èƒŒæ™¯é¢œè‰² */
#inner-voice-content-area div:nth-of-type(1) strong {
  background-color: var(--iv-color-clothing, #f0a1a8); /* æœè£… */
}
#inner-voice-content-area div:nth-of-type(2) strong {
  background-color: var(--iv-color-behavior, #81c784); /* è¡Œä¸º */
}
#inner-voice-content-area div:nth-of-type(3) strong {
  background-color: var(--iv-color-thoughts, #64b5f6); /* å¿ƒå£° */
}
#inner-voice-content-area div:nth-of-type(4) strong {
  background-color: var(--iv-color-naughty, #ba68c8); /* åå¿ƒæ€ */
}

/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² å®šåˆ¶æ ·å¼ç»“æŸ â–²â–²â–² */

/*
  ã€ç‹¬å®¶å®šåˆ¶ã€‘å•ç‹¬ä¿®æ”¹å¿ƒå£°å¤´åƒæ¡†çš„å¤§å°å’Œä½ç½®
  ä½¿ç”¨è¯´æ˜ï¼š
  1. å°†ä¸‹é¢è¿™æ•´å—ä»£ç ç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ã€‚
  2. ä¿®æ”¹ä¸‹é¢çš„ width, height, top, left çš„æ•°å€¼æ¥è°ƒæ•´å¤´åƒæ¡†ã€‚
*/
#inner-voice-avatar-frame {
  /*
     * æ§åˆ¶å¤§å°ï¼šæ•°å€¼è¶Šå¤§ï¼Œå¤´åƒæ¡†è¶Šå¤§ã€‚
     * ä¾‹å¦‚ï¼š120% (æ¯”åŸæ¥å°), 150% (æ¯”åŸæ¥å¤§)
     */
  width: 100%;
  height: 100%;

  /*
     * æ§åˆ¶ä½ç½®ï¼šä»¥å¤´åƒä¸­å¿ƒä¸ºåŸç‚¹ (50%, 50%) è¿›è¡Œå¾®è°ƒ
     */

  /* æ§åˆ¶ã€ä¸Šä¸‹ã€‘ä½ç½®ï¼šå°äº50%åˆ™ä¸Šç§»ï¼Œå¤§äº50%åˆ™ä¸‹ç§» */
  top: 43%; /* ç¤ºä¾‹ï¼šç¨å¾®å‘ä¸Šç§»åŠ¨äº†ä¸€ç‚¹ */

  /* æ§åˆ¶ã€å·¦å³ã€‘ä½ç½®ï¼šå°äº50%åˆ™å·¦ç§»ï¼Œå¤§äº50%åˆ™å³ç§» */
  left: 50%; /* ç¤ºä¾‹ï¼šä¿æŒæ°´å¹³å±…ä¸­ */

  /* 
      ä»¥ä¸‹ä¸ºä¿æŒå±…ä¸­å’Œæ˜¾ç¤ºæ•ˆæœå¿…é¡»çš„å±æ€§ï¼Œè¯·å‹¿ä¿®æ”¹ 
    */
  position: absolute;
  transform: translate(-50%, -50%);
  z-index: 2;
  pointer-events: none;
}
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯å¾®åšç§ä¿¡åŠŸèƒ½çš„æ‰€æœ‰æ–°æ ·å¼ï¼Œè¯·ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* --- ç§ä¿¡åˆ—è¡¨é¡µé¢ --- */
#weibo-dm-list .dm-list-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
}
#weibo-dm-list .dm-list-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode #weibo-dm-list .dm-list-item:hover {
  background-color: #2c2c2e;
}
#weibo-dm-list .dm-avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  margin-right: 12px;
  object-fit: cover;
}
#weibo-dm-list .dm-info {
  flex-grow: 1;
  overflow: hidden;
}
#weibo-dm-list .dm-name {
  font-weight: 500;
  font-size: 16px;
  margin-bottom: 4px;
}
#weibo-dm-list .dm-last-msg {
  font-size: 13px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* --- ç§ä¿¡è¯¦æƒ…é¡µé¢ --- */
#weibo-dm-messages {
  background-color: #f0f2f5 !important;
}
#phone-screen.dark-mode #weibo-dm-messages {
  background-color: #000000 !important;
}

/* å¤ç”¨ä¸»èŠå¤©ç•Œé¢çš„æ°”æ³¡æ ·å¼ï¼Œä½†ä¸ºç²‰ä¸å’Œè§’è‰²å®šä¹‰ç‰¹å®šå¯¹é½æ–¹å¼ */
#weibo-dm-messages .message-wrapper.fan {
  align-self: flex-start;
}
#weibo-dm-messages .message-wrapper.fan .message-bubble {
  flex-direction: row;
}
#weibo-dm-messages .message-wrapper.fan .content {
  background-color: #ffffff;
  border-radius: 2px 18px 18px 18px;
}

#weibo-dm-messages .message-wrapper.char {
  align-self: flex-end;
}
#weibo-dm-messages .message-wrapper.char .message-bubble {
  flex-direction: row-reverse;
}
#weibo-dm-messages .message-wrapper.char .content {
  background-color: #ff8200; /* å¾®åšæ©™è‰² */
  color: white;
  border-radius: 18px 2px 18px 18px;
}

#phone-screen.dark-mode #weibo-dm-messages .message-wrapper.fan .content {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode #weibo-dm-messages .message-wrapper.char .content {
  background-color: #e67300;
}

/* â˜…â˜…â˜… è¿™æ˜¯ä½ éœ€è¦çš„ã€åˆ é™¤æŒ‰é’®ã€‘çš„æ ·å¼ â˜…â˜…â˜… */
.dm-message-delete-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  background-color: rgba(0, 0, 0, 0.1);
  color: #555;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 16px;
  line-height: 22px;
  text-align: center;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: all 0.2s ease;
}
/* é¼ æ ‡æ‚¬åœåœ¨æ¶ˆæ¯ä¸Šæ—¶æ˜¾ç¤ºæŒ‰é’® */
#weibo-dm-messages .message-wrapper:hover .dm-message-delete-btn {
  opacity: 1;
}
.dm-message-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}
/* è°ƒæ•´æŒ‰é’®ä½ç½®ï¼Œè®©å®ƒå‡ºç°åœ¨æ°”æ³¡æ—è¾¹ */
#weibo-dm-messages .message-wrapper.fan .dm-message-delete-btn {
  right: -28px; /* ä¿®æ”¹ï¼šä» left æ”¹ä¸º rightï¼ŒæŠŠå®ƒæ”¾åˆ°å³è¾¹ */
  left: auto; /* æ–°å¢ï¼šå–æ¶ˆå·¦ä¾§å®šä½ï¼Œç¡®ä¿ right ç”Ÿæ•ˆ */
}
#weibo-dm-messages .message-wrapper.char .dm-message-delete-btn {
  right: -28px;
}
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘èŠå¤©æ€»ç»“åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* æ€»ç»“ç®¡ç†å¼¹çª—å†…çš„åˆ—è¡¨ */
#summary-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* å•æ¡æ€»ç»“å¡ç‰‡ */
.summary-item-card {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 12px;
  border: 1px solid var(--border-color);
  position: relative;
}

#phone-screen.dark-mode .summary-item-card {
  background-color: #2c2c2e;
}

.summary-item-card .summary-content {
  font-size: 14px;
  line-height: 1.6;
  white-space: pre-wrap;
  word-break: break-word;
  max-height: 100px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.summary-item-card .summary-meta {
  font-size: 11px;
  color: var(--text-secondary);
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
}

.summary-item-card .summary-actions {
  position: absolute;
  top: 8px;
  right: 8px;
  display: flex;
  gap: 8px;
}

.summary-item-card .summary-actions button {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 18px;
  color: var(--text-secondary);
  padding: 5px;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* èŠå¤©æ€»ç»“å¼¹çª—åº•éƒ¨æŒ‰é’®çš„ç¾åŒ– */
#summary-viewer-modal .modal-footer button {
  width: auto; /* è®©å®½åº¦è‡ªé€‚åº” */
  margin-top: 0; /* ç§»é™¤é¡¶éƒ¨å¤–è¾¹è· */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- â€œæ¡ƒå®â€App æ•´ä½“å¸ƒå±€ --- */
#taobao-screen {
  background-color: #f0f2f5;
}

/* é¡¶éƒ¨é¡µç­¾ */
.taobao-tabs {
  display: flex;
  flex-shrink: 0;
  border-bottom: 1px solid var(--border-color);
  background-color: var(--secondary-bg);
}
.taobao-tab {
  flex: 1;
  padding: 12px 0;
  text-align: center;
  font-weight: 500;
  color: var(--text-secondary);
  border: none;
  background: none;
  cursor: pointer;
  position: relative;
}
.taobao-tab.active {
  color: #ff5722; /* æ·˜å®æ©™ */
}
.taobao-tab.active::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 3px;
  background-color: #ff5722;
  border-radius: 1.5px;
}

/* å†…å®¹åŒºåŸŸ */
.taobao-content {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
.taobao-view {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  display: none;
  padding: 15px;
  box-sizing: border-box;
}
.taobao-view.active {
  display: block;
}

/* --- é¦–é¡µ/å•†å“è§†å›¾ --- */
#product-category-tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  overflow-x: auto;
  padding-bottom: 5px; /* for scrollbar */
  scrollbar-width: none;
  -ms-overflow-style: none;
}
#product-category-tabs::-webkit-scrollbar {
  display: none;
}

#product-category-tabs .category-tab-btn {
  padding: 6px 12px;
  border-radius: 15px;
  border: 1px solid var(--border-color);
  background-color: var(--secondary-bg);
  white-space: nowrap;
  cursor: pointer;
}
#product-category-tabs .category-tab-btn.active {
  background-color: #ffefe9;
  color: #ff5722;
  border-color: #ff5722;
}

.product-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.product-card {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.08);
  cursor: pointer;
}
.product-card .product-image {
  width: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  background-color: #f0f2f5;
}
.product-card .product-info {
  padding: 8px;
}
.product-card .product-name {
  font-size: 14px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 2.8em; /* ä¿è¯ä¸¤è¡Œçš„é«˜åº¦ */
}
.product-card .product-price {
  font-size: 16px;
  font-weight: bold;
  color: #ff5722;
  margin-top: 5px;
}
.product-card .product-price::before {
  content: "Â¥";
  font-size: 12px;
  margin-right: 2px;
}

/* --- æˆ‘çš„/ä½™é¢è§†å›¾ --- */
#user-balance-container {
  background: linear-gradient(135deg, #ff9a8b 0%, #ff6a88 100%);
  color: white;
  padding: 30px 20px;
  border-radius: 12px;
  text-align: center;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}
#user-balance-container h2 {
  font-size: 40px;
  margin: 10px 0 20px 0;
}
#top-up-btn {
  background-color: rgba(255, 255, 255, 0.9);
  color: #ff5722;
}

/* --- è®¢å•/ç‰©æµè§†å›¾ --- */
.order-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
.order-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  display: flex;
  gap: 12px;
}
.order-item .product-image {
  width: 70px;
  height: 70px;
  border-radius: 6px;
  flex-shrink: 0;
}
.order-item .order-info {
  flex-grow: 1;
}
.order-item .product-name {
  font-weight: 500;
}
.order-item .order-status {
  font-size: 13px;
  color: #28a745;
  margin-top: 8px;
  font-weight: 500;
}
.order-item .order-time {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px;
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- â€œæ¡ƒå®â€App æœç´¢æ æ ·å¼ --- */
.taobao-search-bar {
  display: flex;
  gap: 10px;
  padding: 0 0 15px 0; /* åªåœ¨ä¸‹æ–¹ç•™å‡ºé—´è· */
}

#product-search-input {
  flex-grow: 1;
  border: 1px solid #ff5722;
  padding: 10px 15px;
  border-radius: 20px;
  font-size: 14px;
  outline: none;
}

#product-search-btn {
  background-color: #ff5722;
  color: white;
  border: none;
  border-radius: 20px;
  padding: 0 20px;
  font-weight: 500;
  cursor: pointer;
}

/* --- AIç”Ÿæˆç»“æœå¼¹çª—å†…çš„æ ·å¼ --- */
#ai-product-results-grid .product-card {
  position: relative; /* ä¸ºäº†å®šä½â€œæ·»åŠ â€æŒ‰é’® */
  padding-bottom: 40px; /* ä¸ºæŒ‰é’®ç•™å‡ºç©ºé—´ */
  cursor: default; /* åœ¨å¼¹çª—é‡Œï¼Œå¡ç‰‡æœ¬èº«ä¸å¯ç‚¹å‡» */
}

.add-to-my-page-btn {
  position: absolute;
  bottom: 8px;
  left: 8px;
  right: 8px;
  width: calc(100% - 16px);
  padding: 8px 0;
  background-color: #4caf50; /* ç»¿è‰²ï¼Œä»£è¡¨æ·»åŠ  */
  color: white;
  border: none;
  border-radius: 6px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}

.add-to-my-page-btn:hover {
  background-color: #45a049;
}

.add-to-my-page-btn:disabled {
  background-color: #cccccc;
  cursor: not-allowed;
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- è´­ç‰©è½¦é¡µç­¾ä¸Šçš„å°çº¢ç‚¹ --- */
.taobao-tab {
  position: relative;
}
#cart-item-count-badge {
  position: absolute;
  top: 5px;
  right: 15px;
  min-width: 18px;
  height: 18px;
  padding: 0 5px;
  background-color: #ff5722;
  color: white;
  font-size: 11px;
  border-radius: 9px;
  line-height: 18px;
}

/* --- å•†å“å¡ç‰‡ä¸Šçš„â€œåŠ å…¥è´­ç‰©è½¦â€æŒ‰é’® --- */
.product-card .add-cart-btn {
  position: absolute;
  bottom: 5px;
  right: 5px;
  width: 28px;
  height: 28px;
  background-color: #ff5722;
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 18px;
  line-height: 28px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s;
}
.product-card .add-cart-btn:active {
  transform: scale(0.9);
}

/* --- è´­ç‰©è½¦åˆ—è¡¨ --- */
#cart-item-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding-bottom: 70px; /* ä¸ºåº•éƒ¨çš„ç»“ç®—æ ç•™å‡ºç©ºé—´ */
}
.cart-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
}
.cart-item .product-image {
  width: 80px;
  height: 80px;
  border-radius: 6px;
  flex-shrink: 0;
  cursor: pointer; /* è®©å›¾ç‰‡å¯ç‚¹å‡» */
}
.cart-item .cart-item-info {
  flex-grow: 1;
  cursor: pointer; /* è®©ä¿¡æ¯åŒºä¹Ÿå¯ç‚¹å‡» */
}
.cart-item .product-name {
  font-weight: 500;
}
.cart-item .product-price {
  color: #ff5722;
  font-weight: bold;
  margin-top: 8px;
}
.cart-item .quantity-controls {
  display: flex;
  align-items: center;
  gap: 8px;
}
.cart-item .quantity-controls button {
  width: 24px;
  height: 24px;
  border: 1px solid #ccc;
  background-color: #f0f0f0;
  border-radius: 50%;
  cursor: pointer;
}
.cart-item .delete-cart-item-btn {
  width: 30px;
  height: 30px;
  border: none;
  background: none;
  color: #999;
  font-size: 24px;
  cursor: pointer;
  flex-shrink: 0;
}

/* --- è´­ç‰©è½¦ç»“ç®—æ  --- */
#cart-checkout-bar {
  position: fixed; /* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ï¼šä» absolute æ”¹ä¸º fixed â˜…â˜…â˜… */
  bottom: 0;
  left: 0;
  right: 0; /* (æ¨è) é…åˆ left:0 è‡ªåŠ¨æ’‘æ»¡å®½åº¦ï¼Œæ›´ç¨³å¦¥ */
  /* width: 100%; (å¯ä»¥ä¿ç•™æˆ–åˆ é™¤) */
  z-index: 10; /* (æ¨è) ç¡®ä¿å®ƒå§‹ç»ˆåœ¨æœ€ä¸Šå±‚ */
  padding: 10px 15px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background-color: var(--secondary-bg);
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-sizing: border-box;
}

#cart-checkout-bar .total-price {
  font-weight: bold;
}
#cart-checkout-bar #cart-total-price {
  color: #ff5722;
  font-size: 18px;
}
#cart-checkout-bar #checkout-btn {
  background-color: #ff5722;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-weight: 500;
  cursor: pointer;
}

/* --- å•†å“è¯¦æƒ…å¼¹çª— --- */
#product-detail-body {
  text-align: center;
}
#product-detail-body .product-image {
  width: 80%;
  max-width: 250px;
  border-radius: 8px;
  margin-bottom: 15px;
}
#product-detail-body .product-name {
  font-size: 18px;
  font-weight: 600;
  margin-bottom: 10px;
}
#product-detail-body .product-price {
  font-size: 24px;
  font-weight: bold;
  color: #ff5722;
  margin-bottom: 20px;
}
#product-detail-body .product-price::before {
  content: "Â¥";
  font-size: 16px;
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- å•†å“è¯¦æƒ…å¼¹çª— - è¯„ä»·åŒº --- */
#product-reviews-section {
  padding: 0 15px 15px 15px; /* å’Œä¸»ä½“å†…å®¹ä¿æŒä¸€è‡´çš„å†…è¾¹è· */
  border-top: 1px solid var(--border-color);
  margin-top: 15px;
}
#product-reviews-section h3 {
  font-size: 16px;
  margin: 15px 0;
}
#product-reviews-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
  max-height: 150px; /* ç»™ä¸€ä¸ªæœ€å¤§é«˜åº¦ï¼Œå†…å®¹å¤šäº†å¯ä»¥æ»šåŠ¨ */
  overflow-y: auto;
  margin-bottom: 15px;
}
.product-review-item {
  font-size: 14px;
  line-height: 1.6;
  border-bottom: 1px solid #f0f0f0;
  padding-bottom: 10px;
}
.product-review-item .review-author {
  font-weight: 500;
  color: var(--text-secondary);
  margin-bottom: 5px;
}
#generate-reviews-btn {
  width: 100%;
  margin-top: 10px;
  background-color: #fff7e6;
  color: #fa8c16;
  border-color: #ffd591;
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> æ ‡ç­¾çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- ä½™é¢æ˜ç»†åˆ—è¡¨æ ·å¼ --- */
.transaction-item {
  background-color: var(--secondary-bg);
  border-radius: 8px;
  padding: 12px 15px;
  margin-bottom: 10px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.transaction-info .description {
  font-weight: 500;
}
.transaction-info .timestamp {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px;
}
.transaction-amount {
  font-weight: bold;
  font-size: 16px;
}
.transaction-amount.income {
  color: #4caf50; /* æ”¶å…¥ä¸ºç»¿è‰² */
}
.transaction-amount.expense {
  color: #f44336; /* æ”¯å‡ºä¸ºçº¢è‰² */
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºç‰©æµè¯¦æƒ…é¡µæ–°å¢çš„æ ·å¼ï¼Œè¯·ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

#logistics-content-area {
  padding: 20px;
  background-color: #f5f5f5;
}

#phone-screen.dark-mode #logistics-content-area {
  background-color: #121212;
}

/* é¡¶éƒ¨å•†å“ä¿¡æ¯å¡ç‰‡ */
.logistics-product-summary {
  display: flex;
  gap: 15px;
  padding: 15px;
  margin-bottom: 20px;
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.08);
}

.logistics-product-summary .product-image {
  width: 60px;
  height: 60px;
  border-radius: 8px;
  flex-shrink: 0;
}

.logistics-product-summary .info .name {
  font-weight: 600;
  font-size: 15px;
}

.logistics-product-summary .info .status {
  font-size: 13px;
  color: #ff5722; /* æ·˜å®æ©™ */
  margin-top: 5px;
  font-weight: 500;
}

/* æ—¶é—´è½´å®¹å™¨ */
.logistics-timeline {
  position: relative;
  padding-left: 25px; /* ä¸ºæ—¶é—´è½´çš„ç«–çº¿å’Œåœ†ç‚¹ç•™å‡ºç©ºé—´ */
  background-color: var(--secondary-bg);
  padding: 20px 20px 20px 30px;
  border-radius: 12px;
}

/* æ—¶é—´è½´çš„ç«–çº¿ */
.logistics-timeline::before {
  content: "";
  position: absolute;
  left: 15px;
  top: 20px;
  bottom: 20px;
  width: 2px;
  background-color: #e0e0e0;
}

#phone-screen.dark-mode .logistics-timeline::before {
  background-color: #38383a;
}

/* æ¯ä¸€ä¸ªç‰©æµæ­¥éª¤ */
.logistics-step {
  position: relative;
  margin-bottom: 25px;
}

.logistics-step:last-child {
  margin-bottom: 0;
}

/* æ—¶é—´è½´ä¸Šçš„åœ†ç‚¹ */
.logistics-step::before {
  content: "";
  position: absolute;
  left: -22px;
  top: 5px;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: #ccc;
  border: 2px solid var(--secondary-bg);
  z-index: 1;
}

/* æœ€æ–°çš„ä¸€æ¡ç‰©æµçŠ¶æ€ï¼Œè®©å®ƒçš„åœ†ç‚¹æ›´çªå‡º */
.logistics-step:first-child::before {
  background-color: #ff5722;
  transform: scale(1.3);
}

.logistics-step-content .status-text {
  font-weight: 500;
  font-size: 14px;
  margin-bottom: 5px;
  line-height: 1.5;
}

.logistics-step-content .timestamp {
  font-size: 12px;
  color: var(--text-secondary);
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºâ€œåˆ†äº«ç»™Taä»£ä»˜â€æŒ‰é’®æ–°å¢çš„æ ·å¼ â–¼â–¼â–¼ */
#share-cart-to-char-btn {
  background-color: #ff9800; /* ä½¿ç”¨ä¸€ä¸ªæ¸©æš–çš„æ©™è‰²ï¼ŒåŒºåˆ«äºç»“ç®—æŒ‰é’® */
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s; /* æ·»åŠ æ‚¬åœæ•ˆæœ */
}
#share-cart-to-char-btn:hover {
  background-color: #f57c00;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºâ€œè´­ç‰©è½¦ä»£ä»˜è¯·æ±‚â€æ–°å¢çš„å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */

/* 1. è®©åŒ…è£¹å¡ç‰‡çš„æ°”æ³¡æœ¬èº«å˜é€æ˜ */
.message-bubble.is-cart-share-request .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* 2. å¡ç‰‡ä¸»ä½“æ ·å¼ */
.cart-share-card {
  width: 230px;
  border-radius: 12px;
  background-color: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  border: 2px solid transparent; /* ä¸ºä¸åŒçŠ¶æ€å‡†å¤‡çš„è¾¹æ¡† */
  transition: all 0.3s ease;
}

/* 3. å¡ç‰‡å¤´éƒ¨ */
.cart-share-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 15px;
  background-color: #fff8e1; /* æ¸©æš–çš„ç±³é»„è‰² */
  color: #ffa000;
}
.cart-share-header .icon {
  font-size: 24px;
  font-weight: bold;
}
.cart-share-header .title {
  font-size: 16px;
  font-weight: 600;
}

/* 4. å¡ç‰‡å†…å®¹åŒºåŸŸ */
.cart-share-body {
  padding: 15px;
  text-align: center;
}
.cart-share-body .label {
  font-size: 13px;
  color: #888;
}
.cart-share-body .amount {
  font-size: 32px;
  font-weight: 700;
  color: #ff5722; /* æ·˜å®æ©™ */
  margin: 5px 0 15px 0;
}
.cart-share-body .status-text {
  font-weight: 500;
  color: var(--accent-color);
}

/* 5. ä¸åŒçŠ¶æ€ä¸‹çš„æ ·å¼ */
.cart-share-card.paid {
  border-color: #4caf50; /* ç»¿è‰² */
}
.cart-share-card.paid .status-text {
  color: #4caf50;
}
.cart-share-card.rejected {
  border-color: #f44336; /* çº¢è‰² */
  opacity: 0.8;
}
.cart-share-card.rejected .status-text {
  color: #f44336;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºâ€œä¸ºTaè´­ä¹°â€å’Œç¤¼ç‰©é€šçŸ¥å¡ç‰‡æ–°å¢çš„æ ·å¼ â–¼â–¼â–¼ */

/* 1. â€œä¸ºTaè´­ä¹°â€æŒ‰é’®çš„æ ·å¼ */
#buy-for-char-btn {
  background-color: #4caf50; /* ä½¿ç”¨ä¸€ä¸ªä»£è¡¨â€œç¤¼ç‰©â€çš„ç»¿è‰² */
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s;
}
#buy-for-char-btn:hover {
  background-color: #45a049;
}

/* 2. è®©åŒ…è£¹ç¤¼ç‰©å¡ç‰‡çš„æ°”æ³¡å˜é€æ˜ */
.message-bubble.is-gift-notification .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* 3. ç¤¼ç‰©é€šçŸ¥å¡ç‰‡ä¸»ä½“æ ·å¼ */
.gift-card {
  width: 230px;
  border-radius: 12px;
  background-color: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}
.gift-card-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 15px;
  background-color: #e8f5e9; /*æ·¡æ·¡çš„ç»¿è‰²èƒŒæ™¯*/
  color: #2e7d32;
}
.gift-card-header .icon {
  font-size: 24px;
  font-weight: bold;
}
.gift-card-header .title {
  font-size: 16px;
  font-weight: 600;
}
.gift-card-body {
  padding: 15px;
}
.gift-card-body .greeting {
  font-size: 14px;
  margin-bottom: 10px;
}
.gift-card-items {
  font-size: 13px;
  color: #555;
  max-height: 60px;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 10px;
}
.gift-card-footer {
  padding-top: 10px;
  border-top: 1px solid #f0f0f0;
  text-align: right;
  font-weight: bold;
}
.gift-card-footer .total-price {
  color: #ff5722;
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* 1. è®©è§’è‰²ä¸»é¡µçš„å†…å®¹åŒºå¯ä»¥ç‹¬ç«‹æ»šåŠ¨ */
#weibo-char-profile-page {
  flex-grow: 1;
  overflow-y: auto;
  background-color: #f0f2f5;
}

/* 2. ä¿®æ­£å¤œé—´æ¨¡å¼ä¸‹ä¸»é¡µå’Œæ–°é¡µé¢çš„èƒŒæ™¯è‰² */
#phone-screen.dark-mode #weibo-profile-page,
#phone-screen.dark-mode #weibo-char-profile-page {
  background-color: #000;
}

/* 3. ä¸ºè§’è‰²ä¸»é¡µä¸Šçš„èŒä¸šæ˜¾ç¤ºæ·»åŠ æ ·å¼ (å·²ä¿®æ”¹) */
#weibo-char-profession-display {
  position: absolute;
  /* å®šä½ï¼šä»å³ä¾§æ ‡ç­¾æ”¹ä¸ºä¸â€œå…³æ³¨â€æ•°æ®å·¦å¯¹é½ */
  left: 35px;
  /* å‚ç›´ä½ç½®ï¼šæ”¾åœ¨â€œå…³æ³¨â€æ•°æ®è¡Œçš„ä¸‹æ–¹ï¼Œ-5pxä¼šè®©å®ƒæ›´é ä¸‹ä¸€ç‚¹ */
  bottom: -5px;
  right: auto; /* æ¸…é™¤æ‰æ—§çš„ right å®šä½ï¼Œé¿å…å†²çª */
  z-index: 2;

  /* å¤–è§‚ï¼šä»åŠé€æ˜æ ‡ç­¾æ”¹ä¸ºå’Œä½ ä¸»é¡µä¸€è‡´çš„ç°è‰²æ™®é€šæ–‡å­— */
  font-size: 13px;
  color: #8a8a8a;
  text-shadow: none;
  background-color: transparent;
  padding: 0;
  border-radius: 0;
}

/* 4. ç»™å…³æ³¨åˆ—è¡¨çš„â€œæŸ¥çœ‹ä¸»é¡µâ€æŒ‰é’®æ·»åŠ æ ·å¼ */
.weibo-following-item .view-profile-btn {
  margin-left: auto; /* è®©æŒ‰é’®è‡ªåŠ¨é å³ */
  padding: 5px 10px;
  font-size: 13px;
  font-weight: 500;
  color: var(--accent-color);
  background-color: #e7f3ff;
  border: none;
  border-radius: 12px;
  cursor: pointer;
}
#phone-screen.dark-mode .weibo-following-item .view-profile-btn {
  background-color: rgba(0, 123, 255, 0.2);
}

/* â–²â–²â–² æ–°å¢CSSç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å±‚çº§ä¿®å¤ã€‘è¯·å°†è¿™æ®µæ–°CSSç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* å¼ºåˆ¶æå‡å¤´åƒæ¡†é€‰æ‹©å¼¹çª—çš„å±‚çº§ï¼Œç¡®ä¿å®ƒèƒ½è¦†ç›–åœ¨å…¶ä»–å¼¹çª—ä¹‹ä¸Š */
#avatar-frame-modal {
  z-index: 1005;
}

/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯æ–°å¢çš„æ ·å¼ â–¼â–¼â–¼ */

/* è¿™æ˜¯æˆ‘ä»¬æ–°åŠ çš„ã€åŒ…è£¹å¤´åƒçš„å¯ç‚¹å‡»åŒºåŸŸçš„æ ·å¼ */
.weibo-post-avatar-clickable {
  cursor: pointer; /* é¼ æ ‡æ”¾ä¸Šå»æ—¶æ˜¾ç¤ºä¸ºå°æ‰‹å½¢çŠ¶ */
  transition: opacity 0.2s ease-in-out; /* æ·»åŠ ä¸€ä¸ªå¹³æ»‘çš„è¿‡æ¸¡åŠ¨ç”» */
}

/* é¼ æ ‡æ‚¬åœæ—¶ï¼Œè®©å¤´åƒç¨å¾®å˜æš—ä¸€ç‚¹ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªæ˜ç¡®çš„åé¦ˆ */
.weibo-post-avatar-clickable:hover {
  opacity: 0.85;
}

/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¯­éŸ³æ’­æ”¾åŠ¨ç”»æ ·å¼ â–¼â–¼â–¼ */
.message-bubble.is-voice-message.playing .voice-waveform div {
  animation: wave-play 1s ease-in-out infinite;
}

@keyframes wave-play {
  0%,
  100% {
    height: 2px;
  }
  25% {
    height: 12px;
  }
  50% {
    height: 6px;
  }
  75% {
    height: 18px;
  }
}
/* â–²â–²â–² æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */

/* ============ â€œæŸ¥æ‰‹æœºâ€åŠŸèƒ½ç¾åŒ–ä»£ç  v2.0 (æ”¯æŒè‡ªå®šä¹‰å›¾ç‰‡) å¼€å§‹ ============ */

/* --- æ­¥éª¤1: ç¼©å°å›¾æ ‡å°ºå¯¸ (ä¿æŒä¸å˜) --- */
#character-app-grid .app-icon .icon-bg {
  width: 50px !important;
  height: 50px !important;
  border-radius: 13px !important;
}
#character-app-grid .app-icon .label {
  font-size: 12px;
}

/* --- æ­¥éª¤2: å°†å®¹å™¨æ”¹ä¸ºè‡ªç”±å®šä½çš„â€œæ¡Œé¢â€å¸ƒå±€ (ä¿æŒä¸å˜) --- */
#character-app-grid {
  display: block !important;
  grid-template-columns: none !important;
  gap: 0 !important;
  position: relative !important;
  height: 100% !important;
}

/* --- æ­¥éª¤3: è®©æ‰€æœ‰Appå›¾æ ‡â€œæµ®â€èµ·æ¥ (ä¿æŒä¸å˜) --- */
#character-app-grid .app-icon {
  position: absolute !important;
}

/* --- æ­¥éª¤4: ã€æ ¸å¿ƒä¿®æ”¹ã€‘ä¸ºæˆ‘ä»¬æ–°çš„å›¾ç‰‡ä½è®¾ç½®æ ·å¼ --- */
.char-phone-widget {
  position: absolute;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* åŠ ä¸ªé˜´å½±æ›´å¥½çœ‹ */
  border: 2px solid rgba(255, 255, 255, 0.5); /* åŠ ä¸ªç™½è¾¹æ›´æœ‰è´¨æ„Ÿ */
  overflow: hidden; /* é˜²æ­¢å›¾ç‰‡æº¢å‡ºåœ†è§’ */
  cursor: pointer; /* é¼ æ ‡æ”¾ä¸Šå»æ˜¯å°æ‰‹å½¢çŠ¶ï¼Œæç¤ºå¯ä»¥ç‚¹å‡» */
  transition: transform 0.2s ease; /* æ·»åŠ ç‚¹å‡»åŠ¨æ•ˆ */
  background-color: #e0e0e0; /* å›¾ç‰‡åŠ è½½å‰çš„å ä½é¢œè‰² */
}
.char-phone-widget:active {
  transform: scale(0.95); /* ç‚¹å‡»æ—¶ç¼©å°ä¸€ç‚¹ç‚¹ */
}
.char-phone-widget img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* ä¿è¯å›¾ç‰‡å¡«æ»¡ä¸”ä¸å˜å½¢ */
}

/* ============================================== */
/* === â˜…â˜…â˜… æ‰‹åŠ¨ç²¾è°ƒåŒºï¼šåœ¨è¿™é‡Œä¿®æ”¹ä½ç½®å’Œå¤§å° â˜…â˜…â˜… === */
/* ============================================== */

/* --- å·¦ä¸Šè§’çš„å›¾ç‰‡ä½ --- */
#char-phone-widget-1 {
  /* --- åœ¨è¿™é‡Œè°ƒæ•´ã€ä¸Šä¸‹ä½ç½®ã€‘(æ•°å­—è¶Šå¤§è¶Šå¾€ä¸‹)--- */
  top: 60px;
  /* --- åœ¨è¿™é‡Œè°ƒæ•´ã€å·¦å³ä½ç½®ã€‘(æ•°å­—è¶Šå¤§è¶Šå¾€å³)--- */
  left: 20px;
  /* --- åœ¨è¿™é‡Œè°ƒæ•´ã€å¤§å°ã€‘--- */
  width: 110px;
  height: 110px;
  border-radius: 22px; /* åœ†è§’ (å»ºè®®æ˜¯å®½åº¦çš„1/5å·¦å³) */
}

/* --- å³ä¸‹è§’çš„å›¾ç‰‡ä½ --- */
#char-phone-widget-2 {
  /* --- åœ¨è¿™é‡Œè°ƒæ•´ã€ä¸Šä¸‹ä½ç½®ã€‘(æ•°å­—è¶Šå¤§è¶Šå¾€ä¸Š)--- */
  bottom: 60px;
  /* --- åœ¨è¿™é‡Œè°ƒæ•´ã€å·¦å³ä½ç½®ã€‘(æ•°å­—è¶Šå¤§è¶Šå¾€å·¦)--- */
  right: 20px;
  /* --- åœ¨è¿™é‡Œè°ƒæ•´ã€å¤§å°ã€‘--- */
  width: 110px;
  height: 110px;
  border-radius: 22px; /* åœ†è§’ */
}

/* --- APP å›¾æ ‡ä½ç½®è°ƒæ•´ (è¿™éƒ¨åˆ†ä¿æŒä¸å˜) --- */
#character-app-grid .app-icon:nth-child(1) {
  top: 70px;
  left: 150px;
}
#character-app-grid .app-icon:nth-child(2) {
  top: 70px;
  left: 215px;
}
#character-app-grid .app-icon:nth-child(3) {
  top: 155px;
  left: 30px;
}
#character-app-grid .app-icon:nth-child(4) {
  top: 155px;
  left: 95px;
}
#character-app-grid .app-icon:nth-child(5) {
  top: 155px;
  left: 160px;
}
#character-app-grid .app-icon:nth-child(6) {
  top: 240px;
  left: 225px;
}
#character-app-grid .app-icon:nth-child(7) {
  top: 240px;
  left: 30px;
}
#character-app-grid .app-icon:nth-child(8) {
  top: 240px;
  left: 95px;
}
#character-app-grid .app-icon:nth-child(9) {
  top: 325px;
  left: 30px;
}
#character-app-grid .app-icon:nth-child(10) {
  top: 325px;
  left: 95px;
}

/* ============ â€œæŸ¥æ‰‹æœºâ€åŠŸèƒ½ç¾åŒ–ä»£ç  ç»“æŸ ============ */

/* â–¼â–¼â–¼ ã€æœ€ç»ˆä¿®å¤ç‰ˆã€‘åªä¸ºâ€œå¾®åšâ€å’Œâ€œç²‰ä¸â€å¢åŠ ç‚¹å‡»åŒºåŸŸ â–¼â–¼â–¼ */

/*
 * æ ¸å¿ƒåŸç†ä¸å˜ï¼Œä½†è¿™æ¬¡æˆ‘ä»¬ä½¿ç”¨äº†æ›´ç²¾ç¡®çš„ ID é€‰æ‹©å™¨ï¼Œ
 * åªé€‰ä¸­ #weibo-posts-item (å¾®åš) å’Œ #weibo-fans-item (ç²‰ä¸) è¿™ä¸¤ä¸ªå…ƒç´ ã€‚
 */
#weibo-posts-item,
#weibo-fans-item {
  padding: 8px 10px;
  margin: -8px -10px;
  border-radius: 8px;
  transition: background-color 0.2s;
}

/* ä¸ºè¿™ä¸¤ä¸ªæŒ‰é’®æ·»åŠ ç‚¹å‡»æ—¶çš„èƒŒæ™¯è‰²åé¦ˆ */
#weibo-posts-item:active,
#weibo-fans-item:active {
  background-color: rgba(0, 0, 0, 0.08); /* ç‚¹å‡»æ—¶ç»™ä¸€ä¸ªæ·¡æ·¡çš„ç°è‰²èƒŒæ™¯ */
}

/* åœ¨å¤œé—´æ¨¡å¼ä¸‹çš„ç‚¹å‡»åé¦ˆé¢œè‰² */
#phone-screen.dark-mode #weibo-posts-item:active,
#phone-screen.dark-mode #weibo-fans-item:active {
  background-color: rgba(255, 255, 255, 0.1);
}
/* â–²â–²â–² æœ€ç»ˆä¿®å¤ç‰ˆæ ·å¼ç»“æŸ â–²â–²â–² */

/* ======================================================================= /
/ === â˜…â˜…â˜… è§’è‰²æ‰‹æœºæ¡Œé¢ç¾åŒ–å¸ƒå±€ v16.0 (å‚ç›´å±…ä¸­åç§»ç‰ˆ) â˜…â˜…â˜… === /
/ ======================================================================= */

/* --- 1. æ€»æ§åˆ¶å° & å¸ƒå±€å˜é‡ --- */
#character-phone-screen {
  position: relative !important;

  /* --- â˜…â˜…â˜… å”¯ä¸€çš„ã€å‚ç›´ä½ç½®ã€‘æ€»æ§åˆ¶å™¨ â˜…â˜…â˜… --- */
  /* è°ƒæ•´è¿™ä¸ªå€¼ï¼Œå°±èƒ½è®©æ‰€æœ‰å›¾æ ‡å’Œå°ç»„ä»¶ä¸€èµ·ä¸Šä¸‹ç§»åŠ¨ */
  /* å¢åŠ æ•°å€¼ = æ•´ä½“ä¸‹ç§»ï¼›å‡å°æ•°å€¼ = æ•´ä½“ä¸Šç§» */
  /* æˆ‘å¸®ä½ è®¾ç½®äº†ä¸€ä¸ªçœ‹èµ·æ¥æ¯”è¾ƒå±…ä¸­çš„åˆå§‹å€¼ */
  --global-vertical-offset: 10px;

  /* (æ°´å¹³å±…ä¸­éƒ¨åˆ†ï¼Œä¿æŒä¸å˜) */
  --grid-width: 345px;
  --grid-left-edge: calc((100% - var(--grid-width)) / 2);
}

/* --- 2. å‡†å¤‡å·¥ä½œ (ä¿æŒä¸å˜) --- */
#character-app-grid {
  position: absolute !important;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block !important;
  grid-template-columns: none !important;
  gap: 0 !important;
}
#character-app-grid .app-icon,
#char-phone-widget-1,
#char-phone-widget-2 {
  position: absolute !important;
}

/* --- 3. Appå›¾æ ‡æ ·å¼ (ä¿æŒä¸å˜) --- */
#character-app-grid .app-icon .icon-bg {
  width: 40px !important;
  height: 40px !important;
  background: transparent !important;
  box-shadow: none !important;
  border: none !important;
}
#character-app-grid .app-icon .label {
  font-size: 12px;
  color: #fff;
  padding-top: 8px;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

/* --- 4. å°ç»„ä»¶ä½ç½®å’Œå°ºå¯¸ (â˜…æ ¸å¿ƒä¿®æ”¹: åº”ç”¨å…¨å±€åç§») --- */
#char-phone-widget-1 {
  top: calc(var(--global-vertical-offset) + 90px); /* 90px æ˜¯ä½ å›ºå®šçš„å€¼ */
  left: calc(var(--grid-left-edge) + 30px);
  width: 135px;
  height: 135px;
  border-radius: 22px;
}
#char-phone-widget-2 {
  top: calc(var(--global-vertical-offset) + 480px); /* 480px æ˜¯ä½ å›ºå®šçš„å€¼ */
  left: calc(var(--grid-left-edge) + 180px);
  width: 135px;
  height: 135px;
  border-radius: 22px;
}

/* --- 5. Appå›¾æ ‡ä½ç½® (â˜…æ ¸å¿ƒä¿®æ”¹: åº”ç”¨å…¨å±€åç§») --- */
/* ç¬¬1è¡Œ */
#character-app-grid .app-icon:nth-child(1) {
  top: calc(var(--global-vertical-offset) + 155px);
  left: calc(var(--grid-left-edge) + 185px);
}
#character-app-grid .app-icon:nth-child(2) {
  top: calc(var(--global-vertical-offset) + 155px);
  left: calc(var(--grid-left-edge) + 250px);
}
/* ç¬¬2è¡Œ */
#character-app-grid .app-icon:nth-child(3) {
  top: calc(var(--global-vertical-offset) + 270px);
  left: calc(var(--grid-left-edge) + 30px);
}
#character-app-grid .app-icon:nth-child(4) {
  top: calc(var(--global-vertical-offset) + 270px);
  left: calc(var(--grid-left-edge) + 105px);
}
#character-app-grid .app-icon:nth-child(5) {
  top: calc(var(--global-vertical-offset) + 270px);
  left: calc(var(--grid-left-edge) + 180px);
}
/* ç¬¬3è¡Œ */
#character-app-grid .app-icon:nth-child(6) {
  top: calc(var(--global-vertical-offset) + 375px);
  left: calc(var(--grid-left-edge) + 105px);
}
#character-app-grid .app-icon:nth-child(7) {
  top: calc(var(--global-vertical-offset) + 375px);
  left: calc(var(--grid-left-edge) + 185px);
}
#character-app-grid .app-icon:nth-child(8) {
  top: calc(var(--global-vertical-offset) + 375px);
  left: calc(var(--grid-left-edge) + 250px);
}
/* ç¬¬4è¡Œ */
#character-app-grid .app-icon:nth-child(9) {
  top: calc(var(--global-vertical-offset) + 480px);
  left: calc(var(--grid-left-edge) + 30px);
}
#character-app-grid .app-icon:nth-child(10) {
  top: calc(var(--global-vertical-offset) + 480px);
  left: calc(var(--grid-left-edge) + 105px);
}

/* â–¼â–¼â–¼ ã€æŸ¥æ‰‹æœºåŠŸèƒ½ | å›¾æ ‡å¯¹é½ç»ˆæä¿®å¤ V4ã€‘ â–¼â–¼â–¼ */
/*
 * è§£å†³æ–¹æ¡ˆï¼š
 * 1. (ä¿ç•™) ä½¿ç”¨è´Ÿå¤–è¾¹è·ï¼Œå°†åº”ç”¨å(.label)å‘ä¸Šæ‹‰ï¼Œä½¿å…¶ç´§è´´å›¾æ ‡ã€‚
 * 2. (æ–°å¢) å¯¹åŒ…å«é»˜è®¤SVGå›¾æ ‡çš„æ•´ä¸ª.app-iconå…ƒç´ ï¼Œä¹Ÿä½¿ç”¨ä¸€ä¸ªè´Ÿçš„margin-topï¼Œ
 *    ä½¿å…¶æ•´ä½“å‘ä¸Šç§»åŠ¨ï¼Œä»è€Œå’Œå…¶ä»–è‡ªå®šä¹‰å›¾æ ‡åœ¨å‚ç›´æ–¹å‘ä¸Šå®Œç¾å¯¹é½ã€‚
 */

/* æ­¥éª¤1ï¼šè®©æ–‡å­—ç´§è´´å›¾æ ‡ (è¿™æ˜¯ä¸Šæ¬¡çš„æˆåŠŸä¿®å¤ï¼Œæˆ‘ä»¬ä¿ç•™å®ƒ) */
#character-app-grid .app-icon:has(.icon-bg > svg) .label {
  margin-top: -7px !important;
  padding-top: 0px !important;
}

/* æ­¥éª¤2ï¼šè®©å›¾æ ‡å’Œæ–‡å­—ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œå‘ä¸Šç§»åŠ¨ */
#character-app-grid .app-icon:has(.icon-bg > svg) {
  margin-top: -8px; /* è¿™ä¸ªè´Ÿå€¼ä¼šæŠŠæ•´ä¸ªå›¾æ ‡+æ–‡å­—çš„ç»„åˆå‘ä¸Šæ‹‰ */
}
/* â–²â–²â–² ä¿®å¤ä»£ç ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯æ­¥éª¤1éœ€è¦ç²˜è´´çš„æ–°æ ·å¼ â–¼â–¼â–¼ */

/* è®©æ¯ä¸€æ¡è¯„è®ºéƒ½å˜æˆå¯ç‚¹å‡»çš„ï¼Œå¹¶å¢åŠ æ‚¬åœæ•ˆæœ */
.weibo-comment-item {
  cursor: pointer; /* é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºä¸ºå°æ‰‹å½¢çŠ¶ */
  transition: background-color 0.2s; /* æ·»åŠ ä¸€ä¸ªå¹³æ»‘çš„èƒŒæ™¯è‰²è¿‡æ¸¡åŠ¨ç”» */
  border-radius: 4px; /* ç»™ä¸€ç‚¹ç‚¹åœ†è§’ï¼Œæ›´å¥½çœ‹ */
  padding: 2px 5px; /* å¢åŠ ä¸€ç‚¹å†…è¾¹è·ï¼Œè®©ç‚¹å‡»åŒºåŸŸæ›´å¤§ */
  margin: 0 -5px; /* æŠŠä¸Šé¢çš„å†…è¾¹è·æŠµæ¶ˆæ‰ï¼Œä¿æŒå¯¹é½ */
}
.weibo-comment-item:hover {
  background-color: #f0f2f5; /* é¼ æ ‡æ”¾ä¸Šå»æ—¶ï¼Œç»™ä¸€ä¸ªæ·¡æ·¡çš„èƒŒæ™¯è‰² */
}
#phone-screen.dark-mode .weibo-comment-item:hover {
  background-color: #2c2c2e; /* å¤œé—´æ¨¡å¼ä¸‹çš„æ‚¬åœé¢œè‰² */
}

/* â€œå›å¤â€è¿™ä¸¤ä¸ªå­—çš„æ ·å¼ï¼Œè®©å®ƒæ›´æŸ”å’Œ */
.weibo-comment-item .weibo-comment-reply-tag {
  color: var(--text-secondary);
  margin: 0 4px; /* å’Œä¸¤è¾¹çš„åå­—æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
}

/* è¢«å›å¤è€…çš„åå­—æ ·å¼ï¼Œè®©å®ƒå’Œæ™®é€šè¯„è®ºè€…åå­—ä¸€æ ·å¯ä»¥ç‚¹å‡» */
.weibo-comment-item .reply-target-name {
  font-weight: 600;
  color: var(--accent-color);
  cursor: pointer;
  margin-right: 5px;
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è§’è‰²æ‰‹æœºAppå†…å£çº¸æ ·å¼ â–¼â–¼â–¼ */

/* å½“å†…éƒ¨å±å¹•æœ‰å£çº¸æ—¶ï¼Œè®¾ç½®èƒŒæ™¯å›¾çš„æ˜¾ç¤ºæ–¹å¼ */
.character-phone-inner-screen.has-app-wallpaper {
  background-size: cover;
  background-position: center;
}

/* å…³é”®ï¼šè®©æ‰€æœ‰Appé¡µé¢çš„å†…å®¹åˆ—è¡¨èƒŒæ™¯å˜é€æ˜ */
.character-phone-inner-screen.has-app-wallpaper .list-container,
.character-phone-inner-screen.has-app-wallpaper
  #character-chat-history-messages {
  background-color: transparent !important;
}

/* ä¸ºäº†ä¿è¯æ–‡å­—çš„å¯è¯»æ€§ï¼Œæˆ‘ä»¬ç»™åˆ—è¡¨é¡¹å’Œå¡ç‰‡åŠ ä¸ŠåŠé€æ˜çš„èƒŒæ™¯ */
.character-phone-inner-screen.has-app-wallpaper .character-data-item,
.character-phone-inner-screen.has-app-wallpaper .character-cart-item,
.character-phone-inner-screen.has-app-wallpaper .character-browser-item,
.character-phone-inner-screen.has-app-wallpaper .character-bank-transaction,
.character-phone-inner-screen.has-app-wallpaper .chat-list-item {
  background-color: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* åŒæ ·ä¸ºèŠå¤©æ°”æ³¡å¢åŠ åŠé€æ˜æ•ˆæœ */
.character-phone-inner-screen.has-app-wallpaper
  .character-chat-bubble-container.received
  .character-chat-bubble {
  background-color: rgba(255, 255, 255, 0.85);
}
.character-phone-inner-screen.has-app-wallpaper
  .character-chat-bubble-container.sent
  .character-chat-bubble {
  background-color: rgba(149, 236, 105, 0.85); /* å¾®ä¿¡ç»¿ï¼Œä½†å¸¦ä¸€ç‚¹é€æ˜ */
}

/* é€‚é…å¤œé—´æ¨¡å¼çš„åŠé€æ˜é¢œè‰² */
#phone-screen.dark-mode
  .character-phone-inner-screen.has-app-wallpaper
  .character-data-item,
#phone-screen.dark-mode
  .character-phone-inner-screen.has-app-wallpaper
  .chat-list-item {
  background-color: rgba(28, 28, 30, 0.7);
}
#phone-screen.dark-mode
  .character-phone-inner-screen.has-app-wallpaper
  .character-chat-bubble-container.received
  .character-chat-bubble {
  background-color: rgba(44, 44, 46, 0.85);
}
#phone-screen.dark-mode
  .character-phone-inner-screen.has-app-wallpaper
  .character-chat-bubble-container.sent
  .character-chat-bubble {
  background-color: rgba(48, 93, 32, 0.85); /* å¤œé—´æ¨¡å¼çš„ç»¿è‰² */
}
/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºâ€œæ¸¸æˆåˆ†äº«â€æ–°å¢çš„é¢œè‰²æ ·å¼ â–¼â–¼â–¼ */
.share-type.game {
  background-color: #9c27b0; /* ä¸€ä¸ªä»£è¡¨æ¸¸æˆçš„ç¥ç§˜ç´«è‰² */
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¿ƒåŠ¨é£è¡Œæ£‹æ ·å¼ â–¼â–¼â–¼ */

/* --- æ¸¸æˆä¸»ç•Œé¢å¸ƒå±€ --- */
#ludo-game-content {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
  padding: 15px;
  box-sizing: border-box;
  gap: 15px;
  background-color: #fff0f5; /* æ¸©æŸ”çš„æ·¡ç²‰è‰²èƒŒæ™¯ */
}

#phone-screen.dark-mode #ludo-game-content {
  background-color: #2c1e22; /* å¤œé—´æ¨¡å¼ä¸‹çš„æ·±ç²‰ç´«è‰² */
}

/* --- æ£‹ç›˜å®¹å™¨ä¸æ£‹ç›˜æœ¬èº« --- */
#ludo-board-container {
  position: relative;
  width: 100%;
  height: 280px; /* ç»™æ£‹ç›˜ä¸€ä¸ªå›ºå®šçš„é«˜åº¦ */
  flex-shrink: 0;
  background-color: rgba(255, 255, 255, 0.5);
  border-radius: 10px;
  padding: 10px;
  box-sizing: border-box;
}

#ludo-board {
  display: grid;
  grid-template-columns: repeat(10, 1fr); /* 10x6çš„ç½‘æ ¼å¸ƒå±€ */
  grid-template-rows: repeat(6, 1fr);
  width: 100%;
  height: 100%;
  gap: 3px;
}

/* --- æ£‹ç›˜æ ¼å­æ ·å¼ --- */
.ludo-cell {
  border-radius: 4px;
  background-color: rgba(255, 192, 203, 0.3); /* æ·¡æ·¡çš„ç²‰è‰²æ ¼å­ */
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 14px;
  font-weight: bold;
  color: #db7093;
}

/* èµ·ç‚¹å’Œç»ˆç‚¹æ ¼å­ */
.ludo-cell.start {
  background-color: #90ee90;
  color: #2e8b57;
}
.ludo-cell.end {
  background-color: #ffd700;
  color: #b8860b;
}

/* ç‰¹æ®Šäº‹ä»¶æ ¼å­ */
.ludo-cell.event-truth {
  background-color: #ffb6c1;
} /* çœŸå¿ƒè¯ */
.ludo-cell .cell-number {
  font-size: 10px;
  position: absolute;
  top: 2px;
  left: 3px;
  color: rgba(0, 0, 0, 0.2);
}

/* --- æ£‹å­æ ·å¼ --- */
.ludo-piece {
  position: absolute;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background-size: cover;
  background-position: center;
  border: 2px solid white;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 10;
}
.ludo-piece.user {
  border-color: #87cefa;
}
.ludo-piece.char {
  border-color: #ffc0cb;
}

/* --- æ¸¸æˆæ—¥å¿— --- */
#ludo-log-container {
  flex-grow: 1;
  background-color: rgba(255, 255, 255, 0.5);
  border-radius: 10px;
  padding: 10px;
  overflow-y: auto;
  min-height: 0;
}
#ludo-game-log .log-entry {
  padding: 6px 8px;
  font-size: 14px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  line-height: 1.5;
}
#ludo-game-log .log-entry.system {
  color: #db7093;
  font-style: italic;
  text-align: center;
}
#ludo-game-log .log-entry.user {
  color: #007bff;
}
#ludo-game-log .log-entry.char {
  color: #e83e8c;
}
#ludo-game-log .log-entry strong {
  font-weight: 900;
}

#ludo-dice-container {
  perspective: 1000px;
}
.dice {
  width: 50px;
  height: 50px;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1s;
  cursor: pointer;
}
.dice.rolling {
  animation: roll-dice 1.5s ease-out;
}
@keyframes roll-dice {
  0% {
    transform: rotateX(0deg) rotateY(0deg);
  }
  100% {
    transform: rotateX(1080deg) rotateY(720deg);
  }
}
.dice .face {
  position: absolute;
  width: 50px;
  height: 50px;
  border: 1px solid #ccc;
  background: white;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 24px;
  font-weight: bold;
}
.face.front {
  transform: rotateY(0deg) translateZ(25px);
}
.face.back {
  transform: rotateY(180deg) translateZ(25px);
}
.face.right {
  transform: rotateY(90deg) translateZ(25px);
}
.face.left {
  transform: rotateY(-90deg) translateZ(25px);
}
.face.top {
  transform: rotateX(90deg) translateZ(25px);
}
.face.bottom {
  transform: rotateX(-90deg) translateZ(25px);
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é£è¡Œæ£‹é—®é¢˜ç±»å‹æ ‡ç­¾æ ·å¼ â–¼â–¼â–¼ */
.question-type-tag {
  font-size: 10px;
  font-weight: bold;
  padding: 3px 8px;
  border-radius: 10px;
  color: white;
  margin-left: 10px;
  flex-shrink: 0;
}
.question-type-tag.both-answer {
  background-color: #ff8fab; /* ç²‰è‰²ä»£è¡¨å…±åŒå›ç­” */
}
.question-type-tag.single-answer {
  background-color: #87ceeb; /* è“è‰²ä»£è¡¨ä¸€äººå›ç­” */
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘é£è¡Œæ£‹ç»“ç®—å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */
#ludo-summary-content h3 {
  text-align: center;
  color: var(--accent-color);
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: bold;
}
#ludo-summary-content .ludo-qa-log {
  margin-top: 20px;
  padding-top: 15px;
  border-top: 1px solid var(--border-color);
  max-height: 300px; /* ç»™é—®ç­”è®°å½•ä¸€ä¸ªæœ€å¤§é«˜åº¦ï¼Œå†…å®¹å¤šäº†å¯ä»¥æ»šåŠ¨ */
  overflow-y: auto;
}
#ludo-summary-content h4 {
  margin-bottom: 10px;
  color: var(--text-primary);
}
#ludo-summary-content .qa-item {
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 1px dashed #eee;
}
#ludo-summary-content .qa-item:last-child {
  border-bottom: none;
}
#ludo-summary-content .qa-question {
  font-weight: 600;
  color: #db7093; /* ä¸€ä¸ªå¯çˆ±çš„ç²‰ç´«è‰² */
  margin-bottom: 8px;
}
#ludo-summary-content .qa-answer {
  padding-left: 15px;
  font-size: 14px;
  color: var(--text-secondary);
}
#ludo-summary-content .qa-answer strong {
  color: var(--text-primary);
}
#phone-screen.dark-mode #ludo-summary-content .qa-answer {
  color: #bbb;
}

/* â–¼â–¼â–¼ ã€ç‹¬å®¶å®šåˆ¶ã€‘è§’è‰²æ‰‹æœºæ¶ˆæ¯åˆ—è¡¨ - å¯çˆ±ç£¨ç ‚é€æ˜åœ†è§’ç‰ˆ v3.0 â–¼â–¼â–¼ */

/* 1. ç»™æ¶ˆæ¯åˆ—è¡¨å®¹å™¨å¢åŠ å†…è¾¹è·å’Œé—´è·ï¼Œå¹¶å¼ºåˆ¶å¼€å¯æ»šåŠ¨ */
#character-chat-list.list-container {
  /* --- â˜…â˜…â˜… æ ¸å¿ƒä¿®å¤ï¼šå¼ºåˆ¶å¼€å¯æ»šåŠ¨ â˜…â˜…â˜… --- */
  display: flex;
  flex-direction: column;
  flex-grow: 1; /* å æ®å‰©ä½™ç©ºé—´ */
  height: 0; /* å…³é”®ï¼šå¼ºåˆ¶è®©flexå­å…ƒç´ çš„é«˜åº¦å—é™ï¼Œä»è€Œè§¦å‘æ»šåŠ¨æ¡ */
  min-height: 0; /* å…¼å®¹æ€§ä¿éšœ */
  overflow-y: auto; /* å†…å®¹è¶…å‡ºæ—¶æ˜¾ç¤ºæ»šåŠ¨æ¡ */
  /* ------------------------------------ */

  padding: 15px 10px; /* ä¿æŒåŸæ¥çš„å†…è¾¹è· */
  gap: 15px; /* â€œæˆ‘â€çš„å¡ç‰‡å’Œâ€œå…¶ä»–äººâ€å¡ç‰‡ä¹‹é—´çš„é—´è· */
}

/* 2. é‡ç½®æ‰€æœ‰åˆ—è¡¨é¡¹çš„åŸºç¡€æ ·å¼ï¼Œç§»é™¤æ—§çš„è¾¹æ¡† */
#character-chat-list .chat-list-item {
  border-bottom: none !important;
}

/* 3. ã€ä½ çš„ä¸“å±ã€‘å•ç‹¬è®¾ç½®â€œæˆ‘çš„æ¶ˆæ¯â€(ç¬¬ä¸€ä¸ª)çš„å¯çˆ±èƒ¶å›Šæ ·å¼ */
#character-chat-list > .chat-list-item {
  background-color: rgba(255, 255, 255, 0.1); /* è¶…çº§é€æ˜çš„ç™½è‰²èƒŒæ™¯ */
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 25px; /* å¯çˆ±çš„èƒ¶å›Šåœ†è§’ */
  border: 1px solid rgba(255, 255, 255, 0.15); /* æ·¡æ·¡çš„äº®è¾¹ï¼Œå¢åŠ è´¨æ„Ÿ */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); /* æŸ”å’Œçš„é˜´å½±ï¼Œè¥é€ æ‚¬æµ®æ„Ÿ */
  padding: 15px; /* å¢åŠ å†…è¾¹è·ï¼Œè®©å†…å®¹æ›´èˆ’æœ */
  color: white; /* æ–‡å­—é¢œè‰²ä¹Ÿå˜æˆç™½è‰² */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3); /* ç»™æ–‡å­—åŠ ä¸€ç‚¹é˜´å½±ä¿è¯æ¸…æ™°åº¦ */
  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
}
#character-chat-list > .chat-list-item .last-msg {
  color: rgba(255, 255, 255, 0.7); /* é¢„è§ˆæ¶ˆæ¯çš„æ–‡å­—é¢œè‰²æ·¡ä¸€ç‚¹ */
}

/* 4. ã€ä½ çš„ä¸“å±ã€‘è®¾ç½®â€œå…¶ä»–äººæ¶ˆæ¯â€å®¹å™¨çš„æ ·å¼ */
.npc-chat-group {
  background-color: rgba(255, 255, 255, 0.1); /* åŒæ ·è¶…çº§é€æ˜ */
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 25px; /* å®¹å™¨æœ¬èº«ä¹Ÿæ˜¯åœ†è§’ */
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  overflow: hidden; /* å…³é”®ï¼è®©å†…éƒ¨çš„åˆ—è¡¨é¡¹ä¸¥æ ¼éµå®ˆå®¹å™¨çš„åœ†è§’ */
  padding: 5px 0; /* å®¹å™¨å†…éƒ¨çš„ä¸Šä¸‹ç•™ç™½ */
  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
}

/* 5. è®¾ç½®å®¹å™¨å†…éƒ¨å•ä¸ªæ¶ˆæ¯çš„æ ·å¼ */
.npc-chat-group .chat-list-item {
  background-color: transparent !important; /* å†…éƒ¨çš„é¡¹å®Œå…¨é€æ˜ */
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important; /* ç”¨æ·¡æ·¡çš„äº®çº¿åˆ†éš” */
  padding: 12px 15px;
  color: white; /* æ–‡å­—é¢œè‰²ä¹Ÿæ˜¯ç™½è‰² */
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}
.npc-chat-group .chat-list-item .last-msg {
  color: rgba(255, 255, 255, 0.7);
}

/* 6. ç§»é™¤å®¹å™¨å†…ã€æœ€åä¸€ä¸ªã€‘æ¶ˆæ¯çš„ä¸‹åˆ’çº¿ï¼Œè®©å¡ç‰‡åº•éƒ¨æ›´å¹²å‡€ */
.npc-chat-group .chat-list-item:last-child {
  border-bottom: none !important;
}
/* â–²â–²â–² å®šåˆ¶ç»“æŸ â–²â–²â–² */

/* ======================================================================= */
/* ===         ä¿®å¤â€œæŸ¥æ‰‹æœº-å¤–è§‚è®¾ç½®â€ä¸­é¢„è§ˆå›¾è¿‡å¤§çš„é—®é¢˜ v1.0         === */
/* ======================================================================= */

/* 1. ä¿®å¤æ‰‹æœºå£çº¸å’ŒAppå†…å£çº¸çš„é¢„è§ˆ */
/* 
   é—®é¢˜åŸå› ï¼šä¹‹å‰çš„æ ·å¼æ˜¯ background-size: coverï¼Œä¼šå¼ºåˆ¶å›¾ç‰‡å¡«æ»¡é¢„è§ˆæ¡†ï¼Œå¯¼è‡´è£å‰ªã€‚
   è§£å†³æ–¹æ¡ˆï¼šæ”¹ä¸º background-size: containï¼Œè®©å›¾ç‰‡åœ¨æ¡†å†…å®Œæ•´æ˜¾ç¤ºã€‚
*/
#char-phone-wallpaper-preview,
#char-phone-app-wallpaper-preview {
  background-size: contain !important;
  background-repeat: no-repeat !important; /* é˜²æ­¢å›¾ç‰‡åœ¨æ— æ³•å¡«æ»¡æ—¶é‡å¤å¹³é“º */
}

/* 2. ä¿®å¤ä¸¤ä¸ªæ¡Œé¢å°ç»„ä»¶çš„å›¾ç‰‡é¢„è§ˆ */
/* 
   é—®é¢˜åŸå› ï¼šå’Œä¸Šé¢ç±»ä¼¼ï¼Œä½†å¯¹äº<img>æ ‡ç­¾ï¼Œæ§åˆ¶æ˜¾ç¤ºæ–¹å¼çš„å±æ€§æ˜¯ object-fitã€‚
   è§£å†³æ–¹æ¡ˆï¼šåŒæ ·å°† cover æ”¹ä¸º containã€‚
*/
#char-phone-widget-preview-1,
#char-phone-widget-preview-2 {
  object-fit: contain !important;
  /* (å¯é€‰ç¾åŒ–) ä¸ºæ²¡æœ‰å›¾ç‰‡æ—¶çš„é¢„è§ˆæ¡†åŠ ä¸ªåº•è‰²ï¼Œæ›´å¥½çœ‹ */
  background-color: #f0f2f5;
}
/* ======================================================================= */
/* ===         ã€V2 æœ€ç»ˆä¿®å¤ã€‘ä¿®å¤æŸ¥æ‰‹æœº-å°ç»„ä»¶é¢„è§ˆå›¾è¿‡å¤§é—®é¢˜         === */
/* ======================================================================= */

#char-phone-widget-preview-1,
#char-phone-widget-preview-2 {
  background-size: contain !important; /* æ ¸å¿ƒï¼šè®©èƒŒæ™¯å›¾å®Œæ•´æ˜¾ç¤º */
  background-repeat: no-repeat !important; /* é˜²æ­¢å›¾ç‰‡é‡å¤å¹³é“º */
  background-position: center !important; /* ç¡®ä¿å›¾ç‰‡å±…ä¸­ */
}

/* â–¼â–¼â–¼ ã€ç‹¬å®¶å®šåˆ¶ã€‘å¿ƒåŠ¨é£è¡Œæ£‹è¾“å…¥æ¡† - ç²‰è‰²æŒ‰é’®ç‰ˆ v1.0 â–¼â–¼â–¼ */

/* 1. è¾“å…¥åŒºåŸŸçš„å®¹å™¨æ ·å¼ (ä¿æŒä¸å˜) */
#ludo-action-area {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  gap: 8px !important;
  padding: 10px 12px !important;
}

/* 2. æ–‡æœ¬è¾“å…¥æ¡†çš„æ ·å¼ (ä¿æŒä¸å˜) */
#ludo-action-area #ludo-user-speech-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
  box-sizing: border-box;
}

/* 3. â€œç¡®è®¤å›ç­”â€æŒ‰é’®çš„æ ·å¼ (å·²ä¿®æ”¹ä¸ºç²‰è‰²) */
#ludo-action-area .form-button {
  width: auto !important;
  height: 40px;
  border-radius: 20px;
  padding: 0 20px;
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
  margin: 0 !important;
  border: none;
  cursor: pointer;

  /* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ï¼šä½¿ç”¨å¯çˆ±çš„ç²‰è‰²æ¸å˜å’Œé˜´å½± â˜…â˜…â˜… */
  background: linear-gradient(135deg, #ff8fab, #fb6f92);
  color: white;
  box-shadow: 0 4px 10px rgba(251, 111, 146, 0.3);
  transition: all 0.2s ease-in-out;
}

/* â˜…â˜…â˜… æ–°å¢ï¼šä¸ºæŒ‰é’®æ·»åŠ æ›´ç”ŸåŠ¨çš„äº¤äº’æ•ˆæœ â˜…â˜…â˜… */
#ludo-action-area .form-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(251, 111, 146, 0.4);
}
#ludo-action-area .form-button:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 0 2px 5px rgba(251, 111, 146, 0.3);
}

/* 4. å¤œé—´æ¨¡å¼é€‚é… (ä¿æŒä¸å˜) */
#phone-screen.dark-mode #ludo-action-area #ludo-user-speech-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}
/* â–²â–²â–² ç¾åŒ–ä»£ç ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å¿ƒå£°é¢æ¿èƒŒæ™¯å›¾æ ·å¼ â–¼â–¼â–¼ */
#inner-voice-main-panel.modal-content {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  /* æˆ‘ä»¬ç»™å®ƒåŠ ä¸€ä¸ªè¿‡æ¸¡æ•ˆæœï¼Œè®©èƒŒæ™¯åˆ‡æ¢æ›´å¹³æ»‘ */
  transition: background-image 0.3s ease-in-out;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘â€œè°æ˜¯å§åº•â€æ¸¸æˆæ ·å¼ â–¼â–¼â–¼ */

/* â€œä½ è¯´æˆ‘çŒœâ€å‘è¨€è¾“å…¥åŒºçš„ç¾åŒ– */
#undercover-action-area.speaking-mode {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 0;
}
#undercover-action-area.speaking-mode #undercover-user-speech-input {
  flex-grow: 1;
  border: none;
  padding: 10px 15px;
  border-radius: 20px;
  background-color: var(--secondary-bg);
  font-size: 16px;
  resize: none;
  max-height: 100px;
  line-height: 1.5;
  width: auto !important;
  height: auto !important;
}
#undercover-action-area.speaking-mode #undercover-end-speech-btn {
  height: 40px;
  border-radius: 20px;
  padding: 0 15px;
  flex-shrink: 0;
  font-size: 14px;
  font-weight: 600;
  margin: 0 !important;
  width: auto !important;
  background-color: var(--accent-color);
  color: white;
  border: none;
}
#phone-screen.dark-mode
  #undercover-action-area.speaking-mode
  #undercover-user-speech-input {
  background-color: #2c2c2e;
  color: var(--text-primary);
}

/* â–¼â–¼â–¼ ç¬¬2æ­¥ï¼šå°†è¿™æ®µæ–°æ ·å¼ç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* --- ã€å…¨æ–°ã€‘ç”¨æˆ·å‘å‡ºçš„â€œè§£é™¤å…³ç³»â€å¡ç‰‡æ ·å¼ --- */

/* 1. è®©å¡ç‰‡çš„å®¹å™¨æ°”æ³¡å˜é€æ˜ï¼Œæ¶ˆé™¤é»˜è®¤èƒŒæ™¯ */
.message-bubble.is-ls-disconnect .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

/* 2. å¡ç‰‡ä¸»ä½“æ ·å¼ */
.lovers-space-disconnect-card {
  width: 220px; /* å®½åº¦å¯ä»¥è‡ªå·±è°ƒæ•´ */
  background: linear-gradient(
    135deg,
    #f5f7fa,
    #e9ecef
  ); /* æµ…ç°è‰²æ¸å˜ï¼Œæ›´æœ‰è´¨æ„Ÿ */
  border-radius: 12px;
  border: 1px solid #ced4da;
  display: flex;
  align-items: center;
  gap: 15px; /* å›¾æ ‡å’Œæ–‡å­—çš„é—´è· */
  padding: 15px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

/* 3. å¤œé—´æ¨¡å¼ä¸‹çš„å¡ç‰‡é¢œè‰² */
#phone-screen.dark-mode .lovers-space-disconnect-card {
  background: linear-gradient(135deg, #495057, #343a40);
  border-color: #6c757d;
}

/* 4. å¿ƒç¢ Emoji å›¾æ ‡çš„æ ·å¼ */
.lovers-space-disconnect-card .icon {
  font-size: 32px; /* Emoji å¤§å° */
  line-height: 1;
}

/* 5. æ–‡å­—åŒºåŸŸçš„æ ·å¼ */
.lovers-space-disconnect-card .text-content .title {
  font-weight: 600;
  font-size: 16px;
  color: var(--text-primary);
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯Userè‡ªå·±çš„ç§ä¿¡åŠŸèƒ½çš„æ‰€æœ‰æ–°æ ·å¼ â–¼â–¼â–¼ */

/* --- 1. ç§ä¿¡åˆ—è¡¨é¡µé¢ --- */
#user-dm-list-container .dm-list-item {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  cursor: pointer;
  border-bottom: 1px solid var(--border-color);
}
#user-dm-list-container .dm-list-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode #user-dm-list-container .dm-list-item:hover {
  background-color: #2c2c2e;
}
#user-dm-list-container .dm-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  margin-right: 12px;
  object-fit: cover;
}
#user-dm-list-container .dm-info {
  flex-grow: 1;
  overflow: hidden;
}
#user-dm-list-container .dm-name-line {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 5px;
}
#user-dm-list-container .dm-name {
  font-weight: 600;
  font-size: 16px;
}
#user-dm-list-container .dm-persona-tag {
  font-size: 10px;
  color: var(--text-secondary);
  background-color: #f0f0f0;
  padding: 2px 6px;
  border-radius: 4px;
}
#phone-screen.dark-mode #user-dm-list-container .dm-persona-tag {
  background-color: #3a3a3c;
}
#user-dm-list-container .dm-last-msg {
  font-size: 14px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* --- 2. ç§ä¿¡è¯¦æƒ…é¡µé¢ (èŠå¤©ç•Œé¢) --- */
#user-dm-messages-container {
  background-color: #f0f2f5 !important;
}
#phone-screen.dark-mode #user-dm-messages-container {
  background-color: #000000 !important;
}

/* å¤ç”¨ä¸»èŠå¤©ç•Œé¢çš„æ°”æ³¡æ ·å¼ï¼Œä½†ä¸ºç²‰ä¸å’ŒUserå®šä¹‰ç‰¹å®šå¯¹é½æ–¹å¼ */
#user-dm-messages-container .message-wrapper.fan {
  align-self: flex-start;
}
#user-dm-messages-container .message-wrapper.fan .message-bubble {
  flex-direction: row;
}
#user-dm-messages-container .message-wrapper.fan .content {
  background-color: #ffffff; /* ç²‰ä¸ç”¨ç™½è‰²æ°”æ³¡ */
  color: var(--text-primary);
  border-radius: 2px 18px 18px 18px;
}

#user-dm-messages-container .message-wrapper.user-self {
  /* ä½¿ç”¨æ–°classï¼Œé¿å…å†²çª */
  align-self: flex-end;
}
#user-dm-messages-container .message-wrapper.user-self .message-bubble {
  flex-direction: row-reverse;
}
/* ä½ è‡ªå·±çš„æ¶ˆæ¯ï¼Œä½¿ç”¨å¾®åšçš„æ©™è‰² */
#user-dm-messages-container .message-wrapper.user-self .content {
  background-color: #ff8200;
  color: white;
  border-radius: 18px 2px 18px 18px;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode
  #user-dm-messages-container
  .message-wrapper.fan
  .content {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode
  #user-dm-messages-container
  .message-wrapper.user-self
  .content {
  background-color: #e67300;
}

/* â–¼â–¼â–¼ ç”¨è¿™ã€ä¸€æ•´å—ã€‘ä»£ç ï¼Œæ›¿æ¢æ‰ä½ æ—§çš„ user-dm-input-area ç›¸å…³æ ·å¼ â–¼â–¼â–¼ */

/* --- 1. ç§ä¿¡è¾“å…¥åŒºåŸŸçš„æ•´ä½“èƒŒæ™¯å’Œè¾¹è· (è¿™éƒ¨åˆ†ä¿æŒä¸å˜) --- */
#user-dm-input-area {
  border-top: 1px solid var(--border-color);
  background-color: #f7f7f7;
  padding: 10px 12px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

/* --- 2. æ ¸å¿ƒå¸ƒå±€ï¼šå¼ºåˆ¶è¾“å…¥æ¡†å’ŒæŒ‰é’®åœ¨åŒä¸€è¡Œ --- */
/* æˆ‘ä»¬ç”¨ä¸€ä¸ªæ›´ç²¾ç¡®çš„é€‰æ‹©å™¨ï¼Œæ¥ç¡®ä¿æ ·å¼èƒ½ç”Ÿæ•ˆ */
#user-dm-detail-screen .chat-input-main-row {
  display: flex; /* å…³é”®ï¼šè®¾ä¸ºflexå¸ƒå±€ */
  flex-direction: row; /* å…³é”®ï¼šå¼ºåˆ¶æ¨ªå‘æ’åˆ— */
  align-items: flex-end; /* è®©å¤šè¡Œè¾“å…¥æ—¶ï¼ŒæŒ‰é’®å’Œè¾“å…¥æ¡†åº•éƒ¨å¯¹é½ï¼Œæ›´å¥½çœ‹ */
  gap: 8px; /* è¾“å…¥æ¡†å’ŒæŒ‰é’®ç»„ä¹‹é—´çš„é—´è· */
}

/* --- 3. è¾“å…¥æ¡†ï¼šè®©å®ƒè‡ªåŠ¨ä¼¸å±•ï¼Œå æ»¡å·¦ä¾§æ‰€æœ‰ç©ºé—´ --- */
#user-dm-input-area #user-dm-input {
  flex-grow: 1; /* å…³é”®ï¼ */

  /* ä¸‹é¢æ˜¯è¾“å…¥æ¡†çš„å¤–è§‚ï¼Œä¿æŒä¸å˜ */
  border: 1px solid #ddd;
  border-radius: 18px;
  padding: 8px 15px;
  line-height: 1.5;
  min-height: 38px;
  max-height: 100px;
  resize: none;
  background-color: #fff;
}

/* --- 4. æŒ‰é’®å®¹å™¨ï¼šè®©æ‰€æœ‰æŒ‰é’®åœ¨é‡Œé¢æ¨ªå‘æ’åˆ— --- */
#user-dm-input-area #input-actions-wrapper {
  display: flex;
  align-items: flex-end;
  gap: 8px;
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®ä»¬è¢«æŒ¤å‹å˜å½¢ */
}

/* --- 5. ã€ä½ çš„è¦æ±‚ã€‘ä¿®æ”¹â€œå‘é€â€æŒ‰é’®ä¸ºåœ†è§’çŸ©å½¢ --- */
#user-dm-input-area #user-dm-send-btn {
  height: 38px;
  border-radius: 8px; /* â˜…â˜…â˜… ä¿®æ”¹ç‚¹åœ¨è¿™é‡Œï¼ä» 18px æ”¹ä¸º 8px â˜…â˜…â˜… */
  background-color: #ff8200;
  /* --- ä»¥ä¸‹ä¸ºè¡¥å……æ ·å¼ï¼Œè®©æŒ‰é’®æ›´å¥½çœ‹ --- */
  border: none;
  color: white;
  font-weight: 600;
  font-size: 14px;
  padding: 0 15px; /* è®©æ–‡å­—ä¸é‚£ä¹ˆæ‹¥æŒ¤ */
}

/* --- 6. å…¶ä»–ä¸¤ä¸ªå›¾æ ‡æŒ‰é’®çš„æ ·å¼ (ä¿æŒä¸å˜) --- */
#user-dm-input-area .chat-action-icon-btn {
  width: 38px;
  height: 38px;
  border-radius: 50%;
  padding: 0;
  font-size: 24px;
  background-color: rgba(0, 0, 0, 0.05);
  color: var(--text-primary);
  border: 1px solid rgba(0, 0, 0, 0.05);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* --- 7. å¤œé—´æ¨¡å¼é€‚é… (ä¿æŒä¸å˜) --- */
#phone-screen.dark-mode #user-dm-input-area {
  background-color: #1c1c1e;
  border-top-color: #38383a;
}
#phone-screen.dark-mode #user-dm-input-area #user-dm-input {
  background-color: #2c2c2e;
  border-color: #38383a;
  color: white;
}
#phone-screen.dark-mode #user-dm-input-area .chat-action-icon-btn {
  background-color: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.1);
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºUserç§ä¿¡è¾“å…¥æ¡†æ–°å¢çš„æŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */

#user-dm-input-area #input-actions-wrapper {
  display: flex;
  align-items: flex-end; /* ç¡®ä¿æŒ‰é’®åº•éƒ¨å¯¹é½ */
  gap: 8px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
}

/* å¤ç”¨ä¸»èŠå¤©ç•Œé¢çš„å°å›¾æ ‡æŒ‰é’®æ ·å¼ */
#user-dm-input-area .chat-action-icon-btn {
  width: 38px;
  height: 38px;
  border-radius: 50%;
  padding: 0;
  font-size: 24px;
  background-color: rgba(0, 0, 0, 0.05);
  color: var(--text-primary);
  border: 1px solid rgba(0, 0, 0, 0.05);
}

#phone-screen.dark-mode #user-dm-input-area .chat-action-icon-btn {
  background-color: rgba(255, 255, 255, 0.1);
  border-color: rgba(255, 255, 255, 0.1);
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯Userç§ä¿¡åˆ é™¤åŠŸèƒ½çš„æ‰€æœ‰æ–°æ ·å¼ â–¼â–¼â–¼ */

/* --- å•æ¡æ¶ˆæ¯åˆ é™¤æŒ‰é’® --- */
/* 1. è®©æ¯æ¡æ¶ˆæ¯çš„å®¹å™¨å¯ä»¥ä½œä¸ºåˆ é™¤æŒ‰é’®çš„å®šä½å‚è€ƒç‚¹ */
#user-dm-messages-container .message-wrapper {
  position: relative;
}

/* 2. åˆ é™¤æŒ‰é’®æœ¬èº«çš„æ ·å¼ */
.user-dm-message-delete-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  background-color: rgba(0, 0, 0, 0.1);
  color: #555;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  font-size: 16px;
  line-height: 22px;
  text-align: center;
  opacity: 0; /* é»˜è®¤éšè— */
  transition: all 0.2s ease;
  z-index: 10;
}

/* 3. é¼ æ ‡æ‚¬åœåœ¨æ•´æ¡æ¶ˆæ¯ä¸Šæ—¶ï¼Œæ‰æ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
#user-dm-messages-container .message-wrapper:hover .user-dm-message-delete-btn {
  opacity: 1;
}
.user-dm-message-delete-btn:hover {
  background-color: #ff3b30;
  color: white;
}

/* 4. æ ¹æ®æ¶ˆæ¯æ˜¯ç²‰ä¸çš„è¿˜æ˜¯ä½ çš„ï¼Œå†³å®šæŒ‰é’®çš„ä½ç½® */
#user-dm-messages-container .message-wrapper.fan .user-dm-message-delete-btn {
  right: -28px; /* æ”¾åœ¨æ°”æ³¡å³è¾¹ */
}
#user-dm-messages-container
  .message-wrapper.user-self
  .user-dm-message-delete-btn {
  left: -28px; /* æ”¾åœ¨æ°”æ³¡å·¦è¾¹ */
}

/* --- å·¦æ»‘åˆ é™¤æ•´ä¸ªå¯¹è¯ --- */
/* 1. æ»‘åŠ¨å®¹å™¨ */
.user-dm-list-item-swipe-container {
  position: relative;
  overflow: hidden;
  background-color: var(--secondary-bg);
}

/* 2. å¯æ»‘åŠ¨çš„å†…å®¹åŒº */
.user-dm-list-item-content {
  position: relative;
  z-index: 2;
  background-color: inherit;
  transition: transform 0.3s ease;
}
.user-dm-list-item-content.swiped {
  transform: translateX(-80px); /* å‘å·¦æ»‘åŠ¨80pxï¼Œéœ²å‡ºåˆ é™¤æŒ‰é’® */
}

/* 3. éšè—åœ¨åé¢çš„æ“ä½œæŒ‰é’®åŒºåŸŸ */
.user-dm-swipe-actions {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 1;
  display: flex;
}

/* 4. â€œåˆ é™¤â€æŒ‰é’®çš„æ ·å¼ */
.user-dm-swipe-actions .swipe-action-btn {
  height: 100%;
  padding: 0 20px;
  border: none;
  color: white;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  background-color: #ff3b30; /* çº¢è‰²èƒŒæ™¯ */
}

/* 5. ä¿®å¤åˆ†å‰²çº¿ï¼Œè®©æ»‘åŠ¨æ•ˆæœæ›´å®Œç¾ */
#user-dm-list-container .dm-list-item {
  border-bottom: none; /* ç§»é™¤åŸå§‹çš„åˆ†å‰²çº¿ */
}
#user-dm-list-container .user-dm-list-item-swipe-container:not(:last-child) {
  border-bottom: 1px solid var(--border-color); /* åœ¨æ»‘åŠ¨å®¹å™¨ä¸Šæ·»åŠ æ–°åˆ†å‰²çº¿ */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç»­ç«èŠ±å›¾æ ‡æ ·å¼ â–¼â–¼â–¼ */
.streak-indicator {
  display: inline-flex;
  align-items: center;
  gap: 3px;
  font-size: 13px; /* è°ƒæ•´äº†å­—ä½“å¤§å°ï¼Œè®©å®ƒæ›´ç²¾è‡´ */
  color: #ff6f00; /* æ¸©æš–çš„æ©™è‰² */
  font-weight: bold;
  margin-left: 8px; /* å’Œè§’è‰²åå­—æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
  text-shadow: 0 0 5px rgba(255, 152, 0, 0.5); /* åŠ ä¸€ç‚¹å‘å…‰æ•ˆæœ */
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ€æœ«å°¾ â–¼â–¼â–¼ */

/* --- ã€å…¨æ–°ã€‘ç¾¤æˆå‘˜ç®¡ç†åˆ—è¡¨æ ·å¼ --- */
#member-management-list .member-management-item {
  background-color: var(--secondary-bg);
}

/* å•ä¸ªæˆå‘˜é¡¹ */
.member-management-item {
  display: flex;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid var(--border-color);
}

.member-management-item .avatar {
  width: 40px;
  height: 40px;
  border-radius: 6px; /* æ–¹å½¢åœ†è§’å¤´åƒ */
  margin-right: 12px;
}

/* æˆå‘˜ä¿¡æ¯ï¼ˆæ˜µç§°ã€å¤´è¡”ã€èº«ä»½ï¼‰ */
.member-management-item .info {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.member-management-item .info .name {
  font-weight: 500;
}
.member-management-item .info .tags {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* èº«ä»½æ ‡ç­¾ï¼ˆç¾¤ä¸»/ç®¡ç†å‘˜ï¼‰ */
.member-management-item .role-tag {
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: bold;
  color: white;
}
.role-tag.owner {
  background-color: #ffc107;
} /* é»„è‰² */
.role-tag.admin {
  background-color: #28a745;
} /* ç»¿è‰² */

/* å¤´è¡”æ ‡ç­¾ */
.member-management-item .title-tag {
  font-size: 11px;
  color: var(--text-secondary);
  background-color: #f0f2f5;
  padding: 2px 6px;
  border-radius: 4px;
}
#phone-screen.dark-mode .member-management-item .title-tag {
  background-color: #3a3a3c;
}

/* æ“ä½œæŒ‰é’® */
.member-management-item .actions {
  display: flex;
  gap: 8px;
}
.member-management-item .actions button {
  padding: 5px 10px;
  font-size: 12px;
  border-radius: 5px;
  cursor: pointer;
  border: 1px solid var(--border-color);
  background-color: #f8f9fa;
}
#phone-screen.dark-mode .member-management-item .actions button {
  background-color: #3e3e42;
  border-color: #545458;
}
.member-management-item .actions button.danger {
  border-color: #ff4d4f;
  color: #ff4d4f;
}

/* --- ã€å…¨æ–°ã€‘èŠå¤©ç•Œé¢å†…çš„èº«ä»½/å¤´è¡”æ ‡ç­¾ --- */
.group-sender-tags {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  margin-left: 6px;
  vertical-align: middle;
}
.group-role-tag,
.group-title-tag {
  font-size: 10px;
  padding: 1px 5px;
  border-radius: 8px;
  font-weight: 500;
  line-height: 1.4;
}
.group-role-tag.owner {
  background-color: #fff2c2;
  color: #d98c00;
  border: 1px solid #ffe89d;
}
.group-role-tag.admin {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}
.group-title-tag {
  background-color: #f0f2f5;
  color: var(--text-secondary);
}

#phone-screen.dark-mode .group-role-tag.owner {
  background-color: #594200;
  color: #ffd466;
  border-color: #795b00;
}
#phone-screen.dark-mode .group-role-tag.admin {
  background-color: #104a3c;
  color: #76ddc4;
  border-color: #176854;
}
#phone-screen.dark-mode .group-title-tag {
  background-color: #3a3a3c;
}

/* â–²â–²â–² æ–°CSSç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€ç‹¬å®¶å®šåˆ¶ã€‘è¯·å°†è¿™æ®µã€å…¨æ–°ã€‘çš„CSSä»£ç ï¼Œç²˜è´´åˆ°<style>æ ‡ç­¾çš„æœ«å°¾ â–¼â–¼â–¼ */

/* æ ¸å¿ƒï¼šä¸“é—¨ä¸ºç”¨æˆ·ï¼ˆuserï¼‰åœ¨ç¾¤èŠä¸­çš„æ¶ˆæ¯è¡Œå®šä¹‰æ ·å¼ */
.message-wrapper.user .group-sender-line {
  /* 1. å®šä½ï¼šä»å·¦ä¾§å®šä½æ”¹ä¸ºå³ä¾§å®šä½ï¼Œä¸ä½ çš„å¤´åƒå¯¹é½ */
  left: auto;
  right: 50px; /* åŸæ¥æ˜¯ left: 50px */

  /* 2. å¸ƒå±€ç¿»è½¬ï¼šè¿™æ˜¯å®ç°â€œæ ‡ç­¾åœ¨å·¦ï¼Œæ˜µç§°åœ¨å³â€çš„å…³é”®ï¼*/
  flex-direction: row-reverse;
}

/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç¾¤å…¬å‘ŠåŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* è¿™æ˜¯æˆ‘ä»¬æ–°åŠ çš„ç¾¤å…¬å‘Šå°é»‘æ¿å›¾æ ‡çš„æ ·å¼ */
/* â–¼â–¼â–¼ è¯·ç”¨è¿™å—ä»£ç æ›¿æ¢ä½ æ—§çš„ #group-announcement-btn æ ·å¼ â–¼â–¼â–¼ */
#group-announcement-btn {
  display: none; /* JSæ§åˆ¶æ˜¾ç¤ºï¼Œä¿æŒä¸å˜ */
  position: absolute; /* æ ¸å¿ƒä¿®æ”¹ï¼šç»å¯¹å®šä½ */
  left: 100%; /* å®šä½åœ¨æ ‡é¢˜çš„å³è¾¹ */
  top: 50%; /* å‚ç›´å±…ä¸­çš„ç¬¬ä¸€æ­¥ */
  transform: translateY(-50%); /* å‚ç›´å±…ä¸­çš„ç¬¬äºŒæ­¥ */
  margin-left: 5px; /* ä¸æ ‡é¢˜çš„é—´è· */

  /* ä¿æŒè§†è§‰æ ·å¼ */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 30px;
  cursor: pointer;
  color: var(--accent-color);
  transition: background-color 0.2s;
  border-radius: 50%;
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
#group-announcement-btn:hover {
  background-color: rgba(0, 0, 0, 0.05); /* é¼ æ ‡æ‚¬åœæ—¶ç»™ä¸€ç‚¹åé¦ˆ */
}
#phone-screen.dark-mode #group-announcement-btn:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* å…¬å‘Šå¼¹çª—çš„æ ·å¼ */
#group-announcement-modal .modal-content {
  height: 70%; /* è®©å¼¹çª—é«˜ä¸€äº›ï¼Œæ–¹ä¾¿çœ‹å…¬å‘Š */
}

/* å…¬å‘Šå†…å®¹çš„æ˜¾ç¤ºåŒºåŸŸ */
#group-announcement-modal .modal-body {
  white-space: pre-wrap; /* è®©æ¢è¡Œç¬¦ç”Ÿæ•ˆ */
  word-break: break-word; /* é˜²æ­¢é•¿å•è¯æº¢å‡º */
  line-height: 1.7; /* å¢åŠ è¡Œé«˜ï¼Œæ›´æ˜“è¯» */
  font-size: 15px;
}

/* ç¼–è¾‘å…¬å‘Šæ—¶ï¼Œæ–‡æœ¬åŸŸçš„æ ·å¼ */
#group-announcement-modal textarea {
  width: 100%;
  height: 100%; /* å æ»¡æ•´ä¸ªå†…å®¹åŒº */
  min-height: 300px;
  box-sizing: border-box;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 10px;
  font-size: 15px;
  line-height: 1.7;
  resize: vertical; /* å…è®¸ç”¨æˆ·å‚ç›´æ‹–åŠ¨è°ƒæ•´å¤§å° */
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€ç‹¬å®¶å®šåˆ¶ã€‘ç¾¤èŠæ˜µç§°ä¸æ ‡ç­¾é¡ºåºä¿®å¤ â–¼â–¼â–¼ */

/* 1. å…¨å±€å®šä¹‰æ˜¾ç¤ºé¡ºåºï¼šè®©æ ‡ç­¾æ°¸è¿œåœ¨åå­—å‰é¢ */
.group-sender-line > .group-sender-tags {
  order: 1;
}
.group-sender-line > .sender-name {
  order: 2;
}

/* 2. ä¸ºã€AI/ä»–äººæ¶ˆæ¯ã€‘è®¾ç½®å¯¹é½æ–¹å¼ (é å·¦) */
.message-wrapper.ai .group-sender-line {
  justify-content: flex-start; /* ç¡®ä¿å†…å®¹ä»å·¦è¾¹å¼€å§‹ */
}

/* 3. ã€æ ¸å¿ƒä¿®å¤ã€‘ä¿®æ­£ã€ä½ çš„æ¶ˆæ¯ã€‘çš„å¯¹é½æ–¹å¼ (é å³) */
/* è¿™å—ä»£ç ä¼šè¦†ç›–æ‰æ—§çš„ã€å¯¼è‡´é¡ºåºé”™ä¹±çš„è§„åˆ™ */
.message-wrapper.user .group-sender-line {
  left: auto;
  right: 50px; /* ä¿æŒåŸæœ‰çš„å³ä¾§å®šä½ */
  flex-direction: row; /* ç§»é™¤æ—§çš„â€œåè½¬â€æ•ˆæœ */
  justify-content: flex-end; /* è®©å†…å®¹å—æ•´ä½“é å³ï¼Œè¿™æ ·åå­—å°±èƒ½è´´è¿‘ä½ çš„å¤´åƒäº† */
}

/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ç”¨æˆ·è¡¨æƒ…é¢æ¿æ‰¹é‡åˆ é™¤åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. å½“è¡¨æƒ…é¢æ¿è¿›å…¥é€‰æ‹©æ¨¡å¼æ—¶ï¼Œéšè—â€œæ·»åŠ /ä¸Šä¼ â€æŒ‰é’® */
#sticker-panel.selection-mode #add-sticker-btn,
#sticker-panel.selection-mode #upload-sticker-btn {
  display: none;
}

/* 2. ä¸ºè¡¨æƒ…æ ¼å­æ·»åŠ é€‰æ‹©æ¡†çš„è§†è§‰æ•ˆæœ */
.sticker-item.in-selection-mode::before {
  content: "";
  position: absolute;
  top: 5px;
  right: 5px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  border: 2px solid rgba(0, 0, 0, 0.2);
  background-color: rgba(255, 255, 255, 0.7);
  transition: all 0.2s ease-in-out;
}

/* 3. å½“è¡¨æƒ…è¢«é€‰ä¸­æ—¶ï¼Œè®©é€‰æ‹©æ¡†å˜æˆå¸¦å¯¹å‹¾çš„âˆš */
.sticker-item.selected::before {
  background-color: var(--accent-color); /* ä½¿ç”¨ä½ çš„ä¸»é¢˜è‰² */
  border-color: var(--accent-color);
  content: "âœ”";
  color: white;
  font-size: 14px;
  text-align: center;
  line-height: 20px;
}

/* 4. åº•éƒ¨æ‰¹é‡åˆ é™¤æ“ä½œæ çš„æ ·å¼ */
#sticker-panel-footer {
  padding: 10px 15px;
  /* é€‚é…iPhoneåº•éƒ¨å®‰å…¨åŒº */
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  flex-shrink: 0;
}

#sticker-panel-footer button {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 8px;
  background-color: #ff3b30; /* é†’ç›®çš„çº¢è‰² */
  color: white;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}

#sticker-panel-footer button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è§’è‰²è¡¨æƒ…åŒ…æ‰¹é‡åˆ é™¤åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. å½“è¿›å…¥é€‰æ‹©æ¨¡å¼æ—¶ï¼Œéšè—é¡¶éƒ¨çš„â€œæ‰¹é‡æ·»åŠ /æœ¬åœ°ä¸Šä¼ â€æŒ‰é’® */
#char-sticker-manager-screen.selection-mode .panel-btn {
  display: none;
}

/* 2. è§’è‰²è¡¨æƒ…åŒ…çš„åº•éƒ¨æ“ä½œæ æ ·å¼ï¼Œå’Œç”¨æˆ·è¡¨æƒ…åŒ…çš„ç±»ä¼¼ */
#char-sticker-footer {
  padding: 10px 15px;
  padding-bottom: calc(10px + env(safe-area-inset-bottom));
  background-color: rgba(247, 247, 247, 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  flex-shrink: 0;
}

#char-sticker-footer button {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 8px;
  background-color: #ff3b30;
  color: white;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
}

#char-sticker-footer button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

/* 3. ä¸ºé¡µç­¾å†…å®¹åŒºæ·»åŠ  active ç±»ï¼Œç”¨äºJSæ§åˆ¶æ˜¾ç¤º/éšè— */
.frame-content {
  display: none;
}
.frame-content.active {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºå¿ƒå£°é¢æ¿ç¼–è¾‘åŠŸèƒ½æ–°å¢çš„CSS â–¼â–¼â–¼ */

/* å½“å¤´éƒ¨æœ‰è¿™ä¸ªclassæ—¶ï¼Œå¼ºåˆ¶éšè—åº•éƒ¨è¾¹æ¡† */
#inner-voice-main-panel .modal-header.no-border {
  border-bottom: none !important;
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* å¼ºåˆ¶æå‡â€œå¿ƒå£°æ ·å¼ç¼–è¾‘å™¨â€çš„å±‚çº§ï¼Œç¡®ä¿å®ƒèƒ½è¦†ç›–åœ¨å¿ƒå£°é¢æ¿ä¹‹ä¸Š */
#inner-voice-editor-modal {
  z-index: 1001; /* è¿™ä¸ªå€¼æ¯”å¿ƒå£°é¢æ¿çš„é»˜è®¤å±‚çº§(1000)è¦é«˜ */
}

/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºå¿ƒå£°é¢æ¿å›¾æ ‡æ–°å¢çš„é¢œè‰²æ§åˆ¶æ ·å¼ â–¼â–¼â–¼ */

/* 1. ä¸ºå¿ƒå£°é¢æ¿å®šä¹‰ä¸€ä¸ªCSSå˜é‡ï¼Œå¹¶è®¾ç½®é»˜è®¤é¢œè‰² */
#inner-voice-main-panel {
  --iv-icon-color: #ff8a80; /* ä½ å¯ä»¥ä¿®æ”¹è¿™ä¸ªé»˜è®¤çš„ç²‰çº¢è‰² */
}

/* 2. è®©æ‰€æœ‰ç›®æ ‡å›¾æ ‡çš„é¢œè‰²éƒ½ä½¿ç”¨è¿™ä¸ªå˜é‡ */
#close-inner-voice-modal {
  color: var(--iv-icon-color);
}

#inner-voice-edit-btn svg,
#change-inner-voice-bg-btn svg,
#inner-voice-history-btn svg {
  /* æ ¸å¿ƒï¼šå°†å›¾æ ‡çš„çº¿æ¡é¢œè‰²è®¾ç½®ä¸ºæˆ‘ä»¬å®šä¹‰çš„å˜é‡ */
  stroke: var(--iv-icon-color);
}
/* â–²â–²â–² æ–°å¢æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘AIç”Ÿæˆç¾¤æˆå‘˜æŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */
#member-management-actions #ai-generate-members-btn {
  background-color: #007bff; /* ä¸€ä¸ªé†’ç›®çš„è“è‰² */
  color: white;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¦ä¼šå¤§ä½œæˆ˜Appæ ·å¼ (V5 - ç»ˆæä¿®å¤ç‰ˆ) â–¼â–¼â–¼ */

#date-a-live-screen {
  background-color: #f0f2f5;
}
#phone-screen.dark-mode #date-a-live-screen {
  background-color: #000;
}

/* â˜…â˜…â˜… è¿™æ˜¯æœ¬æ¬¡å”¯ä¸€çš„ã€ä½†æœ€å…³é”®çš„ä¿®æ”¹åŒºåŸŸ â˜…â˜…â˜… */
#dating-scene-content {
  flex: 1; /* â˜…â˜…â˜… æ ¸å¿ƒ1: è®©å†…å®¹åŒºå æ®çˆ¶å®¹å™¨ï¼ˆå±å¹•ï¼‰çš„æ‰€æœ‰å‰©ä½™ç©ºé—´ */
  min-height: 0; /* â˜…â˜…â˜… æ ¸å¿ƒ2: flexå¸ƒå±€çš„ä¸€ä¸ªé‡è¦æŠ€å·§ï¼Œé˜²æ­¢å†…å®¹æº¢å‡ºæ—¶äº§ç”Ÿæ„å¤–çš„å¸ƒå±€é—®é¢˜ */
  overflow-y: auto; /* â˜…â˜…â˜… æ ¸å¿ƒ3: å½“å†…å®¹è¶…å‡ºå®¹å™¨é«˜åº¦æ—¶ï¼Œè‡ªåŠ¨æ˜¾ç¤ºå‚ç›´æ»šåŠ¨æ¡ï¼*/

  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}
/* â˜…â˜…â˜… ä¿®æ”¹ç»“æŸ â˜…â˜…â˜… */

.dating-scene-card {
  width: 100%;
  background-color: var(--secondary-bg);
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  position: relative;
  transition:
    transform 0.3s ease,
    opacity 0.3s ease;

  /* ä¿æŒå¡ç‰‡å†…éƒ¨ä¸ºå‚ç›´flexå¸ƒå±€ï¼Œç¡®ä¿å›¾ç‰‡åœ¨ä¸Šï¼Œæ–‡å­—åœ¨ä¸‹ */
  display: flex;
  flex-direction: column;
  flex-shrink: 0; /* é˜²æ­¢å¡ç‰‡è‡ªèº«è¢«æ„å¤–å‹ç¼© */
}

.dating-scene-delete-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.5);
  color: white;
  border: none;
  font-size: 20px;
  line-height: 28px;
  text-align: center;
  cursor: pointer;
  z-index: 5;
  opacity: 0;
  transition: background-color 0.2s;
}
.dating-scene-card:hover .dating-scene-delete-btn {
  opacity: 1;
}
.dating-scene-delete-btn:hover {
  background-color: #ff3b30;
}

.dating-scene-image-container {
  width: 100%;
  aspect-ratio: 16 / 10;
  background-color: #e9ecef;
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(--text-secondary);
  font-size: 14px;
  flex-shrink: 0;
}
#phone-screen.dark-mode .dating-scene-image-container {
  background-color: #2c2c2e;
}

.dating-scene-image-container .loading-spinner {
  width: 30px;
  height: 30px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-top-color: var(--accent-color);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.dating-scene-image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.dating-scene-info {
  padding: 15px;
  text-align: center;
  flex-shrink: 0; /* é˜²æ­¢æ–‡å­—åŒºåŸŸè¢«å‹ç¼© */
}

.dating-scene-info .name {
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
}

.dating-scene-info .cost {
  font-size: 16px;
  color: #ff5722;
  font-weight: bold;
  margin-top: 8px;
}
/* â–²â–²â–² æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å€Ÿé’±åˆ—è¡¨é¡¹ç¾åŒ–æ ·å¼ â–¼â–¼â–¼ */
#borrow-money-char-list .character-select-item {
  gap: 12px; /* åœ¨å¤´åƒå’Œåå­—ä¹‹é—´å¢åŠ ä¸€äº›é—´è· */
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å€Ÿæ¡å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */
.message-bubble.is-borrow-request .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
}

.borrow-card {
  width: 220px;
  border-radius: 12px;
  background: linear-gradient(135deg, #e0c3fc, #8ec5fc); /* æ¸©æŸ”çš„ç´«è“è‰²æ¸å˜ */
  color: white;
  padding: 15px;
  box-shadow: 0 4px 12px rgba(142, 197, 252, 0.4);
  position: relative;
  overflow: hidden;
}
.borrow-card::before {
  content: "ğŸ’¸"; /* é£é’±çš„Emojiä½œä¸ºè£…é¥° */
  position: absolute;
  top: -5px;
  right: 10px;
  font-size: 32px;
  opacity: 0.15;
  transform: rotate(15deg);
}

.borrow-card .borrow-header {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 10px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.3);
}
.borrow-card .borrow-header span {
  color: #4a00e0; /* æ·±ç´«è‰²çªå‡ºå€Ÿé’±å¯¹è±¡ */
  text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
}

.borrow-card .borrow-body .label {
  font-size: 13px;
  opacity: 0.8;
}

.borrow-card .borrow-body .amount {
  font-size: 32px;
  font-weight: 700;
  margin: 4px 0 10px 0;
}

.borrow-card .borrow-body .reason {
  font-size: 12px;
  line-height: 1.5;
  opacity: 0.9;
  padding-top: 8px;
  margin-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  word-break: break-all;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* 1. ä¸»å®¹å™¨ (ä¿æŒä¸å˜) */
#dating-game-screen {
  background-color: #000;
  color: white;
}

/* 2. èƒŒæ™¯å›¾å±‚ (æœ€åº•å±‚) */
#dating-game-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  transition:
    background-image 0.5s ease-in-out,
    filter 0.5s ease-in-out;
  filter: blur(3px) brightness(0.8);
  transform: scale(1.05);
  z-index: 1; /* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ï¼šæ˜ç¡®æŒ‡å®šå±‚çº§ä¸º 1 â˜…â˜…â˜… */
}

/* 4. UIå±‚ (æœ€é¡¶å±‚) */
.dating-game-ui-overlay {
  position: relative; /* ç›¸å¯¹å®šä½ï¼Œå› ä¸ºå®ƒéœ€è¦è‡ªç„¶åœ°æ’åœ¨æœ€ä¸Šå±‚ */
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end; /* å°†å†…å®¹æ¨åˆ°åº•éƒ¨ */
  padding-bottom: calc(env(safe-area-inset-bottom) + 15px);
  box-sizing: border-box;
  z-index: 3; /* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ï¼šæ˜ç¡®æŒ‡å®šå±‚çº§ä¸º 3ï¼Œæ¯”ç«‹ç»˜é«˜ï¼Œç¡®ä¿å®ƒæ°¸è¿œåœ¨æœ€ä¸Šé¢ï¼ â˜…â˜…â˜… */
}
#dating-game-screen .header {
  position: absolute;
  top: 0;
  width: 100%;
  box-sizing: border-box;
  background-color: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
}
#dating-game-screen .header .back-btn {
  color: white;
}

/* --- â–¼â–¼â–¼ è¿™é‡Œæ˜¯æœ¬æ¬¡ä¿®æ”¹çš„æ ¸å¿ƒåŒºåŸŸ â–¼â–¼â–¼ --- */

.dating-game-textbox {
  display: flex; /* 1. æ”¹ä¸ºFlexå¸ƒå±€ */
  flex-direction: column;
  justify-content: space-between; /* 2. è®©å†…å®¹å’Œæç¤ºåˆ†å¼€ */
  background-color: rgba(0, 0, 0, 0.75);
  padding: 15px 20px;
  margin: 0 15px 15px 15px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  min-height: 120px; /* 3. è®¾ç½®ä¸€ä¸ªå›ºå®šçš„æœ€å°é«˜åº¦ */
  transition:
    opacity 0.5s,
    transform 0.5s;
  cursor: pointer;
  /* 4. ç§»é™¤ overflow: autoï¼Œç¦æ­¢å…¶è‡ªèº«æ»šåŠ¨ */
}

/* --- â–¼â–¼â–¼ åœ¨ .dating-game-textbox è§„åˆ™ä¹‹åï¼Œç²˜è´´ä¸‹é¢è¿™æ®µæ–°ä»£ç  â–¼â–¼â–¼ --- */

/* æ–‡æœ¬å†…å®¹çš„å®¹å™¨ï¼Œæˆ‘ä»¬ç»™å®ƒä¸€ä¸ªæ·¡å…¥æ·¡å‡ºçš„åŠ¨ç”» */
.dating-game-textbox #dating-game-text-content {
  transition: opacity 0.2s ease-in-out;
}
/* å½“å¥å­åˆ‡æ¢æ—¶ï¼Œå…ˆè®©æ—§å¥å­æ·¡å‡º */
.dating-game-textbox #dating-game-text-content.fade-out {
  opacity: 0;
}

/* â€œç‚¹å‡»ç»§ç»­â€çš„æç¤º */
.dating-game-textbox .continue-indicator {
  display: block;
  text-align: right;
  margin-top: 10px;
  font-size: 14px;
  color: #888;
  animation: pulse-indicator 1.5s infinite;
}
@keyframes pulse-indicator {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* --- â–²â–²â–² æ–°å¢ä»£ç ç»“æŸ â–²â–²â–² --- */

.dating-game-choices {
  display: flex;
  flex-direction: column;
  gap: 10px;
  padding: 0 15px;
  margin-bottom: 15px;
}

.dating-game-choice-btn {
  width: 100%;
  padding: 15px;
  background-color: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
  border-radius: 25px;
  font-size: 15px;
  font-weight: 500;
  cursor: pointer;
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  transition:
    background-color 0.2s,
    transform 0.1s;
}

.dating-game-choice-btn.input-action {
  background-color: rgba(0, 123, 255, 0.4);
  border-color: rgba(0, 123, 255, 0.6);
}

.dating-game-choice-btn:hover {
  background-color: rgba(255, 255, 255, 0.4);
}
.dating-game-choice-btn:active {
  transform: scale(0.98);
}
/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¦ä¼šå¤§ä½œæˆ˜-æ–‡æ¸¸ç•Œé¢UIå¢å¼ºæ ·å¼ â–¼â–¼â–¼ */

/* 1. ä¸ºæ–‡æ¸¸ç•Œé¢é¡¶éƒ¨æ æ·»åŠ æŒ‰é’®å®¹å™¨ (è¿™æ®µä»£ç å·²åŒ…å«åœ¨æ­¥éª¤1ä¸­ï¼Œå¦‚æœå·²æ·»åŠ å¯å¿½ç•¥) */
#dating-game-screen .header {
  justify-content: space-between;
}

/* 3. ç«‹ç»˜å±‚ (ä¸­é—´å±‚) */
#dating-game-sprite-container {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  height: auto;
  max-height: 80%;
  pointer-events: none;
  transition: all 0.5s ease-in-out;
  z-index: 2; /* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ï¼šæ˜ç¡®æŒ‡å®šå±‚çº§ä¸º 2ï¼Œæ¯”èƒŒæ™¯é«˜ â˜…â˜…â˜… */
}
#dating-game-sprite-container img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
}

/* 3. è®¾ç½®å¼¹çª—æ ·å¼ */
#dating-game-settings-modal .modal-content {
  height: 85%;
}
#dating-game-settings-modal .form-group {
  margin-bottom: 15px;
}
#dating-game-settings-modal hr {
  margin: 15px 0;
}
#dating-game-settings-modal .modal-body {
  padding-bottom: 15px;
}

/* 4. ç«‹ç»˜å®šä½æ§åˆ¶çš„æ ·å¼ */
.position-controls {
  display: flex;
  gap: 10px;
  align-items: center;
}
.position-controls label {
  flex-shrink: 0;
}
.position-controls input[type="range"] {
  flex-grow: 1;
}

/* â–²â–²â–² æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯ä¸ºâ€œç«‹ç»˜é¢„è®¾â€åŠŸèƒ½æ–°å¢çš„æ‰€æœ‰CSSæ ·å¼ â–¼â–¼â–¼ */

/* --- ç«‹ç»˜ç»„ç¼–è¾‘å™¨ --- */
.sprite-edit-card {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 12px;
  border: 1px solid var(--border-color);
  position: relative;
  display: flex;
  gap: 15px;
  align-items: flex-start;
}
#phone-screen.dark-mode .sprite-edit-card {
  background-color: #2c2c2e;
}

.sprite-edit-card .preview-container {
  width: 80px;
  height: 120px;
  background-color: #e9ecef;
  border-radius: 6px;
  border: 1px dashed #ccc;
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  flex-shrink: 0;
}
#phone-screen.dark-mode .sprite-edit-card .preview-container {
  background-color: #3a3a3c;
  border-color: #555;
}

.sprite-edit-card .fields-container {
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex-grow: 1;
}
.sprite-edit-card textarea {
  min-height: 50px;
  resize: vertical;
}

.sprite-edit-card .delete-sprite-btn {
  position: absolute;
  top: -8px;
  right: -8px;
  width: 24px;
  height: 24px;
  background-color: #ff3b30;
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 16px;
  line-height: 24px;
  text-align: center;
  cursor: pointer;
}

/* --- ç«‹ç»˜ç»„ç®¡ç†åˆ—è¡¨ --- */
.sprite-group-list-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
}
.sprite-group-list-item:hover {
  background-color: #f5f5f5;
}
#phone-screen.dark-mode .sprite-group-list-item:hover {
  background-color: #2c2c2e;
}
.sprite-group-list-item .group-name {
  font-weight: 500;
}
.sprite-group-list-item .group-actions button {
  margin-left: 8px;
  padding: 5px 10px;
  font-size: 13px;
}
/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¦ä¼šå¤§ä½œæˆ˜-ç«‹ç»˜å®šä½æ§åˆ¶æ ·å¼ â–¼â–¼â–¼ */

/* è¿™æ˜¯åŒ…è£¹æ¯ä¸ªæ»‘å—ï¼ˆæ ‡ç­¾+æ»‘å—æœ¬èº«ï¼‰çš„å®¹å™¨ */
.sprite-edit-card .position-controls {
  display: flex;
  align-items: center;
  gap: 10px; /* æ ‡ç­¾å’Œæ»‘å—çš„é—´è· */
  margin-top: 8px;
}

/* è¿™æ˜¯â€œX ä½ç½®â€ã€â€œY ä½ç½®â€ã€â€œå¤§å°â€è¿™äº›æ–‡å­—æ ‡ç­¾çš„æ ·å¼ */
.sprite-edit-card .position-controls label {
  flex-shrink: 0; /* é˜²æ­¢æ ‡ç­¾æ–‡å­—è¢«å‹ç¼©æ¢è¡Œ */
  width: 90px; /* ç»™ä¸€ä¸ªå›ºå®šçš„å®½åº¦ï¼Œè®©æ‰€æœ‰æ»‘å—èƒ½å·¦å¯¹é½ */
  font-size: 13px;
  color: var(--text-secondary);
}

/* è¿™æ˜¯æ»‘å—æ—è¾¹çš„å®æ—¶æ•°å€¼æ˜¾ç¤ºçš„æ ·å¼ */
.sprite-edit-card .position-controls .pos-value {
  font-weight: 500;
  color: var(--text-primary);
}

/* è¿™æ˜¯æ»‘å—æœ¬èº«çš„æ ·å¼ */
.sprite-edit-card .position-controls input[type="range"] {
  flex-grow: 1; /* è®©æ»‘å—å æ®æ‰€æœ‰å‰©ä½™ç©ºé—´ */
  width: 100%; /* ç¡®ä¿å®ƒèƒ½æ’‘æ»¡ */
}

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¿™æ˜¯çº¦ä¼šåœºæ™¯ä¸“å±çš„â€œå¥½æ„Ÿåº¦â€å’Œâ€œæ¬²æœ›å€¼â€å¿ƒå½¢UIæ ·å¼ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ ã€ç‹¬å®¶å®šåˆ¶ã€‘è¿™æ˜¯ä¸ºä½ ä¿®æ”¹åçš„â€œå·¦ä¸Šè§’â€ç‰ˆæœ¬ â–¼â–¼â–¼ */

/* è¿™æ˜¯åŒ…è£¹ä¸¤ä¸ªæ•°å€¼æ¡çš„æ€»å®¹å™¨ */
#dating-values-container {
  position: absolute;

  /* â–¼â–¼â–¼ æ ¸å¿ƒä¿®æ”¹1ï¼šè°ƒæ•´å‚ç›´ä½ç½®ï¼ŒæŠŠå®ƒæ˜ç¡®åœ°æ”¾åˆ°Headerä¸‹æ–¹ â–¼â–¼â–¼ */
  /* ä½ çš„Headeré«˜åº¦æ˜¯110pxï¼Œæˆ‘ä»¬å†åŠ 10pxçš„é—´è·ï¼Œæ‰€ä»¥è®¾ç½®ä¸º120px */
  top: 120px;

  /* â–¼â–¼â–¼ æ ¸å¿ƒä¿®æ”¹2ï¼šè°ƒæ•´æ°´å¹³ä½ç½®ï¼Œä»å³è¾¹ç§»åŠ¨åˆ°å·¦è¾¹ â–¼â–¼â–¼ */
  left: 15px; /* åŸæ¥æ˜¯ right: 15px; */

  z-index: 5;
  display: none;
  flex-direction: column;
  gap: 8px;

  /* â–¼â–¼â–¼ æ ¸å¿ƒä¿®æ”¹3ï¼šè®©å†…éƒ¨å…ƒç´ é å·¦å¯¹é½ï¼Œæ›´å¥½çœ‹ â–¼â–¼â–¼ */
  align-items: flex-start; /* åŸæ¥æ˜¯ align-items: flex-end; */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* è¿™æ˜¯æ¯ä¸€è¡Œæ•°å€¼æ¡ï¼ˆä¾‹å¦‚â€œæµªæ¼«å€¼â€é‚£ä¸€è¡Œï¼‰çš„æ ·å¼ */
.value-display {
  display: flex;
  align-items: center;
  gap: 4px; /* å¿ƒä¸å¿ƒä¹‹é—´çš„é—´è· */
  background-color: rgba(
    0,
    0,
    0,
    0.2
  ); /* ç»™ä¸€ä¸ªåŠé€æ˜çš„æ·±è‰²èƒŒæ™¯æ¿ï¼Œè®©å¿ƒå½¢æ›´çªå‡º */
  padding: 4px 8px;
  border-radius: 12px;
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
}

/* è¿™æ˜¯å•ä¸ªå¿ƒå½¢å›¾æ ‡çš„æ ·å¼ */
.value-display svg {
  width: 20px;
  height: 20px;
  stroke-width: 1.5; /* æè¾¹å®½åº¦ */
  transition: all 0.3s ease-in-out; /* ä¸ºå¡«å……å’Œé¢œè‰²å˜åŒ–æ·»åŠ åŠ¨ç”» */
}

/* è¿™æ˜¯â€œæµªæ¼«å€¼â€å›¾æ ‡çš„é¢œè‰² */
#romance-value svg {
  color: #ff8fab; /* å¯çˆ±çš„ç²‰çº¢è‰² */
  stroke: #ffc2d1; /* æè¾¹ç”¨æ›´æ·¡çš„ç²‰è‰² */
}
/* è¿™æ˜¯â€œæ€§æ¬²å€¼â€å›¾æ ‡çš„é¢œè‰² */
#lust-value svg {
  color: #ffde59; /* è¯±äººçš„é‡‘é»„è‰² */
  stroke: #ffeda6; /* æè¾¹ç”¨æ›´æ·¡çš„é»„è‰² */
}

/* â–²â–²â–² æ–°å¢CSSæ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¦ä¼šå®Œæˆåº¦è¿›åº¦æ¡æ ·å¼ â–¼â–¼â–¼ */

/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºä½ ä¿®å¤åçš„è¿›åº¦æ¡æ ·å¼ â–¼â–¼â–¼ */

/* è¿™æ˜¯è¿›åº¦æ¡çš„å®¹å™¨ (å·²ç§»è‡³åº•éƒ¨) */
#dating-completion-bar-container {
  position: absolute;
  bottom: calc(20px + env(safe-area-inset-bottom));

  /* å…¶ä»–æ ·å¼ä¿æŒä¸å˜ */
  left: 15px;
  right: 15px;
  height: 18px;
  background-color: rgba(0, 0, 0, 0.3);
  border-radius: 9px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2) inset;
  overflow: hidden;
  z-index: 4;
  display: none;
  transition: width 0.5s ease-in-out;
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* è¿›åº¦æ¡çš„å¡«å……éƒ¨åˆ† */
#dating-completion-bar-fill {
  width: 0%; /* åˆå§‹ä¸º0% */
  height: 100%;
  /* ä½¿ç”¨ä¸€ä¸ªæ¼‚äº®çš„ç²‰è‰²æ¸å˜ä½œä¸ºå¡«å……è‰² */
  background: linear-gradient(90deg, #ff8fab, #fb6f92);
  border-radius: 9px;
  transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1); /* å¹³æ»‘çš„å®½åº¦å˜åŒ–åŠ¨ç”» */
}

/* è¿›åº¦æ¡ä¸Šçš„ç™¾åˆ†æ¯”æ–‡å­— */
#dating-completion-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 12px;
  color: white;
  font-weight: bold;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6); /* æ–‡å­—é˜´å½±ï¼Œç¡®ä¿æ¸…æ™° */
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘çº¦ä¼šç»“ç®—å¡ç‰‡æ ·å¼ â–¼â–¼â–¼ */

#dating-summary-overlay {
  background-color: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.dating-summary-card {
  background-color: transparent;
  width: 320px;
  height: 500px;
  perspective: 1000px; /* ä¸º3Dç¿»è½¬æ•ˆæœè®¾ç½®é€è§† */
}

.dating-summary-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  border-radius: 20px;
}

/* å½“å¡ç‰‡è¢«ç¿»è½¬æ—¶ */
.dating-summary-card.is-flipped .dating-summary-card-inner {
  transform: rotateY(180deg);
}

/* å¡ç‰‡çš„æ­£é¢å’ŒèƒŒé¢ */
.card-front,
.card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  -webkit-backface-visibility: hidden; /* Safari */
  backface-visibility: hidden;
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  box-sizing: border-box;
}

/* æ­£é¢æ ·å¼ */
.card-front {
  color: white;
  background: linear-gradient(
    135deg,
    #a8b2c5,
    #8e9eab
  ); /* æœŸå¾…ä¹‹å¤œçš„é»˜è®¤ç°è‰²æ¸å˜ */
  transition: background 0.3s;
}

/* ä¸åŒè¯„çº§çš„èƒŒæ™¯é¢œè‰² */
.card-front.romantic {
  background: linear-gradient(135deg, #ff8fab, #fb6f92); /* ç²‰è‰²æ¸å˜ */
}
.card-front.passionate {
  background: linear-gradient(
    135deg,
    #fff9c4,
    #fff176
  ); /* å…¨æ–°ä¿®æ”¹ï¼šè¿™æ˜¯ä¸€ä¸ªéå¸¸æ¼‚äº®çš„æ·¡é»„è‰²æ¸å˜ */
}

/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºä½ å®šåˆ¶çš„â€œå®Œç¾ä¹‹å¤œâ€è–°è¡£è‰è‰²ï¼Œè¯·ç”¨å®ƒæ›¿æ¢æ—§çš„ .card-front.perfect æ ·å¼ â–¼â–¼â–¼ */
.card-front.perfect {
  /* æ ¸å¿ƒä¿®æ”¹ï¼šè¿™é‡Œä½¿ç”¨äº†ä»æ·¡ç´«åˆ°ç•¥æ·±ç´«è‰²çš„ä¼˜é›…æ¸å˜ï¼Œè¥é€ å‡ºæµªæ¼«æ¢¦å¹»çš„æ„Ÿè§‰ */
  background: linear-gradient(135deg, #d1c4e9, #b39ddb);
}

.card-front #summary-card-avatar {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 4px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  object-fit: cover;
  margin-bottom: 20px;
}

.card-front #summary-card-rating {
  font-size: 28px;
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  margin: 0 0 10px 0;
}

.card-front .summary-card-tip {
  font-size: 14px;
  opacity: 0.8;
  margin-top: auto; /* å°†æç¤ºæ¨åˆ°åº•éƒ¨ */
}

.summary-card-actions {
  display: flex;
  gap: 15px;
  width: 100%;
  margin-top: 20px;
}

.summary-card-actions button {
  flex: 1;
  padding: 12px;
  border-radius: 20px;
  border: none;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

#summary-share-btn {
  background-color: rgba(255, 255, 255, 0.9);
  color: #333;
}
#summary-close-btn {
  background-color: rgba(0, 0, 0, 0.2);
  color: white;
}

/* èƒŒé¢æ ·å¼ */
.card-back {
  background-color: #f8f9fa;
  color: #333;
  transform: rotateY(180deg);
  justify-content: flex-start; /* å†…å®¹ä»é¡¶éƒ¨å¼€å§‹ */
}

.card-back-header {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
  margin-bottom: 10px;
  border-bottom: 1px solid #e0e0e0;
  flex-shrink: 0;
}
.card-back-header span {
  font-weight: 600;
}
.card-back-header button {
  background: none;
  border: none;
  color: var(--accent-color);
  font-size: 16px;
  cursor: pointer;
}

.card-back-content {
  width: 100%;
  flex-grow: 1;
  overflow-y: auto;
  text-align: left;
  line-height: 1.6;
  font-size: 14px;
}
.card-back-content p {
  margin: 0 0 10px 0;
}

/* èŠå¤©è®°å½•é‡Œåˆ†äº«å¡ç‰‡çš„æ ·å¼ */
.message-bubble.is-dating-summary .content {
  padding: 0;
  background: transparent;
  box-shadow: none;
  border: none;
}

.dating-summary-chat-card {
  width: 220px;
  height: 120px;
  border-radius: 12px;
  padding: 15px;
  color: white;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.dating-summary-chat-card::before {
  content: "ğŸ’–";
  position: absolute;
  top: -10px;
  left: -10px;
  font-size: 40px;
  opacity: 0.1;
  transform: rotate(-15deg);
}

.dating-summary-chat-card .rating {
  font-size: 20px;
  font-weight: bold;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.dating-summary-chat-card .tip {
  font-size: 12px;
  opacity: 0.8;
  margin-top: 8px;
}
/* â–²â–²â–² æ–°å¢CSSæ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ æŠŠè¿™ä¸€æ•´å—å…¨æ–°çš„CSSï¼Œç²˜è´´åˆ° <style> çš„æœ«å°¾ â–¼â–¼â–¼ */

/* --- ã€å…¨æ–°ã€‘çº¦ä¼šå†å²è®°å½•åŠŸèƒ½æ ·å¼ --- */

/* --- ã€å…¨æ–° | å·²ä¿®å¤å¸ƒå±€ã€‘çº¦ä¼šå†å²è®°å½•åŠŸèƒ½æ ·å¼ --- */

/* å†å²è®°å½•é¡µé¢çš„ä¸»å®¹å™¨ï¼Œç°åœ¨è´Ÿè´£æ»šåŠ¨å’Œå¸ƒå±€ */
#dating-history-list {
  background-color: #f0f2f5; /* ä¿æŒåŸæœ‰çš„èƒŒæ™¯è‰² */

  /* â–¼â–¼â–¼ è¿™æ˜¯è§£å†³æ‹¥æŒ¤å’Œé‡å é—®é¢˜çš„æ ¸å¿ƒä»£ç  â–¼â–¼â–¼ */
  display: flex; /* 1. ä½¿ç”¨ Flex å¸ƒå±€ï¼Œè®©å¡ç‰‡ä»¬å¬è¯åœ°æ’åˆ— */
  flex-direction: column; /* 2. è®¾ç½®ä¸ºå‚ç›´æ–¹å‘ï¼Œä»ä¸Šåˆ°ä¸‹å †å  */
  gap: 15px; /* 3. åœ¨æ¯å¼ å¡ç‰‡ä¹‹é—´åˆ›å»º 15px çš„å‚ç›´é—´è· */
  padding: 20px 15px; /* 4. åœ¨åˆ—è¡¨çš„ä¸Šä¸‹(20px)å’Œå·¦å³(15px)éƒ½åŠ ä¸Šå†…è¾¹è·ï¼Œè®©æ•´ä½“ä¸æ‹¥æŒ¤ */
  box-sizing: border-box; /* (æ¨è) ç¡®ä¿å†…è¾¹è·ä¸ä¼šå½±å“å¸ƒå±€è®¡ç®— */

  /* 
       æ»šåŠ¨æ¡çš„åŠŸèƒ½ç”±å®ƒçš„çˆ¶å®¹å™¨ .list-container æä¾›ï¼Œ
       æˆ‘ä»¬åœ¨è¿™é‡Œæ­£ç¡®åœ°è®¾ç½®äº†å¸ƒå±€ï¼Œçˆ¶å®¹å™¨å°±èƒ½æ­£å¸¸æ»šåŠ¨äº†ï¼
    */
}

#phone-screen.dark-mode #dating-history-list {
  background-color: #1c1c1e; /* å¤œé—´æ¨¡å¼çš„èƒŒæ™¯è‰² */
}

/* å†å²åˆ—è¡¨ä¸­çš„å¡ç‰‡ï¼Œæˆ‘ä»¬è®©å®ƒæ›´é€‚åˆåˆ—è¡¨æ˜¾ç¤º */
#dating-history-list .dating-summary-card {
  width: 100%; /* å¡ç‰‡å®½åº¦æ’‘æ»¡ (ä¿æŒä¸å˜) */
  height: 180px; /* ç»™ä¸€ä¸ªå›ºå®šçš„é«˜åº¦ï¼Œè®©åˆ—è¡¨æ›´æ•´é½ (ä¿æŒä¸å˜) */
  position: relative;
  transform: none;
  left: auto;
  top: auto;
  margin: 0; /* (ä¿æŒä¸å˜) */

  /* ã€æ–°å¢ã€‘é˜²æ­¢å¡ç‰‡åœ¨ Flex å¸ƒå±€ä¸­è¢«æ„å¤–å‹ç¼©å˜å½¢ */
  flex-shrink: 0;
}

/* å†å²åˆ—è¡¨ä¸­çš„å¡ç‰‡ï¼Œæ­£é¢æ ·å¼å¾®è°ƒ */
#dating-history-list .card-front {
  padding: 15px;
  justify-content: center;
  cursor: pointer; /* é¼ æ ‡æ”¾ä¸Šå»æ—¶æ˜¾ç¤ºå°æ‰‹ï¼Œæç¤ºå¯ä»¥ç‚¹å‡» */
}

#dating-history-list .card-front img {
  width: 70px !important;
  height: 70px !important;
  margin-bottom: 10px !important;
  border-radius: 50% !important;
  border: 3px solid rgba(255, 255, 255, 0.7) !important;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2) !important;
}

#dating-history-list .card-front h2 {
  font-size: 22px !important;
  margin: 0 0 5px 0 !important;
}

#dating-history-list .card-front p {
  margin-top: 5px !important;
}

/* å†å²åˆ—è¡¨ä¸­çš„å¡ç‰‡ï¼ŒèƒŒé¢æ ·å¼å¾®è°ƒ */
#dating-history-list .card-back-header {
  flex-shrink: 0; /* é˜²æ­¢å¤´éƒ¨è¢«å‹ç¼© */
}
#dating-history-list .card-back-content {
  font-family: sans-serif; /* èƒŒé¢å¯ä»¥ç”¨æ›´æ˜“è¯»çš„éè¡¬çº¿å­—ä½“ */
  font-size: 13px;
  line-height: 1.6;
}

/* â–²â–²â–² æ–°å¢CSSæ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€V4 - ç»ˆæä¿®å¤ç‰ˆã€‘è¯·ç”¨è¿™æ•´å—ä»£ç ï¼Œæ›¿æ¢æ‰€æœ‰æ—§çš„Stickerç›¸å…³æ ·å¼ â–¼â–¼â–¼ */

/* 1. è¿™æ˜¯æ¯ä¸ªè¡¨æƒ…çš„â€œæ ¼å­â€ï¼Œç°åœ¨å®ƒæ˜¯ä¸€ä¸ªflexå®¹å™¨ï¼Œè´Ÿè´£è®©å›¾ç‰‡å’Œæ–‡å­—å‚ç›´å±…ä¸­æ’åˆ— */
.sticker-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px; /* å›¾ç‰‡å’Œæ–‡å­—ä¹‹é—´çš„é—´è· */
  cursor: pointer;
}

/* â–¼â–¼â–¼ è¿™æ˜¯ä¿®æ”¹åçš„ä»£ç  â–¼â–¼â–¼ */
/* 2. ã€æ ¸å¿ƒã€‘è¿™æ˜¯ä¸“é—¨ç”¨æ¥æ˜¾ç¤ºâ€œå›¾ç‰‡â€çš„div */
.sticker-image {
  width: 100px; /* â˜… ä¿®æ”¹ï¼šä» 80px å¢å¤§åˆ° 100px */
  height: 100px; /* â˜… ä¿®æ”¹ï¼šä» 80px å¢å¤§åˆ° 100px */
  position: relative;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  border-radius: 10px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

/* 3. è¿™æ˜¯æè¿°æ–‡å­—çš„æ ·å¼ (æ”¯æŒæœ€å¤š2è¡Œ) */
.sticker-name {
  font-size: 12px;
  color: var(--text-secondary);
  text-align: center;
  width: 100%;
  line-height: 1.4;
  height: calc(12px * 1.4 * 2); /* é¢„ç•™ä¸¤è¡Œçš„é«˜åº¦ï¼Œé˜²æ­¢å¸ƒå±€è·³åŠ¨ */

  /* å®ç°æœ€å¤šä¸¤è¡Œçš„çœç•¥å·æ•ˆæœ */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
  word-break: break-all;
}

/* 4. åˆ é™¤æŒ‰é’®çš„æ ·å¼ï¼Œç°åœ¨å®ƒçš„çˆ¶çº§æ˜¯ .sticker-image */
.sticker-image .delete-btn {
  display: none;
  position: absolute;
  top: -5px;
  right: -5px;
  width: 20px;
  height: 20px;
  background-color: #ff3b30;
  color: white;
  border-radius: 50%;
  text-align: center;
  line-height: 20px;
  font-size: 14px;
  cursor: pointer;
  border: 2px solid white;
  z-index: 10;
}

/* 5. ã€å·²ä¿®å¤ã€‘é€‰æ‹©æ¨¡å¼ä¸‹çš„å‹¾é€‰æ ‡è®°æ ·å¼ */
.sticker-image.in-selection-mode::before {
  content: "";
  position: absolute;
  top: 4px;
  right: 4px;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid rgba(120, 120, 128, 0.4);
  background-color: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(2px);
  -webkit-backdrop-filter: blur(2px);
  transition: all 0.2s ease-in-out;
  box-sizing: border-box;
}

.sticker-image.selected::before {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
  content: "âœ”";
  color: white;
  font-size: 14px;
  font-weight: bold;
  text-align: center;
  line-height: 18px;
}

/* â–²â–²â–² V4 ä¿®å¤ç‰ˆCSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘è¡¨æƒ…é¢æ¿åˆ†ç±»åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* 1. åˆ†ç±»é¡µç­¾æ å®¹å™¨ */
#sticker-category-tabs {
  flex-shrink: 0;
  padding: 10px 15px;
  border-top: 1px solid var(--border-color);
  display: flex;
  gap: 10px;
  overflow-x: auto;

  /* éšè—æ»šåŠ¨æ¡ï¼Œè®©ç•Œé¢æ›´å¹²å‡€ */
  scrollbar-width: none;
  -ms-overflow-style: none;
}
#sticker-category-tabs::-webkit-scrollbar {
  display: none;
}

/* 2. å•ä¸ªåˆ†ç±»èƒ¶å›ŠæŒ‰é’® */
.sticker-category-btn {
  padding: 6px 15px;
  border: 1px solid transparent;
  border-radius: 16px; /* åœ†æ¶¦çš„èƒ¶å›Šå½¢çŠ¶ */
  background-color: #e9ecef;
  color: var(--text-secondary);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  white-space: nowrap; /* é˜²æ­¢æ–‡å­—æ¢è¡Œ */
  transition: all 0.2s ease-in-out;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode .sticker-category-btn {
  background-color: #3a3a3c;
}

/* 3. æ¿€æ´»çŠ¶æ€çš„èƒ¶å›ŠæŒ‰é’® */
.sticker-category-btn.active {
  background-color: var(--accent-color);
  color: white;
  border-color: var(--accent-color);
}

/* 4. åˆ†ç±»ç®¡ç†å¼¹çª—å†…çš„åˆ—è¡¨é¡¹ */
#sticker-category-list label {
  display: block;
  padding: 10px 12px;
  cursor: pointer;
  border-radius: 6px;
}
#sticker-category-list label input {
  margin-right: 8px;
  vertical-align: middle;
}
#sticker-category-list label:hover {
  background-color: #f0f2f5;
}
#phone-screen.dark-mode #sticker-category-list label:hover {
  background-color: #2c2c2e;
}

/* 5. ç¼–è¾‘æ¨¡å¼ä¸‹åº•éƒ¨æ“ä½œæ çš„å¸ƒå±€ */
#sticker-panel-footer {
  display: flex;
  gap: 10px;
}
#sticker-panel-footer button {
  flex: 1; /* è®©ä¸¤ä¸ªæŒ‰é’®å¹³åˆ†å®½åº¦ */
}
/* --- â–¼â–¼â–¼ åœ¨è¿™é‡Œç²˜è´´ä¸‹é¢çš„æ–°æ ·å¼ â–¼â–¼â–¼ --- */

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€ç¾åŒ–ç‰ˆã€‘ä»£ç æ›¿æ¢æ—§çš„ .sticker-category-delete-btn æ ·å¼ â–¼â–¼â–¼ */
.sticker-category-delete-btn {
  display: none;
  position: absolute;
  top: -6px;
  right: -6px;
  width: 20px;
  height: 20px;
  /* â˜… æ ¸å¿ƒä¿®æ”¹1ï¼šèƒŒæ™¯è‰²ä»çº¢è‰²æ”¹ä¸ºåŠé€æ˜çš„æ·±ç°è‰²ï¼Œæ›´æœ‰è´¨æ„Ÿ */
  background-color: rgba(0, 0, 0, 0.4);
  color: white;
  border-radius: 50%;
  font-size: 14px;
  font-weight: bold;
  line-height: 20px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  transition:
    transform 0.2s ease,
    background-color 0.2s; /* æ·»åŠ èƒŒæ™¯è‰²è¿‡æ¸¡ */
  z-index: 1;
}

/* â˜… æ ¸å¿ƒä¿®æ”¹2ï¼šé¼ æ ‡æ‚¬åœæ—¶ï¼ŒèƒŒæ™¯è‰²åŠ æ·±ï¼Œè€Œä¸æ˜¯å˜çº¢ */
.sticker-category-delete-btn:hover {
  background-color: rgba(0, 0, 0, 0.6);
  transform: scale(1.1);
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â–²â–²â–² æ–°æ ·å¼ç²˜è´´ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘ä¸ºè§’è‰²è¡¨æƒ…é¢æ¿å•ç‹¬è®¾ç½®æ›´å°çš„å°ºå¯¸ â–¼â–¼â–¼ */

/* 1. ç¼©å°è§’è‰²è¡¨æƒ…é¢æ¿çš„ç½‘æ ¼å•å…ƒå°ºå¯¸ */
#char-sticker-manager-screen .sticker-grid {
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
}

/* 2. ç¼©å°è§’è‰²è¡¨æƒ…é¢æ¿é‡Œï¼Œæ¯ä¸ªè¡¨æƒ…å›¾ç‰‡å®¹å™¨çš„å°ºå¯¸ */
#char-sticker-manager-screen .sticker-image {
  width: 80px;
  height: 80px;
}

/* â–²â–²â–² æ–°å¢ä»£ç ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ RealImagå¤šå›¾å¸ƒå±€æ ·å¼ â–¼â–¼â–¼ */
/* å¤šå›¾å®¹å™¨ */
.post-images-grid {
  display: grid;
  gap: 8px; /* å›¾ç‰‡ä¹‹é—´çš„å›ºå®šé—´è· */
  margin-top: 10px;
}

/* å•å¼ å›¾ç‰‡ - å¤§å›¾ï¼Œç­‰æ¯”ä¾‹ç¼©æ”¾ */
.post-images-grid.grid-1 {
  grid-template-columns: 1fr;
  justify-items: start;
}
.post-images-grid.grid-1 .realimag-image,
.post-images-grid.grid-1 .naiimag-image {
  max-width: 280px;
  max-height: 280px;
  width: auto;
  height: auto;
}

/* 2å¼ å›¾ç‰‡ - æ¨ªå‘å¹¶æ’ï¼Œç­‰æ¯”ä¾‹ç¼©æ”¾ */
.post-images-grid.grid-2 {
  grid-template-columns: auto auto;
  gap: 5px;
  justify-content: start;
}
.post-images-grid.grid-2 .realimag-image,
.post-images-grid.grid-2 .naiimag-image {
  max-width: 135px;
  max-height: 135px;
  width: auto;
  height: auto;
}

/* 3å¼ å›¾ç‰‡ - æ¨ªå‘æ’åˆ—ï¼Œç­‰æ¯”ä¾‹ç¼©æ”¾ */
.post-images-grid.grid-3 {
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
}
.post-images-grid.grid-3 .realimag-image {
  max-width: 130px;
  max-height: 130px;
  width: auto;
  height: auto;
}

/* 4å¼ å›¾ç‰‡ - 2x2æ–¹æ ¼ï¼Œç­‰æ¯”ä¾‹ç¼©æ”¾ */
.post-images-grid.grid-4 {
  grid-template-columns: repeat(2, 1fr);
  gap: 5px;
}
.post-images-grid.grid-4 .realimag-image {
  max-width: 195px;
  max-height: 195px;
  width: auto;
  height: auto;
}

/* 5å¼ å›¾ç‰‡ - ä¸Š2ä¸‹3ï¼Œç­‰æ¯”ä¾‹ç¼©æ”¾ */
.post-images-grid.grid-5 {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 5px;
}
.post-images-grid.grid-5 .realimag-image:nth-child(1),
.post-images-grid.grid-5 .realimag-image:nth-child(2) {
  grid-column: span 3;
  max-width: 195px;
  max-height: 195px;
  width: auto;
  height: auto;
}
.post-images-grid.grid-5 .realimag-image:nth-child(n + 3) {
  grid-column: span 2;
  max-width: 130px;
  max-height: 130px;
  width: auto;
  height: auto;
}

/* 6å¼ å›¾ç‰‡ - 3x2ç½‘æ ¼ï¼Œç­‰æ¯”ä¾‹ç¼©æ”¾ */
.post-images-grid.grid-6 {
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
}
.post-images-grid.grid-6 .realimag-image {
  max-width: 130px;
  max-height: 130px;
  width: auto;
  height: auto;
}

/* 7-9å¼ å›¾ç‰‡ - 3x3ä¹å®«æ ¼ï¼Œç­‰æ¯”ä¾‹ç¼©æ”¾ */
.post-images-grid.grid-7,
.post-images-grid.grid-8,
.post-images-grid.grid-9 {
  grid-template-columns: repeat(3, 1fr);
  gap: 5px;
}
.post-images-grid.grid-7 .realimag-image,
.post-images-grid.grid-8 .realimag-image,
.post-images-grid.grid-9 .realimag-image {
  max-width: 130px;
  max-height: 130px;
  width: auto;
  height: auto;
}

/* å›¾ç‰‡åŸºç¡€æ ·å¼ - å®Œæ•´æ˜¾ç¤ºï¼Œç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä¸è£å‰ª */
.post-images-grid .realimag-image,
.post-images-grid .naiimag-image {
  object-fit: contain;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.2s;
}
.post-images-grid .realimag-image:hover,
.post-images-grid .naiimag-image:hover {
  transform: scale(1.05);
}
/* â–²â–²â–² RealImagå¤šå›¾å¸ƒå±€æ ·å¼ç»“æŸ â–²â–²â–² */
/* --- æ¡ƒå®â€œæˆ‘çš„â€é¡µé¢äº¤æ˜“æ˜ç»†æ ·å¼ä¼˜åŒ– --- */
.transaction-item {
  /* å°†ä¸»è½´å¯¹é½æ–¹å¼æ”¹ä¸ºå±…ä¸­ï¼Œè®©å·¦å³ä¸¤è¾¹èƒ½å‚ç›´å¯¹é½ */
  align-items: center;
}

.transaction-amount-wrapper {
  display: flex;
  align-items: center;
  gap: 10px; /* åœ¨é‡‘é¢å’Œåˆ é™¤æŒ‰é’®ä¹‹é—´å¢åŠ ä¸€ç‚¹é—´è· */
  margin-left: auto; /* å…³é”®ï¼è®©è¿™ä¸ªå®¹å™¨è‡ªåŠ¨æ¨åˆ°æœ€å³è¾¹ */
}

.delete-transaction-btn {
  background-color: #ffdddd;
  color: #ff3b30;
  border: 1px solid #ffc2d1;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  line-height: 22px; /* å‚ç›´å±…ä¸­å‰å· */
  padding: 0;
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«æŒ¤å‹å˜å½¢ */
}

.delete-transaction-btn:hover {
  background-color: #ffc2d1;
}
#send-location-btn {
  display: flex !important; /* ç¡®ä¿æŒ‰é’®æœ¬èº«æ˜¯å¯è§çš„ */
  background-image: url('data:image/svg+xml;utf8,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>');
  background-size: 60%;
  background-position: center;
  background-repeat: no-repeat;
}
/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºâ€œè¡¨æƒ…åˆ†ç±»åˆ é™¤â€åŠŸèƒ½æ–°å¢çš„CSS â–¼â–¼â–¼ */

/* 1. è®©æ¯ä¸ªåˆ†ç±»æŒ‰é’®æˆä¸ºåˆ é™¤æŒ‰é’®çš„å®šä½å‚è€ƒç‚¹ */
.sticker-category-btn {
  position: relative; /* å…³é”®ï¼*/
  display: inline-flex; /* è®©æŒ‰é’®å†…éƒ¨çš„æ–‡å­—å’Œåˆ é™¤å›¾æ ‡èƒ½å¯¹é½ */
  align-items: center;
  padding-right: 10px; /* ä¸ºå³ä¾§çš„åˆ é™¤æŒ‰é’®ç•™å‡ºä¸€ç‚¹ç©ºé—´ */
}

/* 2. ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œä¸ºåˆ†ç±»æŒ‰é’®æ·»åŠ ä¸€ä¸ªè§†è§‰æç¤º */
#sticker-panel.selection-mode .sticker-category-btn:not(:first-child):hover {
  background-color: #ffe5e5;
  border-color: #ffc2d1;
}

/* â–¼â–¼â–¼ ç”¨è¿™å—ã€ç¾åŒ–ç‰ˆã€‘ä»£ç æ›¿æ¢æ—§çš„ .sticker-category-delete-btn æ ·å¼ â–¼â–¼â–¼ */
.sticker-category-delete-btn {
  display: none;
  position: absolute;
  top: -6px;
  right: -6px;
  width: 20px;
  height: 20px;
  /* â˜… æ ¸å¿ƒä¿®æ”¹1ï¼šèƒŒæ™¯è‰²ä»çº¢è‰²æ”¹ä¸ºåŠé€æ˜çš„æ·±ç°è‰²ï¼Œæ›´æœ‰è´¨æ„Ÿ */
  background-color: rgba(0, 0, 0, 0.4);
  color: white;
  border-radius: 50%;
  font-size: 14px;
  font-weight: bold;
  line-height: 20px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
  transition:
    transform 0.2s ease,
    background-color 0.2s; /* æ·»åŠ èƒŒæ™¯è‰²è¿‡æ¸¡ */
  z-index: 1;
}

/* â˜… æ ¸å¿ƒä¿®æ”¹2ï¼šé¼ æ ‡æ‚¬åœæ—¶ï¼ŒèƒŒæ™¯è‰²åŠ æ·±ï¼Œè€Œä¸æ˜¯å˜çº¢ */
.sticker-category-delete-btn:hover {
  background-color: rgba(0, 0, 0, 0.6);
  transform: scale(1.1);
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* 4. ã€æ ¸å¿ƒã€‘å½“è¡¨æƒ…é¢æ¿å¤„äºç¼–è¾‘æ¨¡å¼æ—¶ï¼Œæ‰æ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
#sticker-panel.selection-mode
  .sticker-category-btn:not(:first-child)
  .sticker-category-delete-btn {
  display: block; /* åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹æ˜¾ç¤º */
}

/* â–²â–²â–² æ–°å¢CSSç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘äº²å¯†å€¼ç³»ç»Ÿç›¸å…³CSSæ ·å¼ â–¼â–¼â–¼ */

/* èŠå¤©åˆ—è¡¨é‡Œçš„äº²å¯†å€¼æŒ‰é’® */
.intimacy-btn {
  font-size: 14px; /* å›¾æ ‡å¤§å° */
  margin-left: 8px; /* å’Œç«èŠ±å›¾æ ‡æ‹‰å¼€ä¸€ç‚¹è·ç¦» */
  cursor: pointer;
  transition: transform 0.2s ease;
  filter: grayscale(0.5); /* é»˜è®¤æ˜¯ç°è‰²ï¼Œçœ‹èµ·æ¥ä¸çªå…€ */
}
.intimacy-btn:hover {
  transform: scale(1.2);
  filter: grayscale(0); /* æ‚¬æµ®æ—¶å˜å½©è‰² */
}

/* äº²å¯†å€¼é¢æ¿æ•´ä½“æ ·å¼ */
#intimacy-panel .modal-content {
  background-color: #f7f3f8; /* æ¸©æŸ”çš„æ·¡ç´«è‰²èƒŒæ™¯ */
  background-image: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.3) 0%,
    rgba(255, 255, 255, 0) 100%
  );
  border: 1px solid #e1dbe6;
  max-width: 340px;
  width: 90%;
  height: auto;
  max-height: 85vh;
}
#intimacy-panel .modal-header span {
  font-weight: 600;
  color: #6a4c95;
}
#intimacy-panel .modal-body {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
#intimacy-panel hr {
  width: 100%;
  border: none;
  border-top: 1px solid #e1dbe6;
  margin: 5px 0;
}
#intimacy-panel h3 {
  font-size: 16px;
  color: #6a4c95;
  margin: 0 0 10px 0;
  border-left: 3px solid #8e6ac5;
  padding-left: 8px;
}

/* äº²å¯†å€¼åˆ†æ•°æ˜¾ç¤ºåŒºåŸŸ */
#intimacy-display {
  text-align: center;
  padding: 10px 0;
}
#intimacy-display p {
  margin: 0;
  font-size: 14px;
  color: #8a8a8a;
}
#intimacy-score-display {
  font-size: 48px;
  font-weight: 700;
  color: #ff69b4; /* æµªæ¼«çš„ç²‰çº¢è‰² */
  text-shadow: 0 2px 8px rgba(255, 105, 180, 0.4);
  margin: 5px 0;
}

/* è¯¦ç»†æ•°æ®å±•ç¤ºåŒºåŸŸ */
#intimacy-details {
  display: flex;
  flex-direction: column;
  gap: 8px;
  font-size: 14px;
}
.detail-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: rgba(255, 255, 255, 0.5);
  padding: 8px 12px;
  border-radius: 8px;
}
.detail-item span:last-child {
  font-weight: 500;
  color: #4a4a4a;
}

/* å¾½ç« åˆ—è¡¨åŒºåŸŸ */
#symbol-list-container {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
}
.symbol-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 60px;
}
.symbol-icon {
  font-size: 32px;
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  background-color: #e9e4ed;
  color: #a9a9a9;
  transition: all 0.3s ease;
  margin-bottom: 5px;
}
.symbol-item.unlocked .symbol-icon {
  background-color: #ffeff7;
  color: #ff69b4;
  transform: scale(1.1);
  box-shadow: 0 4px 10px rgba(255, 105, 180, 0.3);
}
.symbol-name {
  font-size: 12px;
  color: #888;
  text-align: center;
}
.symbol-item.unlocked .symbol-name {
  color: #333;
  font-weight: 500;
}
.symbol-level {
  font-size: 10px;
  color: #aaa;
}

/* è§£é”è®°å½•åŒºåŸŸ */
#unlocked-symbols-record {
  display: flex;
  flex-direction: column;
  gap: 10px;
  max-height: 150px;
  overflow-y: auto;
  background-color: rgba(255, 255, 255, 0.5);
  padding: 10px;
  border-radius: 8px;
}
.record-item {
  font-size: 13px;
  color: #555;
}
.record-item .symbol {
  margin-right: 8px;
}
.record-item .date {
  float: right;
  color: #999;
  font-size: 12px;
}

/* â–²â–²â–² æ–°å¢CSSæ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘äº²å¯†å€¼å¾½ç« ç³»ç»Ÿ v2.1 (å°ºå¯¸è°ƒæ•´ç‰ˆ) CSSæ ·å¼ â–¼â–¼â–¼ */

/* èŠå¤©åˆ—è¡¨é‡Œä½©æˆ´çš„å¾½ç« å›¾ç‰‡ - åŸºç¡€æ ·å¼ */
.intimacy-badge-display img {
  height: 1.1em; /* é»˜è®¤å¤§å°ï¼Œé€‚ç”¨äºâ€œæ˜Ÿå…‰é—ªçƒâ€å’Œâ€œçƒ­æƒ…å¦‚ç«â€ */
  vertical-align: middle;
  margin-left: 5px;
}

/* â˜…â˜…â˜… è¿™å°±æ˜¯æˆ‘ä»¬æœ¬æ¬¡æ–°å¢çš„æ ¸å¿ƒä»£ç  â˜…â˜…â˜… */
/* ä¸ºéœ€è¦ç¼©å°çš„å¾½ç« è®¾ç½®ä¸€ä¸ªæ›´å°çš„é«˜åº¦ */
.intimacy-badge-display img.first_heartbeat,
.intimacy-badge-display img.only_crown,
.intimacy-badge-display img.eternal_diamond {
  height: 0.9em; /* ä½ å¯ä»¥è°ƒæ•´è¿™ä¸ªå€¼ï¼Œæ¯”å¦‚ 0.95em æˆ– 1em */
}
/* â˜…â˜…â˜… æ–°å¢ä»£ç ç»“æŸ â˜…â˜…â˜… */

/* äº²å¯†å€¼é¢æ¿ - å¾½ç« åˆ—è¡¨å®¹å™¨ */
#symbol-list-container {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
}

/* äº²å¯†å€¼é¢æ¿ - å•ä¸ªå¾½ç« é¡¹ç›® */
.symbol-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 60px;
  cursor: pointer;
  transition: transform 0.2s ease;
}
.symbol-item:hover {
  transform: translateY(-3px);
}

/* äº²å¯†å€¼é¢æ¿ - å¾½ç« å›¾æ ‡å®¹å™¨ */
.symbol-icon {
  width: 50px;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  background-color: #e9e4ed;
  border: 2px solid transparent;
  transition: all 0.3s ease;
  margin-bottom: 5px;
  overflow: hidden;
}
.symbol-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.symbol-icon.not-unlocked img {
  filter: grayscale(1);
  opacity: 0.6;
}

/* è§£é”åçš„å¾½ç« æ ·å¼ */
.symbol-item.unlocked .symbol-icon {
  background-color: #ffeff7;
  transform: scale(1.1);
  box-shadow: 0 4px 10px rgba(255, 105, 180, 0.3);
}
.symbol-item.unlocked .symbol-icon img {
  filter: grayscale(0);
  opacity: 1;
}

/* è¢«ä½©æˆ´çš„å¾½ç« çš„ç‰¹æ®Šæ ·å¼ */
.symbol-item.selected .symbol-icon {
  border-color: #ff69b4;
  box-shadow: 0 0 15px rgba(255, 105, 180, 0.7);
}

/* å¾½ç« åç§° */
.symbol-name {
  font-size: 12px;
  color: #888;
  text-align: center;
}
.symbol-item.unlocked .symbol-name {
  color: #333;
  font-weight: 500;
}

/* è§£é”ç­‰çº§ */
.symbol-level {
  font-size: 10px;
  color: #aaa;
}

/* "ä¸ä½©æˆ´" æŒ‰é’®çš„ç‰¹æ®Šæ ·å¼ */
.symbol-icon.no-badge {
  font-size: 32px;
  background: #ddd;
  color: #fff;
}
/* â–²â–²â–² æ–°å¢CSSæ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ åœ¨ <style> æ ‡ç­¾å†…ç²˜è´´ â–¼â–¼â–¼ */

/* è¿™æ˜¯ä¸ºå¼‚æ­¥åŠ è½½å›¾ç‰‡æ–°å¢çš„å®¹å™¨æ ·å¼ */
.product-card .product-image-container {
  width: 100%;
  /* æˆ‘ä»¬è®©é«˜åº¦ç­‰äºå®½åº¦ï¼Œå®ç°1:1çš„æ­£æ–¹å½¢æ¯”ä¾‹ */
  padding-bottom: 100%;
  position: relative;
  background-color: #f0f2f5; /* åŠ è½½æ—¶çš„å ä½èƒŒæ™¯è‰² */
  border-radius: 8px 8px 0 0;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* åŠ è½½åŠ¨ç”»æ ·å¼ (ä½ å¯ä»¥å¤ç”¨å…¶ä»–åœ°æ–¹çš„) */
.product-card .loading-spinner {
  width: 24px;
  height: 24px;
  border: 3px solid rgba(0, 0, 0, 0.1);
  border-top-color: var(--accent-color, #007bff);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* ç¡®ä¿å›¾ç‰‡èƒ½æ­£ç¡®å¡«å……å®¹å™¨ */
.product-card .product-image-container img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* â–¼â–¼â–¼ ã€è¡¨æƒ…åŒ…ç™½åº•/è¾¹æ¡†ç»ˆæä¿®å¤ã€‘è¯·å°†è¿™å—ä»£ç ç²˜è´´åˆ°æ ·å¼æœ«å°¾ â–¼â–¼â–¼ */

/* 
  æ ¸å¿ƒåŸç†ï¼š
  è¿™ä¸ªé€‰æ‹©å™¨éå¸¸ç²¾ç¡®åœ°æŒ‡å‘äº†â€œä½œä¸ºè¡¨æƒ…åŒ…çš„æ°”æ³¡â€å†…éƒ¨çš„â€œå†…å®¹åŒºåŸŸâ€ï¼Œ
  å¹¶ç”¨ !important å¼ºåˆ¶è¦†ç›–æ‰æ‰€æœ‰å¯èƒ½çš„ä¸»é¢˜æ ·å¼ï¼Œè®©å®ƒå½»åº•â€œæ¶ˆå¤±â€ã€‚
*/
.message-bubble.is-sticker .content {
  padding: 0 !important; /* å¼ºåˆ¶ç§»é™¤å†…è¾¹è· */
  background: transparent !important; /* å¼ºåˆ¶ç§»é™¤èƒŒæ™¯ */
  border: none !important; /* å¼ºåˆ¶ç§»é™¤è¾¹æ¡† */
  box-shadow: none !important; /* å¼ºåˆ¶ç§»é™¤é˜´å½± */
}

/* â–²â–²â–² ä¿®å¤ç»“æŸ â–²â–²â–² */
/* å¤–å–å¡ç‰‡å¤‡æ³¨æ ·å¼ */
.waimai-remark {
  margin-top: 12px;
  padding-top: 8px;
  border-top: 1px dashed rgba(0, 0, 0, 0.1);
  font-size: 13px;
  text-align: left;
}
.waimai-remark .remark-label {
  font-weight: 600;
  color: #007bff; /* é¥¿äº†ä¹ˆè“ */
  margin-right: 5px;
}
.waimai-remark .remark-text {
  color: #333;
}
/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºâ€œé¦–é¡µâ€æœç´¢æ æ–°å¢çš„ç¾åŒ–ä»£ç  â–¼â–¼â–¼ */

/* 1. æŠŠé¦–é¡µçš„æœç´¢æ å®¹å™¨å˜æˆä¸€ä¸ªåœ†æ¶¦çš„ç™½è‰²â€œèƒ¶å›Šâ€ */
#products-view .taobao-search-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  background-color: white;
  padding: 6px 8px;
  border-radius: 25px; /* å¤§åœ†è§’ï¼Œå½¢æˆèƒ¶å›Šå½¢çŠ¶ */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08); /* åŠ ä¸€ç‚¹æ·¡æ·¡çš„é˜´å½± */
  /* ç§»é™¤æ—§çš„è¾¹æ¡†å’Œå†…è¾¹è·ï¼Œä»¥æ–°æ ·å¼ä¸ºå‡† */
  border: none;
  margin-bottom: 15px; /* å’Œä¸‹æ–¹çš„åˆ†ç±»ä¿æŒä¸€ç‚¹è·ç¦» */
}

/* 2. ç¾åŒ–é¦–é¡µçš„è¾“å…¥æ¡†ï¼Œè®©å®ƒâ€œèå…¥â€ç™½è‰²èƒ¶å›ŠèƒŒæ™¯ */
#products-view #product-search-input {
  flex-grow: 1; /* å æ®æ‰€æœ‰å¯ç”¨ç©ºé—´ */
  border: none; /* å»æ‰å®ƒè‡ªå·±çš„è¾¹æ¡† */
  background: transparent; /* èƒŒæ™¯é€æ˜ */
  outline: none; /* å»æ‰ç‚¹å‡»æ—¶çš„è½®å»“çº¿ */
  padding: 8px; /* ç»™æ–‡å­—ä¸€ç‚¹å‘¼å¸çš„ç©ºé—´ */
  font-size: 15px;
  color: #333;
}

/* 3. ç¾åŒ–é¦–é¡µçš„â€œæœç´¢â€æŒ‰é’® */
#products-view #product-search-btn {
  background-color: #ff5722; /* æ·˜å®æ©™è‰² */
  color: white;
  border: none;
  border-radius: 18px; /* è®©æŒ‰é’®ä¹Ÿå˜åœ†æ¶¦ */
  padding: 8px 15px;
  font-weight: 500;
  cursor: pointer;
}

/* â–²â–²â–² ç²˜è´´åˆ°è¿™é‡Œç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºâ€œé¥¿äº†ä¹ˆâ€æœç´¢æ æ–°å¢çš„å¸ƒå±€å’Œç¾åŒ–ä»£ç  â–¼â–¼â–¼ */

/* 1. å°†é¥¿äº†ä¹ˆçš„æœç´¢æ€»å®¹å™¨æ”¹ä¸ºå‚ç›´æ’åˆ—ï¼Œè®©ä¸¤ç»„æŒ‰é’®ä¸Šä¸‹å †å  */
#eleme-view .taobao-search-bar {
  display: flex;
  flex-direction: column; /* æ”¹ä¸ºå‚ç›´æ’åˆ— */
  gap: 12px; /* è®¾ç½®ä¸¤è¡Œä¹‹é—´çš„å‚ç›´é—´è· */
  background-color: transparent; /* ç§»é™¤å®¹å™¨æœ¬èº«çš„èƒŒæ™¯å’Œè¾¹æ¡† */
  padding: 0;
  box-shadow: none;
  border: none;
}

/* 2. ä¸ºç¬¬ä¸€è¡Œï¼ˆæœç´¢æ¡†+æœç´¢æŒ‰é’®ï¼‰è®¾ç½®å’Œé¦–é¡µä¸€æ ·çš„â€œèƒ¶å›Šâ€æ ·å¼ */
.eleme-search-group {
  display: flex;
  background-color: white;
  padding: 5px;
  border-radius: 25px; /* åœ†æ¶¦çš„èƒ¶å›Šå½¢çŠ¶ */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.eleme-search-group #eleme-search-input {
  flex-grow: 1;
  border: none;
  background: transparent;
  outline: none;
  padding: 8px;
  font-size: 15px;
}

.eleme-search-group #eleme-search-btn {
  background-color: #ff5722; /* æ·˜å®æ©™ */
  color: white;
  border: none;
  border-radius: 18px; /* æŒ‰é’®ä¹Ÿå˜åœ†æ¶¦ */
  padding: 8px 15px;
  font-weight: 500;
  cursor: pointer;
}

/* 3. ä¸ºç¬¬äºŒè¡Œï¼ˆä¸‰ä¸ªåŠŸèƒ½æŒ‰é’®ï¼‰è®¾ç½®å¸ƒå±€ï¼Œè®©å®ƒä»¬å±…ä¸­å¹¶æ’ */
.eleme-actions-group {
  display: flex; /* ä½¿ç”¨flexå¸ƒå±€ */
  justify-content: center; /* æ•´ä½“å±…ä¸­ */
  gap: 10px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
}

/* 4. ç¾åŒ–ç¬¬äºŒè¡Œçš„ä¸‰ä¸ªåŠŸèƒ½æŒ‰é’® */
.eleme-actions-group button {
  flex: 1; /* è®©ä¸‰ä¸ªæŒ‰é’®å¹³åˆ†å®½åº¦ï¼Œæ’åˆ—æ›´æ•´é½ */
  padding: 10px; /* å¢åŠ æŒ‰é’®çš„é«˜åº¦ */
  border-radius: 12px; /* å¯çˆ±çš„åœ†è§’ */
  border: 1px solid #e0e0e0;
  background-color: white;
  font-size: 16px;
  font-weight: 500;
  color: #555;
  cursor: pointer;
  transition: all 0.2s ease;
}

/* ä¸ºæŒ‰é’®æ·»åŠ ä¸€ä¸ªæ¼‚äº®çš„ç‚¹å‡»æ•ˆæœ */
.eleme-actions-group button:active {
  transform: scale(0.95);
  background-color: #f0f0f0;
}

/* é€‚é…å¤œé—´æ¨¡å¼ */
#phone-screen.dark-mode .eleme-search-group {
  background-color: #2c2c2e;
}
#phone-screen.dark-mode .eleme-search-group #eleme-search-input {
  color: white;
}
#phone-screen.dark-mode .eleme-actions-group button {
  background-color: #2c2c2e;
  border-color: #38383a;
  color: white;
}

/* â–²â–²â–² æ–°å¢ä»£ç ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ è¿™æ˜¯ä¸ºä½ è®¾è®¡çš„â€œé¥¿äº†ä¹ˆâ€åŠŸèƒ½æŒ‰é’®ç¾åŒ–æ ·å¼ v3.0 (å°å·§ç‰ˆ) â–¼â–¼â–¼ */

/* 1. ä¸ºæŒ‰é’®çš„å®¹å™¨å¢åŠ ä¸€ä¸ªä¸‹è¾¹è· */
.eleme-actions-group {
  margin-bottom: 15px;
}

/* 2. é‡æ–°å®šä¹‰æŒ‰é’®çš„æ ·å¼ï¼Œè®©å®ƒå˜å° */
.eleme-actions-group button {
  /* --- æ ¸å¿ƒä¿®æ”¹åœ¨è¿™é‡Œ --- */
  width: 90px; /* æ–°å¢ï¼šç»™æŒ‰é’®ä¸€ä¸ªå›ºå®šçš„ã€å°å·§çš„å®½åº¦ */
  padding: 6px 0; /* ä¿®æ”¹ï¼šå‡å°‘äº†ä¸Šä¸‹çš„å†…è¾¹è·ï¼Œè®©æŒ‰é’®å˜çŸ® */
  font-size: 15px; /* ä¿®æ”¹ï¼šç¨å¾®ç¼©å°å­—ä½“ */

  background-color: transparent;
  border: 1.5px solid #ff9a69;
  color: #ff5722;
  border-radius: 20px;
  font-weight: 600;
  transition: all 0.2s ease;

  /* ç§»é™¤ä¹‹å‰è®©æŒ‰é’®è‡ªåŠ¨æ‹‰ä¼¸çš„å±æ€§ */
  flex: none; /* æˆ–è€…ç›´æ¥åˆ é™¤ flex: 1 é‚£ä¸€è¡Œ */
}

/* 3. å•ç‹¬å¾®è°ƒ "+" æŒ‰é’®ï¼Œè®©å®ƒçœ‹èµ·æ¥æ›´èˆ’æœ */
#eleme-add-manual-btn {
  font-size: 22px; /* æŠŠåŠ å·æœ¬èº«æ”¾å¤§ä¸€ç‚¹ï¼Œè§†è§‰ä¸Šæ›´å¹³è¡¡ */
  line-height: 1; /* è¾…åŠ©å‚ç›´å±…ä¸­ */
}

/* 4. äº¤äº’æ•ˆæœä¿æŒä¸å˜ */
.eleme-actions-group button:hover {
  background-color: #ff5722;
  color: white;
  border-color: #ff5722;
}

.eleme-actions-group button:active {
  transform: scale(0.96);
  opacity: 0.9;
}

/* 5. é€‚é…å¤œé—´æ¨¡å¼ */
#phone-screen.dark-mode .eleme-actions-group button {
  background-color: transparent;
  border-color: #ff9a69;
  color: #ff9a69;
}

#phone-screen.dark-mode .eleme-actions-group button:hover {
  background-color: #ff5722;
  color: white;
}

/* â–²â–²â–² æ–°å¢ä»£ç ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ç”¨è¿™æ•´å—ä»£ç ï¼Œæ›¿æ¢æ‰æ‰€æœ‰æ—§çš„ waimai-meituan-card å’Œ waimai-gift-card æ ·å¼ â–¼â–¼â–¼ */

/* ======================================= */
/* === ã€å…¨æ–° | ç»Ÿä¸€é£æ ¼ã€‘å¤–å–å¡ç‰‡æ ·å¼ === */
/* ======================================= */

/* 1. å°†ä¸¤ä¸ªå¡ç‰‡çš„æ ·å¼åˆå¹¶ï¼Œç¡®ä¿å®½åº¦ä¸€è‡´ */
.waimai-meituan-card {
  width: 240px; /* ç»Ÿä¸€å®½åº¦ä¸º240px */
  border-radius: 12px;
  overflow: hidden;
  background-color: #fff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

/* 2. ç»Ÿä¸€è®¾ç½®å¤´éƒ¨çš„æ ·å¼ï¼ˆç¾å›¢é»„ï¼ï¼‰ */
.waimai-meituan-card .gift-card-header {
  /* å…¼å®¹ä¸¤ç§ä¸åŒçš„å¤´éƒ¨classå */
  background-color: #ffd100; /* ç¾å›¢é»„ */
  color: #333333;
  padding: 10px 15px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.waimai-meituan-card .gift-card-header .icon {
  font-size: 24px;
  line-height: 1;
}

/* 3. ã€æ ¸å¿ƒä¿®å¤ã€‘è®©æ ‡é¢˜å¯ä»¥è‡ªåŠ¨æ¢è¡Œ */
.waimai-meituan-card .gift-card-header .title {
  font-weight: 600;
  font-size: 15px;
  flex-grow: 1; /* å…è®¸æ ‡é¢˜å æ®å‰©ä½™ç©ºé—´ */
  min-width: 0; /* flexå¸ƒå±€ä¸‹æ¢è¡Œçš„å…³é”® */
  white-space: normal; /* å…è®¸æ¢è¡Œ */
}

/* 4. ç»Ÿä¸€å†…å®¹åŒºåŸŸçš„æ ·å¼ */
.waimai-meituan-card .gift-card-body {
  padding: 15px;
}

.waimai-meituan-card .greeting {
  font-weight: bold;
  font-size: 16px;
  color: #333;
  margin: 0 0 4px 0;
}

.waimai-meituan-card .gift-card-body p:not(.greeting) {
  font-size: 13px;
  color: #888;
  margin: 0;
}

.waimai-meituan-card .waimai-remark {
  margin-top: 12px;
  padding-top: 8px;
  border-top: 1px dashed #e0e0e0;
  font-size: 13px;
  text-align: left;
  color: #555;
}
.waimai-meituan-card .waimai-remark .remark-label {
  font-weight: 600;
  color: #8a8a8a;
  margin-right: 5px;
}

/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æƒ…ä¾£ç©ºé—´ - ä»Šæ—¥è¶³è¿¹æ ·å¼ â–¼â–¼â–¼ */

/* ç”ŸæˆæŒ‰é’®çš„å®¹å™¨ */
.ls-activity-generate-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
  text-align: center;
  color: var(--text-secondary);
}

.ls-activity-generate-container p {
  margin-bottom: 20px;
  font-size: 16px;
}

.ls-activity-generate-container .hint {
  font-size: 12px;
  color: #b0b0b0;
  margin-top: 10px;
}

#ls-generate-activity-btn {
  padding: 12px 24px;
  font-size: 16px;
  font-weight: bold;
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);
  transition: all 0.2s ease;
}

#ls-generate-activity-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 15px rgba(0, 123, 255, 0.4);
}

/* æ´»åŠ¨åˆ—è¡¨æ ·å¼ */
#ls-activity-list {
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.ls-activity-item {
  display: flex;
  align-items: flex-start;
  gap: 15px;
}

.activity-icon {
  flex-shrink: 0;
  width: 40px;
  height: 40px;
  font-size: 20px;
  background-color: #f0f2f5;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.activity-content {
  padding-top: 2px;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 20px;
  flex-grow: 1;
}

.ls-activity-item:last-child .activity-content {
  border-bottom: none;
}

.activity-time {
  font-weight: 600;
  color: var(--text-primary);
}

.activity-description {
  margin: 4px 0 0 0;
  color: var(--text-secondary);
  line-height: 1.5;
}

/* â–²â–²â–² ä»Šæ—¥è¶³è¿¹æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€ä¼˜åŒ–ç‰ˆã€‘è¿™æ˜¯æ¯æ—¥è¶³è¿¹çš„èƒ¶å›Šæ°”æ³¡æ ·å¼ â–¼â–¼â–¼ */

/* åˆ—è¡¨æ€»å®¹å™¨æ ·å¼ï¼ˆä¿æŒä¸å˜ï¼‰ */
#ls-activity-list {
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* â–¼â–¼â–¼ è¿™æ˜¯ã€ç»ç’ƒè´¨æ„Ÿä¿®å¤ç‰ˆã€‘çš„èƒ¶å›Šæ°”æ³¡æ ·å¼ â–¼â–¼â–¼ */
.ls-activity-item {
  position: relative; /* å®šä½åŸºå‡†ï¼Œä¿æŒä¸å˜ */

  /* --- æ ¸å¿ƒä¿®æ”¹ï¼šå®ç°ç»ç’ƒè´¨æ„Ÿ --- */
  background-color: rgba(255, 255, 255, 0.15); /* 1. åŠé€æ˜çš„ç™½è‰²èƒŒæ™¯ */
  backdrop-filter: blur(10px) saturate(1.5); /* 2. æ ¸å¿ƒï¼æ¯›ç»ç’ƒæ¨¡ç³Šæ•ˆæœå¹¶å¢åŠ ä¸€ç‚¹é¥±å’Œåº¦ */
  -webkit-backdrop-filter: blur(10px) saturate(1.5); /* å…¼å®¹ Safari æµè§ˆå™¨ */
  border: 1px solid rgba(255, 255, 255, 0.2); /* 3. ä¸€ä¸ªéå¸¸å¾®å¦™çš„äº®è‰²è¾¹æ¡†ï¼Œæ¨¡æ‹Ÿç»ç’ƒè¾¹ç¼˜ */
  /* --- ä¿®æ”¹ç»“æŸ --- */

  border-radius: 50px; /* èƒ¶å›Šå½¢çŠ¶ï¼Œä¿æŒä¸å˜ */
  padding: 12px 20px 12px 75px; /* å†…è¾¹è·ï¼Œä¿æŒä¸å˜ */
  display: flex;
  align-items: center;
  gap: 12px;
  min-height: 38px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* å¯ä»¥ä¿ç•™ä¸€ä¸ªæ›´æŸ”å’Œçš„é˜´å½± */
}
/* â–²â–²â–² æ›¿æ¢ç»“æŸ â–²â–²â–² */

/* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ 1ï¼šè°ƒæ•´æ—¶é—´æˆ³çš„ä½ç½®å’Œå¤–è§‚ â˜…â˜…â˜… */
.ls-activity-item .activity-time {
  position: absolute;
  left: 20px; /* è·ç¦»å·¦è¾¹ç¼˜20px */
  top: 13px; /* è·ç¦»é¡¶éƒ¨13pxï¼Œä½¿å…¶åœ¨è§†è§‰ä¸Šæ›´åè°ƒ */
  /* ç§»é™¤äº† transform å’Œå‚ç›´å±…ä¸­çš„ä»£ç  */

  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary);
  /* ç§»é™¤äº†èƒŒæ™¯è‰²ï¼Œè®©å®ƒæ›´çº¯å‡€ */
  padding: 0;
  background-color: transparent;
}

/* â˜…â˜…â˜… æ ¸å¿ƒä¿®æ”¹ 2ï¼šç¡®ä¿ Emoji å›¾æ ‡æœ¬èº«æ²¡æœ‰èƒŒæ™¯ â˜…â˜…â˜… */
.ls-activity-item .activity-icon {
  font-size: 20px;
  background: none; /* æ˜ç¡®è®¾ç½®èƒŒæ™¯ä¸ºæ— ï¼Œé˜²æ­¢æ„å¤–æ ·å¼ */
}

/* ä¸­é—´ä¸»è¦å†…å®¹çš„å®¹å™¨ï¼ˆä¿æŒä¸å˜ï¼‰ */
.ls-activity-item .activity-content {
  display: flex;
  flex-direction: column;
  justify-content: center;
  line-height: 1.4;
}

/* æè¿°æ–‡å­—çš„æ ·å¼ï¼ˆä¿æŒä¸å˜ï¼‰ */
.ls-activity-item .activity-description {
  margin: 0;
  color: var(--text-primary);
  font-size: 14px;
}

/* æ—¶é•¿æ–‡å­—çš„æ ·å¼ï¼ˆä¿æŒä¸å˜ï¼‰ */
.ls-activity-item .activity-duration {
  font-size: 12px;
  color: var(--text-secondary);
}

/* â–²â–²â–² æ ·å¼æ›¿æ¢ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘æƒ…ä¾£ç©ºé—´ - ä»Šæ—¥è¶³è¿¹HTMLå°å‰§åœºæ ·å¼ â–¼â–¼â–¼ */

/* å°å‰§åœºå¡ç‰‡çš„é€šç”¨å®¹å™¨æ ·å¼ */
.ls-activity-snippet {
  width: 85%;
  max-width: 280px; /* é™åˆ¶æœ€å¤§å®½åº¦ï¼Œé¿å…åœ¨å®½å±ä¸Šå¤ªä¸‘ */
  margin: 10px auto 25px auto; /* ä¸Šä¸‹è¾¹è·ï¼Œå·¦å³è‡ªåŠ¨å±…ä¸­ */
  padding: 15px;
  border-radius: 12px;
  background-color: #ffffff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
    Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  color: #333;
}

/* ç”µå½±ç¥¨æ ¹çš„ä¸“å±æ ·å¼ */
.movie-ticket {
  padding: 0;
  border: 1px dashed #ccc;
  position: relative;
}
.movie-ticket::before,
.movie-ticket::after {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: var(--secondary-bg, #f0f2f5); /* ç¡®ä¿å’ŒèƒŒæ™¯è‰²ä¸€è‡´ */
  border-radius: 50%;
  border: 1px dashed #ccc;
}
.movie-ticket::before {
  top: 50%;
  left: -11px;
  transform: translateY(-50%);
}
.movie-ticket::after {
  top: 50%;
  right: -11px;
  transform: translateY(-50%);
}
.movie-ticket .ticket-header {
  background-color: #d82626;
  color: white;
  font-weight: bold;
  text-align: center;
  padding: 8px;
  border-top-left-radius: 11px;
  border-top-right-radius: 11px;
}
.movie-ticket .ticket-body {
  padding: 15px;
  text-align: center;
}
.movie-ticket .ticket-body h3 {
  margin: 0 0 8px 0;
  font-size: 18px;
}
.movie-ticket .ticket-body p {
  margin: 0;
  font-size: 13px;
  color: #555;
}

/* è´­ç‰©å°ç¥¨/æ”¶æ®çš„ä¸“å±æ ·å¼ */
.receipt {
  padding: 10px;
  background-color: #fffaf0; /* æ·¡é»„è‰²èƒŒæ™¯ */
  border: 1px solid #eee;
  font-family: "Courier New", Courier, monospace; /* ä½¿ç”¨ç­‰å®½å­—ä½“ï¼Œæ›´åƒå°ç¥¨ */
}
.receipt .receipt-header {
  text-align: center;
  font-weight: bold;
  padding-bottom: 8px;
  border-bottom: 1px dashed #ccc;
  margin-bottom: 8px;
}
.receipt ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.receipt ul li {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
  line-height: 1.8;
}
.receipt .receipt-total {
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px dashed #ccc;
  display: flex;
  justify-content: space-between;
  font-size: 14px;
}

/* â–²â–²â–² æ ·å¼æ·»åŠ ç»“æŸ â–²â–²â–² */
/* ã€å…¨æ–°ã€‘æ¯æ—¥è¶³è¿¹ - é¡¶éƒ¨æ ·å¼ */
.ls-activity-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 15px;
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 12px;
  margin: 10px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  backdrop-filter: blur(5px);
}

.ls-activity-date-display {
  font-size: 16px;
  font-weight: bold;
  color: var(--text-primary);
}

#ls-activity-calendar-icon {
  cursor: pointer;
  transition: transform 0.2s;
}
#ls-activity-calendar-icon:hover {
  transform: scale(1.1);
}

/* ã€å…¨æ–°ã€‘æ¯æ—¥è¶³è¿¹ - æ—¥å†å¼¹çª—ä¸“å±æ ·å¼ */
.ls-calendar-day.has-activity {
  background-color: #fff0f5; /* æœ‰è¶³è¿¹çš„æ—¥æœŸï¼Œç»™ä¸€ä¸ªæ·¡æ·¡çš„ç²‰è‰²èƒŒæ™¯ */
  border-radius: 8px;
  position: relative;
}
.activity-dot {
  font-size: 12px; /* å¯çˆ±çš„å°çˆªå° ğŸ¾ */
  position: absolute;
  bottom: 2px;
  right: 4px;
  line-height: 1;
}
#character-chat-list.list-container {
  flex-grow: 1; /* è®©å®ƒå æ®æ‰€æœ‰å‰©ä½™çš„å‚ç›´ç©ºé—´ */
  overflow-y: auto; /* å½“å†…å®¹è¶…å‡ºæ—¶ï¼Œè‡ªåŠ¨æ˜¾ç¤ºå‚ç›´æ»šåŠ¨æ¡ */
  min-height: 0; /* è§£å†³Flexå¸ƒå±€ä¸‹çš„æ»šåŠ¨å…¼å®¹æ€§é—®é¢˜ï¼Œè¿™æ˜¯è¿™æ¬¡ä¿®å¤æœ€å…³é”®çš„ä¸€è¡Œï¼ */
  padding: 0; /* ä¿æŒä½ çš„å†…è”æ ·å¼ï¼Œç§»é™¤å†…è¾¹è· */
  background-color: var(--secondary-bg); /* æ·»åŠ ä¸€ä¸ªèƒŒæ™¯è‰²ï¼Œä¸é¡µé¢ç»Ÿä¸€ */
}

/* å¤œé—´æ¨¡å¼é€‚é…ï¼Œç¡®ä¿æ»šåŠ¨åŒºåŸŸçš„èƒŒæ™¯è‰²åœ¨å¤œé—´æ¨¡å¼ä¸‹ä¹Ÿæ­£ç¡® */
#phone-screen.dark-mode #character-chat-list.list-container {
  background-color: #000000;
}

/* â–¼â–¼â–¼ å°å‰§åœºåŠŸèƒ½ä¸“å±CSS â–¼â–¼â–¼ */

/* å‰§æœ¬åˆ—è¡¨æ ·å¼ */
#studio-script-list {
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.studio-script-item {
  background-color: var(--secondary-bg, #fff);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  cursor: pointer;
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
}
.studio-script-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}
.studio-script-item .title {
  font-weight: 600;
  font-size: 16px;
  color: var(--text-primary);
  margin-bottom: 8px;
}
.studio-script-item .goal {
  font-size: 14px;
  color: var(--text-secondary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* è§’è‰²é€‰æ‹©å¼¹çª—çš„è§’è‰²æè¿°æ ·å¼ */
.role-description {
  font-size: 13px;
  color: var(--text-secondary);
  background-color: rgba(0, 0, 0, 0.05);
  padding: 8px;
  border-radius: 6px;
  margin-bottom: 10px;
  max-height: 60px;
  overflow-y: auto;
  white-space: pre-wrap;
  line-height: 1.6;
}

/* å°è¯´åˆ†äº«å¼¹çª—å†…å®¹åŒºæ ·å¼ */
#studio-novel-content {
  background-color: var(--secondary-bg, #f9f9f9) !important;
  color: var(--text-primary);
}

.player-selection-group {
  display: flex;
  gap: 20px;
  margin: 10px 0;
}
.player-selection-group label {
  display: flex;
  align-items: center;
  gap: 5px;
  cursor: pointer;
}

/* è§’è‰²æ‰®æ¼”ç•Œé¢ç¾åŒ– */
#studio-play-screen {
  /* ä½¿ç”¨Flexå¸ƒå±€è®©è¾“å…¥æ¡†èƒ½å›ºå®šåœ¨åº•éƒ¨ */
  display: flex;
  flex-direction: column;
}
#studio-play-messages {
  background-color: var(--secondary-bg, #f0f2f5); /* ç»Ÿä¸€èŠå¤©èƒŒæ™¯è‰² */
  padding: 15px;
  flex-grow: 1; /* è®©æ¶ˆæ¯åŒºåŸŸå æ®æ‰€æœ‰å¯ç”¨ç©ºé—´ */
  overflow-y: auto; /* å†…å®¹è¶…å‡ºæ—¶å¯æ»šåŠ¨ */
}

/* è¾“å…¥æ¡†åŒºåŸŸç°åœ¨æ˜¯flexå¸ƒå±€çš„å›ºå®šé¡¹ */
#studio-play-input-area {
  flex-shrink: 0; /* é˜²æ­¢è¾“å…¥æ¡†è¢«å‹ç¼© */
}

.message-wrapper.studio-system {
  justify-content: center;
  padding: 5px 20px;
  margin: 10px 0;
}
.message-bubble.studio-system-bubble {
  background-color: rgba(0, 0, 0, 0.1);
  color: var(--text-secondary);
  font-size: 13px;
  padding: 8px 12px;
  border-radius: 12px;
  max-width: 80%;
  text-align: center;
  line-height: 1.6;
}

/* â–²â–²â–² å°å‰§åœºCSSç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å°å‰§åœºåŠŸèƒ½ä¸“å±ç¾åŒ–æ ·å¼ v1.0 â–¼â–¼â–¼ */

/* --- 1. æ¼”ç»ç•Œé¢æ€»å®¹å™¨ --- */
#studio-play-screen {
  /* æ ¸å¿ƒï¼šä½¿ç”¨æ·±è‰²æ¸å˜èƒŒæ™¯ï¼Œå¹¶å åŠ ä¸€å±‚å™ªç‚¹çº¹ç†ï¼Œè¥é€ ç”µå½±æ„Ÿ */
  background-color: #1f2023;
  background-image:
    radial-gradient(ellipse at 50% 0%, rgba(61, 64, 77, 0.9), transparent),
    url("https://www.transparenttextures.com/patterns/black-felt.png");
  color: #fff;
  display: flex; /* ç¡®ä¿flexå¸ƒå±€ç”Ÿæ•ˆ */
  flex-direction: column;
}

#phone-screen.dark-mode #studio-play-screen {
  background-color: #0d0d0f; /* å¤œé—´æ¨¡å¼ä¸‹æ›´æ·±é‚ƒ */
}

/* --- 2. æ¶ˆæ¯å±•ç¤ºåŒºåŸŸ --- */
#studio-play-messages {
  background-color: transparent; /* èƒŒæ™¯é€æ˜ï¼Œä»¥æ˜¾ç¤ºçˆ¶å®¹å™¨çš„èƒŒæ™¯å›¾ */
  padding: 15px;
  gap: 18px; /* å¢å¤§æ¶ˆæ¯ä¹‹é—´çš„é—´è· */
  /* ä¸ºé¡¶éƒ¨å’Œåº•éƒ¨ç•™å‡ºå®‰å…¨åŒºå’Œæ“ä½œåŒºç©ºé—´ */
  padding-top: calc(80px + env(safe-area-inset-top));
  padding-bottom: calc(80px + env(safe-area-inset-bottom));
}

/* --- 3. æ—ç™½/ç³»ç»Ÿæ¶ˆæ¯æ°”æ³¡ (ç”µå½±å­—å¹•é£æ ¼) --- */
.message-wrapper.studio-system {
  justify-content: center;
  padding: 5px 20px;
  margin: 8px 0;
}
.message-bubble.studio-system-bubble {
  background-color: rgba(18, 18, 20, 0.6); /* åŠé€æ˜æ·±ç°è‰²èƒŒæ™¯ */
  backdrop-filter: blur(5px);
  -webkit-backdrop-filter: blur(5px);
  color: #e2e2e2;
  font-size: 14px;
  padding: 10px 15px;
  border-radius: 8px; /* ä½¿ç”¨åœ†è§’çŸ©å½¢ï¼Œè€Œéèƒ¶å›Š */
  max-width: 90%;
  text-align: left; /* æ”¹ä¸ºå·¦å¯¹é½ï¼Œæ›´åƒå­—å¹• */
  line-height: 1.7;
  font-family: Georgia, "Times New Roman", serif; /* ä½¿ç”¨è¡¬çº¿å­—ä½“ï¼Œæ›´æœ‰æ•…äº‹æ„Ÿ */
  font-style: italic; /* æ–œä½“ï¼Œå¢åŠ å™äº‹æ„Ÿ */
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* --- 4. è§’è‰²å¯¹è¯æ°”æ³¡ (æ›´ç²¾è‡´çš„æ ·å¼) --- */
#studio-play-messages .message-bubble .content {
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* AIè§’è‰²çš„æ°”æ³¡ */
#studio-play-messages .message-wrapper.ai .message-bubble .content {
  background-color: rgba(58, 58, 60, 0.8); /* AIä½¿ç”¨æ·±ç°è‰² */
  color: #f2f2f2;
  border-radius: 18px 18px 18px 4px; /* ç»Ÿä¸€åœ†è§’é£æ ¼ */
}

/* ç”¨æˆ·è§’è‰²çš„æ°”æ³¡ */
#studio-play-messages .message-wrapper.user .message-bubble .content {
  background-color: rgba(45, 87, 137, 0.85); /* ç”¨æˆ·ä½¿ç”¨è“è‰²ï¼Œä¸ä¸»é¢˜è‰²å‘¼åº” */
  color: white;
  border-radius: 18px 18px 4px 18px; /* ç»Ÿä¸€åœ†è§’é£æ ¼ */
}

/* --- 5. è¾“å…¥åŒºåŸŸç¾åŒ– --- */
#studio-play-input-area {
  background-color: rgba(28, 28, 30, 0.9); /* è¾“å…¥åŒºèƒŒæ™¯ */
  border-top: 1px solid #38383a;
  padding: 10px 15px; /* å¢åŠ å†…è¾¹è· */
  padding-bottom: calc(10px + env(safe-area-inset-bottom)); /* é€‚é…iPhoneåº•éƒ¨ */
}

#studio-play-input {
  background-color: #3a3a3c; /* è¾“å…¥æ¡†èƒŒæ™¯ */
  color: #e2e2e2; /* è¾“å…¥æ–‡å­—é¢œè‰² */
  border-radius: 20px;
  border: 1px solid #4a4a4c;
  padding: 10px 15px;
  line-height: 1.5;
}
#studio-play-input::placeholder {
  color: #8e8e93; /* å ä½æ–‡å­—é¢œè‰² */
}

#send-studio-play-action-btn {
  background-color: var(--accent-color, #007bff); /* ä½¿ç”¨ä¸»é¢˜è‰² */
  border-radius: 50%; /* åœ†å½¢æŒ‰é’® */
  width: 40px; /* å›ºå®šå°ºå¯¸ */
  height: 40px;
  padding: 0;
  font-size: 16px;
  font-weight: 600;
}

/* â–²â–²â–² å°å‰§åœºç¾åŒ–æ ·å¼ç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å°å‰§åœºåŠŸèƒ½ä¸“å±ç¾åŒ–æ ·å¼ v1.1 (å¸ƒå±€ä¸é¢œè‰²å¾®è°ƒ) â–¼â–¼â–¼ */

/* --- 1. è¾“å…¥åŒºåŸŸå¸ƒå±€è°ƒæ•´ --- */

/* æ ¸å¿ƒä¿®æ”¹ï¼šè®©ä¸»å®¹å™¨ä½¿ç”¨Flexå¸ƒå±€ */
#studio-play-input-area .chat-input-main-row {
  display: flex;
  align-items: flex-end; /* è®©è¾“å…¥æ¡†å’ŒæŒ‰é’®åº•éƒ¨å¯¹é½ */
  gap: 10px; /* è¾“å…¥æ¡†å’ŒæŒ‰é’®ä¹‹é—´çš„é—´è· */
}

/* è¾“å…¥æ¡†ç°åœ¨ä¼šè‡ªåŠ¨ä¼¸å±•ï¼Œå æ®æ‰€æœ‰å¯ç”¨ç©ºé—´ */
#studio-play-input {
  flex-grow: 1;
}

/* å‘é€æŒ‰é’®ç°åœ¨æ˜¯å›ºå®šå¤§å°ï¼Œä¸å†æ‹‰ä¼¸ */
#send-studio-play-action-btn {
  flex-shrink: 0;
}

/* --- 2. AIå›å¤æ°”æ³¡é¢œè‰²ä¸æ ·å¼è°ƒæ•´ --- */

/* æ ¸å¿ƒä¿®æ”¹ï¼šè®©AIæ°”æ³¡çš„æ ·å¼ä¸ç”¨æˆ·æ°”æ³¡å®Œå…¨ä¸€è‡´ï¼Œåªæ”¹å˜èƒŒæ™¯è‰² */
#studio-play-messages .message-wrapper.ai .message-bubble .content {
  /* ä½¿ç”¨ä¸€ä¸ªä¼˜é›…çš„ã€ä¸è“è‰²æ­é…çš„ç´«è‰² */
  background-color: rgba(118, 75, 162, 0.8);
  color: white;
  /* åº”ç”¨å’Œç”¨æˆ·æ°”æ³¡ç›¸åçš„åœ†è§’ï¼Œå½¢æˆå¯¹è¯æ„Ÿ */
  border-radius: 18px 18px 4px 18px;
}

/* â–²â–²â–² å°å‰§åœºç¾åŒ–æ ·å¼å¾®è°ƒç»“æŸ â–²â–²â–² */

/* â–¼â–¼â–¼ ã€å°å‰§åœºç»ˆæå¾®è°ƒ v1.2ã€‘â–¼â–¼â–¼ */

/* --- 1. è§£å†³AIæ–°æ¶ˆæ¯æ°”æ³¡é‡å é—®é¢˜ --- */
/* ä¸ºæ¼”ç»ç•Œé¢ä¸­çš„æ¯ä¸€ä¸ªæ¶ˆæ¯åŒ…è£¹å™¨ï¼ˆæ— è®ºç”¨æˆ·ã€AIè¿˜æ˜¯ç³»ç»Ÿï¼‰éƒ½å¢åŠ ä¸€ä¸ªå›ºå®šçš„ä¸‹å¤–è¾¹è· */
#studio-play-messages .message-wrapper {
  margin-bottom: 10px; /* è¿™ä¼šç¡®ä¿æ¯ä¸ªæ°”æ³¡ä¸‹æ–¹éƒ½æœ‰10pxçš„â€œå®‰å…¨è·ç¦»â€ï¼Œé˜²æ­¢é‡å  */
}

/* --- 2. å¼ºåˆ¶è®©AIåŠ è½½æç¤ºï¼ˆä¾‹å¦‚â€œæ­£åœ¨è¡ŒåŠ¨...â€ï¼‰æ°´å¹³å±…ä¸­ --- */
.message-wrapper.studio-indicator {
  justify-content: center; /* ç¡®ä¿æ°”æ³¡åœ¨åŒ…è£¹å™¨å†…éƒ¨æ˜¯å±…ä¸­çš„ */
  align-self: center; /* æ ¸å¿ƒï¼šè®©æ•´ä¸ªåŒ…è£¹å™¨åœ¨èŠå¤©ç•Œé¢ä¸Šæ°´å¹³å±…ä¸­ */
}

/* â–²â–²â–² å¾®è°ƒç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å…”kè®°è´¦ App æ ·å¼ â–¼â–¼â–¼ */
#tukey-accounting-screen .tukey-content {
  flex-grow: 1;
  overflow-y: auto;
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}
#tukey-accounting-screen .tukey-view {
  display: none;
  height: 100%;
  flex-direction: column;
  gap: 15px;
}
#tukey-accounting-screen .tukey-view.active {
  display: flex;
}
#tukey-bottom-nav {
  display: flex;
  justify-content: space-around;
  align-items: center;
  height: 60px;
  background-color: rgba(247, 247, 247, 0.8);
  backdrop-filter: blur(10px);
  border-top: 1px solid var(--border-color);
  flex-shrink: 0;
}
.tukey-nav-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  font-size: 10px;
  color: var(--text-secondary);
  cursor: pointer;
  transition: color 0.2s;
}
.tukey-nav-item.active {
  color: var(--accent-color);
}
.tukey-nav-item svg {
  stroke: currentColor;
  stroke-width: 1.5;
}

/* --- é’±åŒ…é¡µé¢ä¸“å±æ ·å¼ --- */
#wallet-summary-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  padding: 15px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}
#wallet-summary-card .summary-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
#wallet-summary-card .summary-item .label {
  font-size: 14px;
  color: var(--text-secondary);
}
#wallet-summary-card .summary-item .value {
  font-size: 16px;
  font-weight: 500;
}
#wallet-summary-card .net-assets {
  padding-bottom: 12px;
  border-bottom: 1px solid var(--border-color);
}
#wallet-summary-card .net-assets .label {
  font-size: 16px;
}
#wallet-summary-card .net-assets .value {
  font-size: 22px;
  font-weight: 600;
  color: var(--accent-color);
}
#wallet-summary-card .summary-details {
  padding-top: 12px;
  display: flex;
  gap: 20px;
}
#wallet-summary-card .summary-details .summary-item {
  flex: 1;
  flex-direction: column;
  align-items: flex-start;
  gap: 4px;
}

#wallet-accounts-list {
  display: flex;
  flex-direction: column;
  gap: 15px;
}
.tukey-account-category-card {
  background-color: var(--secondary-bg);
  border-radius: 12px;
  overflow: hidden;
}
.tukey-account-category-card .category-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
}
.tukey-account-category-card .category-title {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
}
.tukey-account-category-card .category-title .name {
  font-weight: 500;
}
.tukey-account-category-card .category-title .total {
  font-size: 13px;
  color: var(--text-secondary);
}
.category-accounts-list .tukey-account-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  cursor: pointer;
  transition: background-color 0.2s;
}
.category-accounts-list .tukey-account-item:not(:last-child) {
  border-bottom: 1px solid var(--border-color);
}
.category-accounts-list .tukey-account-item:hover {
  background-color: rgba(0, 0, 0, 0.03);
}
.tukey-account-item .account-info {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.tukey-account-item .account-name {
  font-size: 15px;
}
.tukey-account-item .account-balance {
  font-weight: 500;
}
#add-new-account-fab {
  position: absolute;
  bottom: 80px; /* æ”¾åœ¨åº•éƒ¨å¯¼èˆªæ ä¸Šæ–¹ */
  right: 25px;
  z-index: 100;
}
#account-editor-modal select,
#account-editor-modal input,
#account-editor-modal textarea {
  width: 100%;
}
/* â–²â–²â–² å…”kè®°è´¦æ ·å¼ç»“æŸ â–²â–²â–² */
#account-type-selection-view .category-group {
  margin-bottom: 20px;
}
#account-type-selection-view .category-group-title {
  font-weight: 500;
  color: var(--text-secondary);
  margin-bottom: 10px;
  padding-bottom: 5px;
  border-bottom: 1px solid var(--border-color);
}
#account-type-selection-view .type-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  gap: 15px;
}
#account-type-selection-view .type-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 10px 5px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.2s;
  background-color: var(--secondary-bg, #f0f2f5);
}
#account-type-selection-view .type-item:hover {
  background-color: var(--border-color, #e0e2e5);
}
#account-type-selection-view .type-icon {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
}
#account-type-selection-view .type-name {
  font-size: 13px;
  color: var(--text-primary);
}

/* è´¦æˆ·åˆ—è¡¨é¡¹çš„æ–°æ ·å¼ */
.tukey-account-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  cursor: pointer;
}
.tukey-account-item .account-info {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
/* è¿™å°±æ˜¯ä½ æƒ³è¦çš„è´¦æˆ·ç±»å‹åç§°çš„æ ·å¼ */
.tukey-account-item .account-type-name {
  font-size: 12px;
  color: var(--text-secondary);
  background-color: var(--secondary-bg, #f0f2f5);
  padding: 2px 6px;
  border-radius: 4px;
  align-self: flex-start; /* è®©æ ‡ç­¾å®½åº¦è‡ªé€‚åº”å†…å®¹ */
}
/* style.css */

/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘å…”kè®°è´¦-è®°è´¦ç¾¤èŠåŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* æ•´ä½“å¸ƒå±€ */
#tukey-group-chat-view {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

/* æ²¡æœ‰ç¾¤èŠæ—¶çš„å ä½ç¬¦ */
#tukey-no-group-placeholder {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 20px;
  color: var(--text-secondary);
}
#tukey-no-group-placeholder .form-button {
  width: auto;
  padding: 12px 24px;
}

/* ç¾¤èŠä¸»å®¹å™¨ */
#tukey-group-chat-container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

/* ç¾¤èŠå¤´éƒ¨ */
#tukey-group-chat-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 15px;
  border-bottom: 1px solid var(--border-color);
  background-color: var(--background-color);
  flex-shrink: 0;
}
#tukey-group-name {
  font-weight: 600;
  font-size: 17px;
}
#tukey-group-settings-btn {
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  opacity: 0.7;
}

/* è®°è´¦è®°å½•åˆ—è¡¨ */
#tukey-records-list {
  flex-grow: 1;
  overflow-y: auto;
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  background-color: var(--secondary-bg);
}

.record-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}
.record-body {
  display: flex;
  align-items: baseline;
  gap: 10px;
  margin-bottom: 8px;
}
.record-amount {
  font-size: 24px;
  font-weight: bold;
}

.record-remarks {
  font-size: 14px;
  color: var(--text-secondary);
}
.record-footer {
  font-size: 12px;
  color: #aaa;
  border-top: 1px dashed var(--border-color);
  padding-top: 8px;
  margin-top: 8px;
}

/* AIå›å¤åŒºåŸŸ */
.tukey-replies-container {
  margin-top: 15px;
  padding-top: 10px;
  border-top: 1px solid #f0f0f0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.dark-mode .tukey-replies-container {
  border-top-color: #333;
}

.tukey-reply-item {
  display: flex;
  gap: 8px;
  align-items: flex-start;
}
.reply-avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  object-fit: cover;
}
.reply-content {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.reply-sender-name {
  font-size: 12px;
  color: var(--text-secondary);
}
.reply-bubble {
  background-color: var(--secondary-bg);
  padding: 8px 12px;
  border-radius: 15px;
  font-size: 14px;
  line-height: 1.5;
  max-width: 250px;
  word-break: break-word;
}

/* è®°è´¦æŒ‰é’® */
#tukey-record-input-area {
  position: relative;
  padding: 10px;
  border-top: 1px solid var(--border-color);
  background-color: var(--background-color);
}
#tukey-add-record-btn {
  position: absolute;
  right: 20px;
  bottom: 20px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: var(--accent-color);
  color: white;
  border: none;
  font-size: 30px;
  font-weight: 300;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  line-height: 1;
}

/* è®°ä¸€ç¬”å¼¹çª—å†…çš„ç±»å‹é€‰æ‹©æŒ‰é’® */
.tukey-type-selector {
  display: flex;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  overflow: hidden;
}
.tukey-type-selector .type-btn {
  flex: 1;
  padding: 10px;
  background-color: transparent;
  border: none;
  color: var(--text-primary);
  cursor: pointer;
  transition: all 0.2s;
}
.tukey-type-selector .type-btn:not(:last-child) {
  border-right: 1px solid var(--border-color);
}
.tukey-type-selector .type-btn.active {
  background-color: var(--accent-color);
  color: white;
}

/* ç¾¤èŠç®¡ç†/æˆå‘˜é€‰æ‹©å¼¹çª—çš„åˆ—è¡¨æ ·å¼ */
.contact-picker-list {
  display: flex;
  flex-direction: column;
  gap: 5px;
  max-height: 40vh;
  overflow-y: auto;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 10px;
}
.contact-picker-list label {
  display: flex;
  align-items: center;
  padding: 8px;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s;
}
.contact-picker-list label:hover {
  background-color: var(--secondary-bg);
}
.contact-picker-list input[type="checkbox"] {
  margin-right: 10px;
  width: 18px;
  height: 18px;
}

/* â–²â–²â–² å…”kè®°è´¦æ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…”kè®°è´¦ã€‘æ–°ç‰ˆèŠå¤©å¼UIçš„CSSæ ·å¼ â–¼â–¼â–¼ */

#tukey-group-chat-container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

#tukey-records-list {
  flex-grow: 1;
  overflow-y: auto;
  padding: 15px;
  display: flex;
  flex-direction: column;
  gap: 20px; /* æ°”æ³¡ä¹‹é—´çš„é—´è· */
}

#tukey-record-input-area {
  padding: 8px 15px;
  background-color: var(--secondary-bg, #f7f7f7);
  border-top: 1px solid var(--border-color, #e0e0e0);
  display: flex;
  align-items: center;
}

#tukey-add-record-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background-color: var(--accent-color, #007bff);
  color: white;
  border: none;
  font-size: 24px;
  line-height: 36px;
  cursor: pointer;
}

/* è®°è´¦è®°å½•æ°”æ³¡ */
.tukey-record-bubble {
  background-color: #fff;
  padding: 10px 15px;
  border-radius: 18px;
  max-width: 80%;
  align-self: flex-end; /* ç”¨æˆ·å‘çš„ï¼Œé å³ */
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  position: relative;
  border: 1px solid #e5e5e5;
}

.dark-mode .tukey-record-bubble {
  background-color: #2c2c2e;
  border-color: #3a3a3c;
}

.tukey-record-bubble .record-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
  padding-bottom: 8px;
  border-bottom: 1px solid #f0f0f0;
}
.dark-mode .tukey-record-bubble .record-header {
  border-bottom-color: #3a3a3c;
}

.tukey-record-bubble .record-category-icon {
  width: 30px;
  height: 30px;
}

.tukey-record-bubble .record-category-name {
  font-weight: 500;
  font-size: 15px;
}

.tukey-record-bubble .record-body {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 15px;
  margin-bottom: 5px;
}
.tukey-record-bubble .record-remarks {
  font-size: 14px;
  color: var(--text-primary);
}
.tukey-record-bubble .record-amount {
  font-size: 18px;
  font-weight: bold;
  white-space: nowrap;
}
.tukey-record-bubble.expense .record-amount {
  color: #4caf50; /* æ”¯å‡ºç»¿è‰² */
}
.tukey-record-bubble.income .record-amount {
  color: #f44336; /* æ”¶å…¥çº¢è‰² */
}

.tukey-record-bubble .record-footer {
  font-size: 11px;
  color: var(--text-secondary);
  text-align: right;
  margin-top: 5px;
}

/* AIå›å¤æ°”æ³¡ */
.tukey-replies-container {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.tukey-reply-item {
  display: flex;
  align-items: flex-start;
  gap: 8px;
}
.tukey-reply-item .reply-avatar {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  flex-shrink: 0;
}
.tukey-reply-item .reply-content {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.tukey-reply-item .reply-sender-name {
  font-size: 12px;
  color: var(--text-secondary);
  margin-bottom: 2px;
  margin-left: 8px;
}
.tukey-reply-item .reply-bubble {
  background-color: #f0f2f5;
  padding: 8px 12px;
  border-radius: 18px;
  font-size: 14px;
  max-width: 220px;
  word-wrap: break-word;
}
.dark-mode .tukey-reply-item .reply-bubble {
  background-color: #3a3a3c;
}

.tukey-category-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
  cursor: pointer;
  padding: 5px;
  border-radius: 8px;
  transition: background-color 0.2s;
}
.tukey-category-item:hover {
  background-color: rgba(0, 0, 0, 0.05);
}
.tukey-category-item img {
  width: 40px;
  height: 40px;
}
.tukey-category-item span {
  font-size: 12px;
}
/* â–²â–²â–² CSSæ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…”kè®°è´¦ã€‘V2ç‰ˆè®°è´¦å¡ç‰‡CSSæ ·å¼ â–¼â–¼â–¼ */
#tukey-record-input-card {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: #fff;
  border-top: 1px solid #e0e0e0;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
  transform: translateY(100%);
  transition: transform 0.3s ease-in-out;
  z-index: 10;
  display: flex;
  flex-direction: column;
}
#tukey-record-input-card.visible {
  transform: translateY(0);
}
.dark-mode #tukey-record-input-card {
  background-color: #1c1c1e;
  border-top-color: #38383a;
}
#tukey-record-input-card .card-header {
  display: flex;
  align-items: center;
  padding: 8px;
  border-bottom: 1px solid #f0f0f0;
}
.dark-mode #tukey-record-input-card .card-header {
  border-bottom-color: #38383a;
}
#tukey-record-input-card .close-card-btn {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: var(--text-secondary);
  padding: 0 10px;
}
#tukey-record-input-card .type-selector {
  display: flex;
  margin: 0 auto;
  background-color: #e9ecef;
  border-radius: 8px;
  padding: 2px;
}
.dark-mode #tukey-record-input-card .type-selector {
  background-color: #3a3a3c;
}
#tukey-record-input-card .type-selector .type-btn {
  background-color: transparent;
  border: none;
  padding: 6px 20px;
  border-radius: 6px;
  cursor: pointer;
  color: #495057;
  font-weight: 500;
}
.dark-mode #tukey-record-input-card .type-selector .type-btn {
  color: #adb5bd;
}
#tukey-record-input-card .type-selector .type-btn.active {
  background-color: #fff;
  color: #000;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
.dark-mode #tukey-record-input-card .type-selector .type-btn.active {
  background-color: #525252;
  color: #fff;
}
#tukey-record-input-card .card-body {
  padding: 15px;
}
#tukey-record-input-card .category-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 15px;
  margin-bottom: 15px;
}
#tukey-record-input-card .category-grid .tukey-category-item.selected {
  background-color: var(--accent-color-light, #eaf2ff);
  border-radius: 8px;
}
.dark-mode
  #tukey-record-input-card
  .category-grid
  .tukey-category-item.selected {
  background-color: rgba(var(--accent-color-rgb), 0.2);
}

#tukey-record-input-card .input-fields {
  display: flex;
  flex-direction: column;
  gap: 10px;
  border-top: 1px solid #f0f0f0;
  padding-top: 15px;
}
.dark-mode #tukey-record-input-card .input-fields {
  border-top-color: #3a3a3c;
}
#tukey-record-input-card .amount-input-wrapper {
  display: flex;
  align-items: center;
  font-size: 28px;
  font-weight: bold;
}
#tukey-record-input-card #tukey-card-amount-input {
  border: none;
  background: none;
  font-size: 28px;
  font-weight: bold;
  width: 100%;
  outline: none;
  padding-left: 5px;
}
#tukey-record-input-card #tukey-card-remarks-input {
  width: 100%;
  border: none;
  background: none;
  font-size: 14px;
  padding: 5px 0;
  outline: none;
  border-bottom: 1px solid #e0e0e0;
}
.dark-mode #tukey-record-input-card #tukey-card-remarks-input {
  border-bottom-color: #444;
}

#tukey-record-input-card .card-footer {
  padding: 10px 15px;
}
#tukey-save-from-card-btn {
  width: 100%;
  padding: 12px;
  background-color: var(--accent-color);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}
/* â–²â–²â–² CSSæ ·å¼ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…”kè®°è´¦ã€‘V3ç‰ˆè®°è´¦å¡ç‰‡æ–°å¢/ä¿®æ”¹çš„CSSæ ·å¼ â–¼â–¼â–¼ */

#tukey-record-input-card .card-body {
  padding: 10px 15px; /* è°ƒæ•´å†…è¾¹è· */
}

#tukey-record-input-card .input-fields {
  padding-top: 10px;
  padding-bottom: 15px;
  border-bottom: 1px solid #f0f0f0; /* å°†åˆ†å‰²çº¿ç§»åˆ°é‡‘é¢åŒºåŸŸä¸‹æ–¹ */
  margin-bottom: 15px;
}
.dark-mode #tukey-record-input-card .input-fields {
  border-bottom-color: #38383a;
}

#tukey-record-input-card .amount-input-wrapper {
  align-items: center; /* å‚ç›´å±…ä¸­ */
}

#tukey-card-amount-input {
  border-bottom: none; /* ç§»é™¤é‡‘é¢è¾“å…¥æ¡†çš„ä¸‹åˆ’çº¿ */
}

#tukey-card-remarks-input {
  padding: 8px 0; /* å¢åŠ å¤‡æ³¨è¾“å…¥æ¡†çš„ä¸Šä¸‹å†…è¾¹è· */
}

/* ã€æ–°å¢ã€‘å·²é€‰åˆ†ç±»æ˜¾ç¤ºåŒº */
#tukey-card-selected-category {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-left: 15px;
  padding: 6px 12px;
  background-color: #f0f2f5;
  border-radius: 16px;
  font-size: 14px;
}
.dark-mode #tukey-card-selected-category {
  background-color: #3a3a3c;
}
#tukey-card-selected-category img {
  width: 20px;
  height: 20px;
}

/* ã€æ–°å¢ã€‘è´¦æˆ·å’Œæ—¶é—´é€‰æ‹©å™¨åŒºåŸŸ */
.additional-options {
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 0 10px 15px 10px;
}
.option-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: var(--text-secondary);
}
.option-item select,
.option-item input {
  background: none;
  border: none;
  outline: none;
  font-size: 14px;
  color: var(--text-primary);
  max-width: 120px; /* é™åˆ¶å®½åº¦é˜²æ­¢è¿‡é•¿ */
}

/* ã€ä¿®æ”¹ã€‘å¡ç‰‡åº•éƒ¨æŒ‰é’® */
#tukey-record-input-card .card-footer {
  padding: 10px 15px;
  border-top: 1px solid #f0f0f0;
}
.dark-mode #tukey-record-input-card .card-footer {
  border-top-color: #38383a;
}

/* â–²â–²â–² CSSæ ·å¼ç»“æŸ â–²â–²â–² */
/* --- å…”kè®°è´¦ - æŠ¥è¡¨åŠŸèƒ½ä¸“å±æ ·å¼ --- */
#tukey-reports-view {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: #f7f7f7;
}
.report-controls {
  display: flex;
  gap: 10px;
  padding: 10px;
  background-color: #fff;
  border-bottom: 1px solid #e0e0e0;
  flex-shrink: 0;
}
.report-controls select {
  flex: 1;
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 6px;
  background-color: #fff;
}
#report-display-area {
  flex-grow: 1;
  overflow-y: auto;
  padding: 10px;
}
.report-view {
  display: none;
}
.report-view.active {
  display: block;
}
.report-day-group {
  background-color: #fff;
  border-radius: 10px;
  margin-bottom: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  overflow: hidden;
}
.day-header {
  display: flex;
  justify-content: space-between;
  padding: 12px 15px;
  background-color: #fafafa;
  border-bottom: 1px solid #f0f0f0;
}
.day-header .date {
  font-weight: 500;
}
.day-header .day-summary {
  font-size: 13px;
  color: #666;
}
.day-header .day-summary .income {
  color: #4caf50;
  margin-left: 8px;
}
.day-header .day-summary .expense {
  color: #f44336;
}
.transaction-list .tukey-record-bubble {
  margin: 0;
  border-radius: 0;
  border-bottom: 1px solid #f0f0f0;
}
.transaction-list .tukey-record-bubble:last-child {
  border-bottom: none;
}
.report-placeholder {
  text-align: center;
  color: #999;
  padding-top: 50px;
}
#monthly-summary-card {
  display: flex;
  justify-content: space-around;
  background: #fff;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 15px;
  text-align: center;
}
#monthly-summary-card .summary-item {
  display: flex;
  flex-direction: column;
}
#monthly-summary-card .summary-item .label {
  font-size: 14px;
  color: #666;
  margin-bottom: 5px;
}
#monthly-summary-card .summary-item .value {
  font-size: 20px;
  font-weight: 600;
}
#monthly-summary-card .summary-item .value.income {
  color: #4caf50;
}
#monthly-summary-card .summary-item .value.expense {
  color: #f44336;
}
.chart-container {
  background-color: #fff;
  border-radius: 10px;
  padding: 15px;
  margin-bottom: 15px;
}
.chart-container h3 {
  margin-top: 0;
  margin-bottom: 15px;
  text-align: center;
  font-size: 16px;
  font-weight: 500;
}
/* --- å…”kè®°è´¦ - ç”¨æˆ·è®°è´¦æ°”æ³¡æ ·å¼ (V2ç‰ˆ) --- */

/* è¿™æ˜¯æ–°çš„å¤–å±‚åŒ…è£¹å®¹å™¨ï¼Œè´Ÿè´£å¸ƒå±€ */
.tukey-record-wrapper.user-record {
  display: flex;
  justify-content: flex-end; /* æ•´ä½“é å³ */
  align-items: flex-start; /* é¡¶éƒ¨å¯¹é½ */
  gap: 10px;
  margin: 10px 0;
  width: 100%;
}

/* è¿™æ˜¯ç”¨æˆ·çš„æ°”æ³¡æœ¬ä½“ */
.tukey-record-wrapper.user-record .tukey-record-bubble {
  background-color: #a9e87a; /* ç”¨æˆ·çš„æ°”æ³¡é¢œè‰² */
  max-width: 75%;
  order: 1; /* è®©æ°”æ³¡åœ¨flexå¸ƒå±€ä¸­æ’åœ¨ç¬¬1ä½ */
}

/* è¿™æ˜¯ç”¨æˆ·çš„å¤´åƒ */
.tukey-record-wrapper.user-record .record-user-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
  order: 2; /* è®©å¤´åƒåœ¨flexå¸ƒå±€ä¸­æ’åœ¨ç¬¬2ä½ */
}

/* æ—§çš„AIå›å¤å®¹å™¨ä¹Ÿéœ€è¦è°ƒæ•´ï¼Œä»¥ä¿æŒå¯¹é½ */
.tukey-replies-container {
  align-self: flex-start;
  max-width: 85%;
}
/* â–¼â–¼â–¼ è¯·å°†è¿™æ®µæ–°CSSæ·»åŠ åˆ°ä½ çš„æ ·å¼æ–‡ä»¶ä¸­ â–¼â–¼â–¼ */
.tukey-account-item .account-info {
  display: flex;
  align-items: center; /* å‚ç›´å±…ä¸­å¯¹é½ */
  gap: 12px; /* å›¾æ ‡å’Œæ–‡å­—ä¹‹é—´çš„é—´è· */
}

.tukey-account-item .account-icon {
  width: 32px; /* å›¾æ ‡å®½åº¦ */
  height: 32px; /* å›¾æ ‡é«˜åº¦ */
  border-radius: 50%; /* è®©å®ƒå˜æˆåœ†å½¢ */
  object-fit: cover; /* ç¡®ä¿å›¾ç‰‡ä¸å˜å½¢ */
}
/* â–²â–²â–² æ·»åŠ ç»“æŸ â–²â–²â–² */
/* â–¼â–¼â–¼ ã€å…¨æ–°ã€‘â€œkkæŸ¥å²—â€åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */

/* æˆ¿å±‹æ€»è§ˆ */
#kk-house-view-screen {
  display: flex;
  flex-direction: column;
  color: white;
}
#kk-house-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  filter: blur(5px) brightness(0.7);
  transform: scale(1.1);
}
#kk-house-info-panel {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 20px;
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
  text-align: center;
}
#kk-house-location {
  margin: 0 0 10px;
  font-size: 24px;
  font-weight: bold;
}
#kk-house-description {
  margin: 0 0 20px;
  font-size: 14px;
  opacity: 0.9;
}
#kk-house-areas {
  display: flex;
  justify-content: center;
  gap: 15px;
  flex-wrap: wrap;
}
.kk-area-button {
  padding: 12px 25px;
  border: 1px solid rgba(255, 255, 255, 0.5);
  background-color: rgba(255, 255, 255, 0.1);
  color: white;
  border-radius: 20px;
  cursor: pointer;
  backdrop-filter: blur(5px);
}

/* åŒºåŸŸæ¢ç´¢ */
#kk-area-view-screen {
  display: flex;
  flex-direction: column;
}
#kk-area-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  filter: brightness(0.6);
}
.kk-item-list-container {
  position: relative;
  z-index: 1;
  margin-top: 60px;
  padding: 20px;
  color: white;
  flex-grow: 1;
  overflow-y: auto;
}
#kk-area-description {
  font-size: 18px;
  margin: 0 0 10px;
  font-weight: 500;
}
.kk-instruction-text {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 20px;
}
#kk-area-items-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 15px;
}
.kk-item-button {
  padding: 20px 10px;
  border: 1px solid rgba(255, 255, 255, 0.3);
  background-color: rgba(0, 0, 0, 0.4);
  color: white;
  border-radius: 12px;
  cursor: pointer;
  font-size: 16px;
  backdrop-filter: blur(3px);
  transition: background-color 0.2s;
}
.kk-item-button:hover {
  background-color: rgba(0, 0, 0, 0.6);
}

/* ç”µè„‘ç•Œé¢ */
#kk-computer-desktop {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  padding: 20px;
  align-content: flex-start;
}
.kk-desktop-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  width: 70px;
  cursor: pointer;
  text-align: center;
}
.kk-desktop-icon img {
  width: 60px;
  height: 60px;
  border-radius: 12px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}
.kk-desktop-icon span {
  font-size: 13px;
  color: #333;
}

/* --- â€œkkæŸ¥å²—â€ ç”µè„‘åŠŸèƒ½ä¸“å±æ ·å¼ --- */
#kk-computer-desktop {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding: 20px;
  gap: 25px;
  height: 100%;
  backdrop-filter: blur(5px);
  background-color: rgba(0, 0, 0, 0.1);
}

.kk-desktop-icon {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  width: 60px;
}

.kk-desktop-icon img {
  width: 50px;
  height: 50px;
  border-radius: 12px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.kk-desktop-icon span {
  font-size: 13px;
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  width: 100%;
}

/* ç§äººæ–‡ä»¶åˆ—è¡¨ */
#kk-file-list {
  display: flex;
  flex-direction: column;
}
.kk-file-item {
  padding: 15px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  font-size: 15px;
  position: relative;
  padding-left: 40px;
}
.kk-file-item::before {
  content: "ğŸ“„"; /* æ–‡ä»¶å›¾æ ‡ */
  position: absolute;
  left: 15px;
  top: 50%;
  transform: translateY(-50%);
}
.kk-file-item:hover {
  background-color: var(--secondary-bg-hover);
}
/* â–¼â–¼â–¼ æŠŠä¸‹é¢è¿™æ®µæ–°ä»£ç ç²˜è´´åˆ°è¿™é‡Œ â–¼â–¼â–¼ */
#kk-area-description {
  background-color: rgba(0, 0, 0, 0.45); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
  -webkit-backdrop-filter: blur(8px); /* é’ˆå¯¹Safariçš„æ¯›ç»ç’ƒæ•ˆæœ */
  backdrop-filter: blur(8px); /* æ ‡å‡†çš„æ¯›ç»ç’ƒæ•ˆæœ */
  color: #ffffff; /* ä¿è¯æ–‡å­—åœ¨æ¯›ç»ç’ƒä¸Šæ¸…æ™°å¯è§ */
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6); /* ç»™æ–‡å­—åŠ ä¸€ç‚¹é˜´å½±ï¼Œæ›´æ˜“è¯» */
  padding: 10px 15px; /* å¢åŠ ä¸€äº›å†…è¾¹è·ï¼Œè®©å®ƒæ›´å¥½çœ‹ */
  border-radius: 12px; /* åœ†è§’æ•ˆæœ */
  margin: 0 15px 10px; /* å¢åŠ ä¸€äº›å¤–è¾¹è·ï¼Œä¸å…¶ä»–å…ƒç´ åˆ†éš”å¼€ */
  font-size: 14px; /* è°ƒæ•´ä¸€ä¸‹å­—ä½“å¤§å°ï¼Œè®©å®ƒæ›´åè°ƒ */
  line-height: 1.6; /* å¢åŠ è¡Œé«˜ï¼Œæå‡å¯è¯»æ€§ */
}
/* â–²â–²â–² ç²˜è´´ç»“æŸ â–²â–²â–² */
/* åœ¨ä½ çš„ CSS ä¸­æ·»åŠ è¿™è¡Œ */
.kk-file-item {
  cursor: pointer;
}
/* --- â–¼â–¼â–¼ ã€å¢å¼ºç‰ˆ V2ã€‘kkæŸ¥å²—-ç›‘æ§åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ --- */

/* ä¿®å¤ç›‘æ§å›¾æ ‡ï¼šå»æ‰åœ†åœˆå’Œæ‚¬æµ®ï¼Œè®©å®ƒèå…¥é¡¶éƒ¨æ  */
#kk-surveillance-icon {
  position: static; /* å–æ¶ˆç»å¯¹å®šä½ï¼Œè®©å®ƒè‡ªåŠ¨æ’åˆ— */
  top: auto;
  left: auto;

  width: auto; /* å¤§å°è‡ªåŠ¨é€‚åº” */
  height: auto;

  border: none; /* å»æ‰è¾¹æ¡† */
  border-radius: 0; /* å»æ‰åœ†è§’ */
  background: transparent; /* èƒŒæ™¯é€æ˜ */

  backdrop-filter: none; /* å»æ‰æ¯›ç»ç’ƒæ¨¡ç³Š */
  -webkit-backdrop-filter: none;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin: 0 4px; /* è·Ÿå…¶ä»–æŒ‰é’®ä¿æŒä¸€ç‚¹è·ç¦» */
}

#kk-surveillance-icon:hover {
  transform: scale(1.1);
}

/* 2. ç›‘æ§ç”»é¢çš„ç½‘æ ¼å¸ƒå±€ (ä¿æŒä¸å˜) */
#kk-monitor-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 10px;
  padding: 15px;
  align-content: start;
}

/* 7. åŠ¨ç”»å®šä¹‰ */
@keyframes blink {
  50% {
    opacity: 0.2;
  }
}
/* â˜…â˜…â˜…â˜…â˜… æ–°å¢çš„æ©™è‰²è„‰å†²åŠ¨ç”» â˜…â˜…â˜…â˜…â˜… */
@keyframes pulse-orange {
  0% {
    box-shadow: 0 0 5px rgba(255, 87, 34, 0.5);
  }
  50% {
    box-shadow: 0 0 20px rgba(255, 87, 34, 1);
  }
  100% {
    box-shadow: 0 0 5px rgba(255, 87, 34, 0.5);
  }
}

/* --- â–²â–²â–² æ ·å¼æ·»åŠ ç»“æŸ â–²â–²â–² --- */
/* --- kkæŸ¥å²— ç›‘æ§ç•Œé¢å…¨æ–°æ ·å¼ --- */

#kk-monitor-grid {
  display: grid;
  /* è®©ç›‘æ§ç”»é¢è‡ªåŠ¨æ’åˆ—ï¼Œæ¯è¡Œæ”¾ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œå–å†³äºå±å¹•å®½åº¦ */
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  padding: 15px;
  height: 100%;
  overflow-y: auto;
  box-sizing: border-box;
}

.kk-monitor-item {
  position: relative;
  height: 450px;
  border-radius: 16px;
  background-size: cover;
  background-position: center;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.1);
  cursor: pointer; /* <-- æ–°å¢è¿™ä¸€è¡Œï¼Œå¢åŠ ç‚¹å‡»æç¤º */
}

/* ç›‘æ§ç”»é¢é¡¶éƒ¨çš„åŒºåŸŸåå’ŒRECçº¢ç‚¹ */
.kk-monitor-item .monitor-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 15px;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7), transparent);
  color: white;
  font-weight: bold;
  font-size: 16px;
  text-shadow: 0 1px 3px black;
}

.kk-monitor-item .rec-dot {
  width: 12px;
  height: 12px;
  background-color: #ff3b30;
  border-radius: 50%;
  animation: pulse 1.5s infinite; /* å‘¼å¸ç¯åŠ¨ç”» */
}

@keyframes pulse {
  0% {
    opacity: 1;
    box-shadow: 0 0 5px #ff3b30;
  }
  50% {
    opacity: 0.4;
    box-shadow: 0 0 15px #ff3b30;
  }
  100% {
    opacity: 1;
    box-shadow: 0 0 5px #ff3b30;
  }
}

/* å…³é”®çš„æ¯›ç»ç’ƒé¢æ¿ */
.frosted-glass-panel {
  margin: 15px;
  background-color: rgba(0, 0, 0, 0.25); /* åŠé€æ˜é»‘è‰²èƒŒæ™¯ */
  backdrop-filter: blur(20px); /* è¿™æ˜¯å®ç°æ¯›ç»ç’ƒæ•ˆæœçš„æ ¸å¿ƒ */
  -webkit-backdrop-filter: blur(20px); /* å…¼å®¹Safariæµè§ˆå™¨ */
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding: 15px;
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

.monitor-content-text {
  font-size: 14px;
  line-height: 1.7;
  max-height: 120px; /* é™åˆ¶æ–‡æœ¬é«˜åº¦ï¼Œç•™å‡ºç©ºé—´ç»™æŒ‰é’® */
  overflow-y: auto;
  margin-bottom: 10px;
}

/* äº’åŠ¨æŒ‰é’®çš„å®¹å™¨ */
.monitor-interaction-controls {
  margin-top: 15px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  padding-top: 12px;
}

/* åœ†å½¢æŒ‰é’®ç»Ÿä¸€æ ·å¼ */
.monitor-btn {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  width: 44px;
  height: 44px;
  border-radius: 50%;
  font-size: 22px;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: background-color 0.2s;
}

.monitor-btn:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* å¦‚æœè§’è‰²åœ¨è¯¥åŒºåŸŸï¼Œç»™ä¸€ä¸ªç‰¹æ®Šçš„é«˜äº®è¾¹æ¡† */
.kk-monitor-item.active-character-location {
  border: 2px solid #00ff80;
  box-shadow: 0 0 20px rgba(0, 255, 128, 0.5);
}

/* â–²â–²â–² â€œkkæŸ¥å²—â€æ ·å¼ç»“æŸ â–²â–²â–² */
/*
 * ========================================
 * == å…¨æ–°ï¼šä¸–ç•Œä¹¦ç¼–è¾‘æ¨¡å¼æ ·å¼
 * ========================================
 */
/* ä¸–ç•Œä¹¦åˆ é™¤æŒ‰é’®åœ¨ç¦ç”¨æ—¶çš„æ ·å¼ */
#world-book-delete-selected-btn:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œä¸ºåˆ—è¡¨é¡¹å·¦ä¾§ç•™å‡ºç©ºé—´ */
#world-book-list.selection-mode .list-item {
  cursor: pointer;
  padding-left: 55px;
  position: relative;
}

/* å¤é€‰æ¡†çš„å¤–åœˆ */
#world-book-list.selection-mode .list-item::before {
  content: "";
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  width: 22px;
  height: 22px;
  border: 2px solid var(--text-secondary);
  border-radius: 50%;
  box-sizing: border-box;
  transition: all 0.2s ease-in-out;
}

/* é€‰ä¸­çŠ¶æ€ä¸‹ï¼Œå¤é€‰æ¡†çš„èƒŒæ™¯å’Œè¾¹æ¡† */
#world-book-list.selection-mode .list-item.selected::before {
  background-color: var(--accent-color);
  border-color: var(--accent-color);
}

/* é€‰ä¸­çŠ¶æ€ä¸‹ï¼Œå¤é€‰æ¡†ä¸­é—´çš„â€œâˆšâ€ */
#world-book-list.selection-mode .list-item.selected::after {
  content: "âœ”";
  position: absolute;
  left: 25px;
  top: 50%;
  transform: translateY(-50%);
  color: white;
  font-size: 16px;
  font-weight: bold;
}
/* â–¼â–¼â–¼ è§†é¢‘é€šè¯æœ€å°åŒ–åŠŸèƒ½æ ·å¼ â–¼â–¼â–¼ */
/* â–¼â–¼â–¼ ä¿®å¤åçš„æœ€å°åŒ–æŒ‰é’®æ ·å¼ â–¼â–¼â–¼ */
.video-minimize-btn {
  background: rgba(0, 0, 0, 0.4); /* ç¨å¾®åŠ æ·±ä¸€ç‚¹èƒŒæ™¯ */
  backdrop-filter: blur(4px); /* å¢åŠ ä¸€ç‚¹æ¯›ç»ç’ƒæ•ˆæœï¼Œæ›´åƒiOS */
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  width: 40px; /*ç¨å¾®åŠ å¤§ä¸€ç‚¹è§¦æ§åŒºåŸŸ*/
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;

  /* æ ¸å¿ƒä¿®å¤ï¼šä½¿ç”¨ fixed æˆ– absolute å®šä½ï¼Œå¹¶å¼ºåˆ¶æå‡å±‚çº§ */
  position: absolute;
  left: 20px;
  top: 50px; /* å‘ä¸‹ç§»åŠ¨ä¸€ç‚¹ï¼Œé¿å¼€çŠ¶æ€æ  */

  /* â˜…â˜…â˜… å…³é”®ï¼šè®¾ç½®ä¸ºæå¤§çš„ z-indexï¼Œç¡®ä¿åœ¨è§†é¢‘å±‚ã€æ°”æ³¡å±‚ä¹‹ä¸Š â˜…â˜…â˜… */
  z-index: 10000 !important;

  /* â˜…â˜…â˜… å…³é”®ï¼šç¡®ä¿èƒ½å¤Ÿæ¥æ”¶ç‚¹å‡»äº‹ä»¶ â˜…â˜…â˜… */
  pointer-events: auto;

  /* æ·»åŠ ç‚¹å‡»åé¦ˆ */
  transition: transform 0.1s;
}

.video-minimize-btn:active {
  transform: scale(0.9);
  background: rgba(0, 0, 0, 0.6);
}
/* â–²â–²â–² æ ·å¼ç»“æŸ â–²â–²â–² */

/* æ‚¬æµ®çƒå®¹å™¨ */
#video-call-floating-bubble {
  position: fixed;
  top: 150px;
  right: 20px; /* é»˜è®¤åœ¨å³ä¾§ */
  width: 70px;
  height: 70px;
  border-radius: 50%;
  z-index: 99999; /* ç¡®ä¿åœ¨æœ€é¡¶å±‚ */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  border: 2px solid rgba(255, 255, 255, 0.8);
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.1s; /* æ‹–åŠ¨æ—¶çš„å¹³æ»‘ */
  touch-action: none; /* é˜²æ­¢è§¦æ‘¸æ»šåŠ¨ */
}

/* æ‚¬æµ®çƒå†…çš„å¤´åƒ */
#video-call-floating-bubble img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* æ‚¬æµ®çƒæ­£åœ¨é€šè¯ä¸­çš„åŠ¨ç”»æ•ˆæœï¼ˆå‘¼å¸ç¯è¾¹æ¡†ï¼‰ */
#video-call-floating-bubble::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 50%;
  border: 3px solid #4caf50; /* ç»¿è‰²ä»£è¡¨é€šè¯ä¸­ */
  animation: pulse-border 1.5s infinite;
  box-sizing: border-box;
}

@keyframes pulse-border {
  0% {
    border-color: rgba(76, 175, 80, 1);
    box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7);
  }
  70% {
    border-color: rgba(76, 175, 80, 0.5);
    box-shadow: 0 0 0 10px rgba(76, 175, 80, 0);
  }
  100% {
    border-color: rgba(76, 175, 80, 1);
    box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
  }
}
/* â–²â–²â–² æ ·å¼ç»“æŸ â–²â–²â–² */
/* å¿«æ·å›å¤åˆ—è¡¨é¡¹æ ·å¼ */
.quick-reply-item {
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between; /* å†…å®¹å’ŒæŒ‰é’®åˆ†å±…ä¸¤ä¾§ */
  align-items: center;
  cursor: pointer;
  transition: background-color 0.2s;
}
.quick-reply-item:hover {
  background-color: rgba(0, 0, 0, 0.05);
}
/* å³ä¾§æ“ä½œæŒ‰é’®ç»„ */
.quick-reply-actions {
  display: flex;
  align-items: center;
  gap: 12px; /* æŒ‰é’®ä¹‹é—´çš„é—´è· */
  margin-left: 10px;
  flex-shrink: 0; /* é˜²æ­¢æŒ‰é’®è¢«æŒ¤å‹ */
}

/* æŒ‰é’®å›¾æ ‡æ ·å¼ */
.quick-reply-action-btn {
  cursor: pointer;
  opacity: 0.5;
  transition: all 0.2s;
  font-size: 16px; /* å›¾æ ‡å¤§å° */
  display: flex;
  align-items: center;
}

.quick-reply-action-btn:hover {
  opacity: 1;
  transform: scale(1.1);
}

.btn-edit {
  color: #2196f3;
} /* ç¼–è¾‘æ˜¯è“è‰² */
.btn-delete {
  color: #f44336;
} /* åˆ é™¤æ˜¯çº¢è‰² */
/* å­˜æ¡£åˆ—è¡¨é¡¹æ ·å¼ */
.branch-item {
  background-color: var(--card-bg, #fff);
  padding: 12px;
  margin: 10px;
  border-radius: 8px;
  border: 1px solid var(--border-color, #eee);
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}
.branch-info {
  flex-grow: 1;
  overflow: hidden;
}
.branch-name {
  font-weight: bold;
  font-size: 14px;
  margin-bottom: 4px;
  color: var(--text-primary, #333);
}
.branch-meta {
  font-size: 12px;
  color: var(--text-secondary, #999);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.branch-actions {
  display: flex;
  gap: 8px;
  margin-left: 10px;
}
.branch-action-btn {
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 4px;
  border: 1px solid var(--border-color, #ccc);
  background: transparent;
  cursor: pointer;
}
.branch-load {
  color: #007bff;
  border-color: #007bff;
}
.branch-delete {
  color: #ff3b30;
  border-color: #ff3b30;
}
/* â–²â–²â–² æ ·å¼ç»“æŸ â–²â–²â–² */
/* åˆ é™¤æŒ‰é’®çš„äº¤äº’æ•ˆæœ */
.delete-record-btn:active {
  background-color: #ff3b30 !important;
  color: white !important;
  transform: scale(0.95);
}
/* --- æ ¸å¿ƒä¿®å¤ï¼šé”å®šåˆ†é¡µå®¹å™¨çš„åŸºå‡† --- */
/* è¿™ä¸€æ­¥è‡³å…³é‡è¦ï¼å®ƒç¡®ä¿é‡Œé¢çš„ç»„ä»¶æ˜¯ç›¸å¯¹äºâ€œå½“å‰é¡µé¢â€å®šä½ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºæ•´ä¸ªå±å¹•ä¹±è·‘ */
.home-page {
  position: relative !important; /* å¼ºåˆ¶è®¾ç½®ä¸ºå®šä½åŸºå‡† */
  width: 100%;
  height: 100%;
  overflow: hidden; /* é˜²æ­¢å†…å®¹æº¢å‡ºå¯¼è‡´å¸ƒå±€å´©å */
  box-sizing: border-box;
}
/* â–¼â–¼â–¼ é€æ˜çŒ«çˆªåŠ è½½åŠ¨ç”»æ ·å¼ â–¼â–¼â–¼ */
#generation-overlay {
  /* å…³é”®ä¿®æ”¹ï¼šä¸è¦ç™½è‰²èƒŒæ™¯ï¼Œåªè¦å¾®å¾®çš„åŠé€æ˜é»‘ï¼Œè®©èƒŒæ™¯å˜æš—ä¸€ç‚¹ç‚¹ */
  background-color: rgba(0, 0, 0, 0.1) !important;
  /* å¼ºåŠ›æ¯›ç»ç’ƒæ•ˆæœï¼Œè®©èƒŒåçš„ç•Œé¢æ¨¡ç³Š */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px); /* å…¼å®¹è‹¹æœæ‰‹æœº */
  z-index: 2000;
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

#generation-overlay.visible {
  opacity: 1;
  pointer-events: all;
}

.loading-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 25px;
}

/* çŒ«çˆªå®¹å™¨ */
.cat-paw {
  position: relative;
  width: 80px;
  height: 80px;
  animation: pawBeat 1.5s infinite ease-in-out;
}

/* è‚‰çƒå…¬å…±æ ·å¼ */
.pad {
  background-color: #ffb7c5; /* æ¨±èŠ±ç²‰ */
  border-radius: 50%;
  position: absolute;
  box-shadow: 0 0 15px rgba(255, 183, 197, 0.6); /* ç²‰è‰²å…‰æ™• */
}

/* ä¸»è‚‰çƒ (æŒå¿ƒ) */
.pad.main {
  width: 45px;
  height: 40px;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 40% 40% 45% 45%;
}

/* è„šè¶¾è‚‰çƒ */
.pad.toe {
  width: 20px;
  height: 25px;
  top: 0;
}

.pad.t1 {
  left: 0;
  transform: rotate(-20deg);
}
.pad.t2 {
  left: 50%;
  transform: translateX(-50%) translateY(-5px);
}
.pad.t3 {
  right: 0;
  transform: rotate(20deg);
}

/* æ–‡å­—æ ·å¼ */
#generation-text {
  font-size: 16px;
  color: #ffb7c5; /* æ–‡å­—ä¹Ÿæ˜¯ç²‰è‰²çš„ */
  font-weight: bold;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* å¾®å¾®çš„é˜´å½±è®©æ–‡å­—æ›´æ¸…æ™° */
  letter-spacing: 2px;
  margin: 0;
  animation: textFade 1.5s infinite ease-in-out;
}

/* å¤œé—´æ¨¡å¼å¾®è°ƒï¼šæ–‡å­—å˜äº®ä¸€ç‚¹ */
.dark-mode #generation-text {
  color: #ffcdd2;
}

/* åŠ¨ç”»ï¼šçŒ«çˆªå‘¼å¸è·³åŠ¨ */
@keyframes pawBeat {
  0% {
    transform: scale(1);
    opacity: 0.8;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 0.8;
  }
}

/* åŠ¨ç”»ï¼šæ–‡å­—é—ªçƒ */
@keyframes textFade {
  0%,
  100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}
/* === âœ¨ V2.0 æè‡´å¤å¤ä¹¦æ¶æ ·å¼ âœ¨ === */

/* 1. æ•´ä½“èƒŒæ™¯ï¼šæ·±é‚ƒçš„èƒ¡æ¡ƒæœ¨è‰²è°ƒï¼Œå¸¦æš—è§’æ°›å›´ */
#aurora-bookshelf-screen {
  background-color: #1a120b !important; /* ææ·±è¤è‰² */
  /* æ¨¡æ‹Ÿè€å¼å¢™çº¸æˆ–æœ¨çº¹èƒŒæ™¯ */
  background-image:
    repeating-linear-gradient(
      45deg,
      rgba(255, 255, 255, 0.02) 0px,
      rgba(255, 255, 255, 0.02) 1px,
      transparent 1px,
      transparent 10px
    ),
    radial-gradient(
      circle at center,
      rgba(0, 0, 0, 0) 0%,
      rgba(0, 0, 0, 0.6) 100%
    );
}

#bookshelf-container {
  padding: 30px 15px;
  display: flex;
  flex-direction: column;
  gap: 25px; /* å±‚æ¿é—´è·åŠ å¤§ï¼Œæ›´æ˜¾å¤§æ°” */
}

/* 2. ä¹¦æ¶å±‚æ¿ï¼šåšé‡çš„å®æœ¨è´¨æ„Ÿ */
.bookshelf-row {
  display: flex;
  align-items: flex-end; /* åº•éƒ¨å¯¹é½ */
  justify-content: flex-start;
  flex-wrap: wrap;
  gap: 4px; /* ä¹¦ç±æ’åˆ—ç¨å¾®ç´§å‡‘ä¸€ç‚¹ */
  padding: 15px 20px 14px 20px; /* è°ƒæ•´å†…è¾¹è· */

  /* å¤æ‚çš„æ¸å˜æ¨¡æ‹Ÿæœ¨è´¨å‡¹æ§½é˜´å½± */
  background: linear-gradient(
    to bottom,
    #150f0b 0%,
    #2d1e16 20%,
    #2d1e16 80%,
    #150f0b 100%
  );

  /* å®æœ¨å±‚æ¿åšåº¦ä¸æŠ•å½± */
  border-bottom: 12px solid #3e2723;
  border-left: 8px solid #281a15;
  border-right: 8px solid #281a15;

  /* æ·±åº¦é˜´å½±ï¼Œåˆ¶é€ â€œç›’å­â€æ„Ÿ */
  box-shadow:
    inset 0 10px 30px rgba(0, 0, 0, 0.8),
    /* å†…éƒ¨æ·±é‚ƒé˜´å½± */ 0 15px 20px rgba(0, 0, 0, 0.5); /* å¤–éƒ¨æŠ•å½± */

  border-radius: 4px;
  min-height: 135px; /* ç¨å¾®å¢é«˜ */
  position: relative;
}

/* å±‚æ¿è¾¹ç¼˜çš„é«˜å…‰ï¼Œå¢åŠ ç«‹ä½“æ„Ÿ */
.bookshelf-row::before {
  content: "";
  position: absolute;
  bottom: -12px;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(255, 255, 255, 0.1);
  pointer-events: none;
}

/* 3. ä¹¦ç±æ ·å¼ï¼šç²¾è£…çš®é©è´¨æ„Ÿ */
.retro-book {
  width: 38px; /* ç¨å¾®åŠ å®½ */
  height: 110px; /* åŠ é«˜ */
  border-radius: 3px 5px 5px 3px; /* ä¹¦è„Šåœ†è§’ */
  cursor: pointer;
  position: relative;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);

  display: flex;
  align-items: center;
  justify-content: center;

  /* ç«–æ’æ–‡å­—è®¾ç½® */
  writing-mode: vertical-rl;
  text-orientation: mixed;

  /* æ–‡å­—æ ·å¼ï¼šæ›´ç²¾è‡´çš„è¡¬çº¿ä½“ï¼Œé‡‘è‰² */
  color: #e6c88a; /* å“‘å…‰é‡‘ */
  font-size: 11px;
  font-family: "Songti SC", "SimSun", "Georgia", serif; /* å®‹ä½“/è¡¬çº¿ä½“ */
  font-weight: 600;
  letter-spacing: 1px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8); /* æ–‡å­—å‡¹é™·æ„Ÿ */

  padding: 8px 0;
  overflow: hidden;

  /* â˜…â˜…â˜… æ ¸å¿ƒï¼šæ¨¡æ‹Ÿä¹¦è„Šçš„åœ†æŸ±ä½“å…‰å½± + çš®é©çº¹ç† â˜…â˜…â˜… */
  box-shadow:
    inset 3px 0 5px rgba(255, 255, 255, 0.15),
    /* å·¦ä¾§é«˜å…‰ */ inset -3px 0 8px rgba(0, 0, 0, 0.6),
    /* å³ä¾§é˜´å½± */ 3px 5px 8px rgba(0, 0, 0, 0.6); /* å¤–éƒ¨æŠ•å½± */
}

/* çƒ«é‡‘è£…é¥°çº¿ï¼šå¤å¤ä¹¦å¿…å¤‡ */
.retro-book::before,
.retro-book::after {
  content: "";
  position: absolute;
  left: 0;
  width: 100%;
  height: 2px;
  /* é‡‘è‰²æ¸å˜ï¼Œæ¨¡æ‹Ÿé‡‘å±åå…‰ */
  background: linear-gradient(90deg, #b88a4d, #ffe082, #b88a4d);
  opacity: 0.8;
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.5);
}
.retro-book::before {
  top: 12px;
}
.retro-book::after {
  bottom: 12px;
}

/* æ‚¬åœæ•ˆæœï¼šæµ®èµ· + å˜äº® */
.retro-book:hover {
  transform: translateY(-12px) scale(1.02);
  z-index: 100;
  box-shadow:
    inset 3px 0 5px rgba(255, 255, 255, 0.25),
    inset -3px 0 8px rgba(0, 0, 0, 0.6),
    5px 15px 20px rgba(0, 0, 0, 0.7); /* æ‚¬æµ®æ—¶çš„æ·±é˜´å½± */
  margin: 0 3px; /* æŒ¤å¼€æ—è¾¹çš„ä¹¦ */
}

/* 4. ä¹¦ç±é¢œè‰²ï¼šä½é¥±å’Œåº¦çš„é«˜çº§å¤å¤è‰² */

/* å‹ƒè‰®ç¬¬çº¢ */
.book-color-1 {
  background-color: #4a1a1a;
  background-image: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.2));
}
/* çš‡å®¶è“ */
.book-color-2 {
  background-color: #1a2a3a;
  background-image: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.3));
}
/* æ£®æ—ç»¿ */
.book-color-3 {
  background-color: #1e3324;
  background-image: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.2));
}
/* çš®é©æ£• */
.book-color-4 {
  background-color: #3e2723;
  background-image: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.2));
}
/* ç‚­ç°é»‘ */
.book-color-5 {
  background-color: #263238;
  background-image: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.3));
}

/* ä¹¦åæ ‡ç­¾é™åˆ¶ */
.book-spine-title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-height: 75%; /* ç»™ä¸Šä¸‹é‡‘çº¿ç•™å‡ºä½ç½® */
  pointer-events: none;
}

/* 5. å¤´éƒ¨ Header çš„ç‰¹æ®Šé€‚é… */
/* å½“æ‰“å¼€ä¹¦æ¶æ—¶ï¼Œå¼ºåˆ¶æ”¹å˜å¤´éƒ¨çš„æ ·å¼ï¼Œä½¿å…¶èå…¥èƒŒæ™¯ */
#aurora-bookshelf-screen .header {
  background-color: #251812 !important;
  border-bottom: 1px solid #3e2723 !important;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
}
#aurora-bookshelf-screen .header span {
  color: #d7ccc8 !important;
  font-family: serif;
  letter-spacing: 1px;
}
/* â–¼â–¼â–¼ ã€èŒç³»è®¾ç½®é¡µé¢ä¸“å±æ ·å¼ã€‘è¯·ç²˜è´´åˆ°CSSæœ«å°¾ â–¼â–¼â–¼ */

/* 1. é¡µé¢èƒŒæ™¯ï¼šæŸ”å’Œçš„ç±³è‰² */
.moe-theme {
  background-color: #fffdf5 !important; /* æ¸©æš–çš„ç±³ç™½è‰² */
}
.dark-mode .moe-theme {
  background-color: #1a1a1a !important;
}

/* 2. å¡ç‰‡æ ·å¼ï¼šç‰›å¥¶ç»ç’ƒ + å¤§åœ†è§’ */
.moe-card {
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 24px; /* è¶…å¤§åœ†è§’ */
  padding: 20px;
  margin-bottom: 20px;
  border: 2px solid #fff; /* ç™½è‰²æè¾¹ */
  box-shadow: 0 8px 20px rgba(233, 213, 255, 0.4); /* ç²‰ç´«è‰²æŸ”å…‰é˜´å½± */
  backdrop-filter: blur(10px);
}
.dark-mode .moe-card {
  background-color: rgba(40, 40, 40, 0.8);
  border-color: #333;
  box-shadow: none;
}

/* 3. å¡ç‰‡æ ‡é¢˜ï¼šå¯çˆ±å›¾æ ‡ + é¢œè‰² */
.moe-card-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 2px dashed #ffe4e1; /* è™šçº¿åˆ†å‰² */
}
.dark-mode .moe-card-header {
  border-bottom-color: #444;
}
.moe-card-header .icon {
  font-size: 24px;
}
.moe-card-header h3 {
  margin: 0;
  font-size: 18px;
  color: #ff8fab; /* æ¨±èŠ±ç²‰æ ‡é¢˜ */
  font-weight: 700;
}

/* 4. è¾“å…¥æ¡†ç¾åŒ–ï¼šåœ†æ¶¦ + ç²‰è‰²èšç„¦ */
.moe-input {
  width: 100%;
  padding: 12px 15px;
  border-radius: 15px;
  border: 2px solid #f0f0f0;
  background-color: #fff;
  font-size: 14px;
  transition: all 0.3s ease;
  box-sizing: border-box;
  color: #555;
}
.moe-input:focus {
  border-color: #ffb7c5; /* èšç„¦å˜ç²‰ */
  outline: none;
  box-shadow: 0 0 0 3px rgba(255, 183, 197, 0.2);
}
.center-text {
  text-align: center;
}
.dark-mode .moe-input {
  background-color: #2c2c2e;
  border-color: #444;
  color: #fff;
}

/* 5. æŒ‰é’®ç¾åŒ– */
.moe-btn-secondary {
  width: 100%;
  padding: 10px;
  border-radius: 15px;
  border: 2px solid #f0f0f0;
  background-color: #fff;
  color: #666;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.1s;
}
.moe-btn-secondary:active {
  transform: scale(0.98);
  background-color: #f9f9f9;
}
.moe-btn-danger {
  width: 100%;
  padding: 10px;
  border-radius: 15px;
  border: none;
  background-color: #ffeff0;
  color: #ff5252;
  font-weight: 600;
  cursor: pointer;
  margin-top: 10px;
}

.moe-btn-group {
  display: flex;
  gap: 8px;
  margin-top: 5px;
}
.moe-btn-mini {
  flex: 1;
  padding: 8px;
  border-radius: 12px;
  border: 1px solid #eee;
  background-color: #fff;
  color: #555;
  font-size: 12px;
  cursor: pointer;
}
.moe-btn-small {
  padding: 8px 15px;
  border-radius: 12px;
  border: 1px solid #eee;
  background-color: #fff;
  color: #555;
  font-size: 13px;
  cursor: pointer;
  flex-shrink: 0;
}

/* 6. â˜…â˜…â˜… æ ¸å¿ƒï¼šèŒç³»æ‚¬æµ®ä¿å­˜çƒ â˜…â˜…â˜… */
.moe-fab-save {
  position: absolute; /* ç»å¯¹å®šä½ç›¸å¯¹äº screen */
  bottom: 30px; /* è·ç¦»åº•éƒ¨ */
  right: 25px; /* è·ç¦»å³ä¾§ */
  width: 65px;
  height: 65px;
  border-radius: 50%; /* æ­£åœ† */
  background: linear-gradient(135deg, #ff9a9e, #ffc3a0); /* å°‘å¥³ç²‰æ¸å˜ */
  color: white;
  border: 4px solid rgba(255, 255, 255, 0.6); /* åŠé€æ˜ç™½è¾¹ */
  box-shadow: 0 6px 20px rgba(255, 105, 135, 0.4);
  font-size: 24px;
  cursor: pointer;
  z-index: 100; /* ä¿è¯åœ¨æœ€ä¸Šå±‚ */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* å¼¹æ€§åŠ¨ç”» */
}

.moe-fab-save:hover {
  transform: scale(1.1) rotate(5deg);
}
.moe-fab-save:active {
  transform: scale(0.9);
}

/* 7. æ»‘åŠ¨æ¡ç¾åŒ– */
.moe-slider {
  width: 100%;
  height: 6px;
  background: #ffe4e1;
  border-radius: 3px;
  outline: none;
  -webkit-appearance: none;
}
.moe-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  background: #ff8fab;
  border-radius: 50%;
  border: 2px solid #fff;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* 8. åˆ†å‰²çº¿ */
.moe-divider {
  height: 1px;
  border-top: 2px dashed #f0f0f0;
  margin: 20px 0;
}

/* 9. åˆ—è¡¨ç›’å­ */
.moe-list-box {
  background: #fff;
  border-radius: 12px;
  padding: 10px;
  border: 1px solid #eee;
  max-height: 150px;
  overflow-y: auto;
}
.dark-mode .moe-list-box {
  background: #2c2c2e;
  border-color: #444;
}
/* ======================================== */
/* === å…¨æ–°ï¼šåœˆå­å°ç»„åˆ—è¡¨ (é«˜çº§æ¨ªæ¡SVGç‰ˆ) === */
/* ======================================== */

/* 1. åˆ—è¡¨å®¹å™¨ï¼šå¼ºåˆ¶å•åˆ—å‚ç›´æ’åˆ— */
#forum-group-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 12px !important; /* æ¡ç›®ä¹‹é—´çš„é—´è· */
  padding: 15px 20px !important;
  background-color: var(--secondary-bg);
}

/* 2. å•ä¸ªå°ç»„æ¨ªæ¡å¡ç‰‡ */
.forum-group-item {
  display: flex !important; /* å¼€å¯Flexå¸ƒå±€ */
  align-items: center !important; /* å‚ç›´å±…ä¸­ */
  width: 100% !important;
  box-sizing: border-box !important;

  /* è§†è§‰æ ·å¼ï¼šæ¸…é€æ¯›ç»ç’ƒ */
  background-color: rgba(255, 255, 255, 0.75) !important;
  backdrop-filter: blur(15px) saturate(120%);
  -webkit-backdrop-filter: blur(15px) saturate(120%);

  padding: 15px !important;
  border-radius: 20px !important; /* åœ†æ¶¦çš„è§’ */
  border: 1px solid rgba(255, 255, 255, 0.6) !important;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03) !important;

  /* ç§»é™¤ä¹‹å‰çš„å±…ä¸­å¯¹é½è®¾ç½® */
  flex-direction: row !important;
  text-align: left !important;
  transition: all 0.2s ease !important;
}

/* æ‚¬åœæ•ˆæœ */
.forum-group-item:hover {
  transform: scale(1.02);
  background-color: rgba(255, 255, 255, 0.9) !important;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08) !important;
}

/* 3. å·¦ä¾§å›¾æ ‡å®¹å™¨ (ç”¨æ¥æ”¾SVG) */
.forum-group-icon-wrapper {
  width: 48px;
  height: 48px;
  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
  border-radius: 14px; /* æ–¹åœ†å½¢ */

  /* é«˜çº§æ¸å˜èƒŒæ™¯ */
  background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
  color: white;

  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 15px; /* ä¸æ–‡å­—çš„é—´è· */
  box-shadow: 0 4px 10px rgba(142, 197, 252, 0.4);
}

/* é’ˆå¯¹ä¸åŒç±»å‹çš„å°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å›¾æ ‡å®¹å™¨ä¸åŒçš„é¢œè‰² (å¯é€‰) */
/* è¿™æ˜¯ä¸€ä¸ªå°æŠ€å·§ï¼šä½¿ç”¨ nth-child è®©åˆ—è¡¨é¢œè‰²ä¸°å¯Œèµ·æ¥ */
.forum-group-item:nth-child(4n + 1) .forum-group-icon-wrapper {
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); /* ç²‰è‰² */
  box-shadow: 0 4px 10px rgba(255, 154, 158, 0.4);
}
.forum-group-item:nth-child(4n + 2) .forum-group-icon-wrapper {
  background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); /* ç´«è‰² */
  box-shadow: 0 4px 10px rgba(161, 140, 209, 0.4);
}
.forum-group-item:nth-child(4n + 3) .forum-group-icon-wrapper {
  background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); /* ç»¿è‰² */
  box-shadow: 0 4px 10px rgba(132, 250, 176, 0.4);
}

/* SVG å›¾æ ‡æœ¬èº« */
.forum-group-icon-wrapper svg {
  width: 26px;
  height: 26px;
  filter: drop-shadow(0 2px 3px rgba(0, 0, 0, 0.1));
}

/* 4. ä¸­é—´æ–‡å­—åŒºåŸŸ */
.forum-group-info {
  flex-grow: 1; /* å æ®å‰©ä½™ç©ºé—´ */
  display: flex;
  flex-direction: column;
  justify-content: center;
  overflow: hidden; /* é˜²æ­¢æ–‡å­—æº¢å‡º */
}

/* å°ç»„åå­— (å¤§) */
.forum-group-name {
  font-size: 16px !important;
  font-weight: 700 !important;
  color: #333 !important;
  margin-bottom: 4px !important;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* å°ç»„æè¿° (å°) */
.forum-group-desc {
  font-size: 12px !important;
  color: #999 !important;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: normal !important;
}

/* åˆ†ç±»æ ‡ç­¾ */
.category-tag-container {
  margin-top: 6px !important;
  gap: 4px !important;
}
.category-tag {
  font-size: 10px !important;
  padding: 2px 6px !important;
  border-radius: 6px !important;
  background-color: rgba(0, 0, 0, 0.03) !important;
  color: #666 !important;
  border: none !important;
}

/* 5. å³ä¾§ç®­å¤´ */
.forum-group-arrow {
  font-size: 20px;
  color: #ccc;
  font-weight: 300;
  margin-left: 10px;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode .forum-group-item {
  background-color: rgba(40, 40, 40, 0.6) !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
}
#phone-screen.dark-mode .forum-group-name {
  color: #fff !important;
}
#phone-screen.dark-mode .forum-group-desc {
  color: #aaa !important;
}
#phone-screen.dark-mode .category-tag {
  background-color: rgba(255, 255, 255, 0.1) !important;
  color: #ccc !important;
}

/* === 2. å¸–å­åˆ—è¡¨é¡µï¼šæ‚¬æµ®æ°”æ³¡å¼å¸ƒå±€ === */

/* åˆ—è¡¨å®¹å™¨ */
#group-post-list {
  padding: 15px !important;
  display: flex;
  flex-direction: column;
  gap: 12px; /* å¸–å­ä¹‹é—´çš„é—´è· */
}

/* å•ä¸ªå¸–å­å¡ç‰‡ */
.forum-post-item {
  /* å½»åº•ç§»é™¤åº•éƒ¨åˆ†å‰²çº¿ */
  border-bottom: none !important;

  /* å˜æˆç‹¬ç«‹å¡ç‰‡ */
  background-color: rgba(255, 255, 255, 0.7) !important;
  backdrop-filter: blur(10px);
  border-radius: 18px !important;
  padding: 18px !important;
  margin-bottom: 0 !important; /* ç”±gapæ§åˆ¶é—´è· */

  /* ç²¾è‡´è¾¹æ¡† */
  border: 1px solid rgba(255, 255, 255, 0.5) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03) !important;

  transition:
    transform 0.2s ease,
    background-color 0.2s !important;
  position: relative;
}

.forum-post-item:hover {
  transform: scale(1.01);
  background-color: rgba(255, 255, 255, 0.95) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;
}

/* å¸–å­æ ‡é¢˜ */
.post-item-title {
  font-size: 16px !important;
  font-weight: 700 !important; /* åŠ ç²— */
  color: #2c3e50 !important;
  margin-bottom: 8px !important;
  line-height: 1.4;
}

/* å¸–å­åˆ†ç±»æ ‡ç­¾ç¾åŒ– */
.category-tag {
  border-radius: 8px !important; /* æ›´åœ† */
  padding: 4px 10px !important;
  font-size: 11px !important;
  /* æ¸å˜èƒŒæ™¯ */
  background: linear-gradient(135deg, #e3f2fd, #f1f8ff) !important;
  color: #4a90e2 !important;
  border: 1px solid rgba(74, 144, 226, 0.1);
}

/* å¸–å­åº•éƒ¨ä¿¡æ¯ (ä½œè€…ã€è¯„è®ºæ•°) */
.post-item-meta {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px dashed rgba(0, 0, 0, 0.05); /* è™šçº¿åˆ†å‰² */
  font-size: 12px !important;
  color: #999 !important;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode .forum-post-item {
  background-color: rgba(35, 35, 35, 0.7) !important;
  border-color: rgba(255, 255, 255, 0.08) !important;
}
#phone-screen.dark-mode .post-item-title {
  color: #e0e0e0 !important;
}
#phone-screen.dark-mode .category-tag {
  background: linear-gradient(135deg, #2c3e50, #1a252f) !important;
  color: #85c1e9 !important;
  border-color: rgba(255, 255, 255, 0.1);
}
/* === 3. å¸–å­è¯¦æƒ…é¡µï¼šä¿¡çº¸ä¸å¯¹è¯æµ === */

/* è¯¦æƒ…é¡µå®¹å™¨ */
#post-detail-content {
  background-color: #f8f9fa !important; /* æµ…ç°åº•è‰² */
  padding: 15px !important;
  gap: 15px;
}

/* 1. æ¥¼ä¸»çš„å†…å®¹ (æ¨¡æ‹Ÿä¿¡çº¸æ•ˆæœ) */
.post-detail-header,
.post-detail-body {
  background-color: #fff;
  padding: 20px;
  /* è®©å®ƒä»¬è¿åœ¨ä¸€èµ·çœ‹èµ·æ¥åƒä¸€å¼ é•¿çº¸ï¼Œæˆ–è€…ä½ å¯ä»¥æŠŠå®ƒä»¬åˆ†å¼€ */
}

/* æŠŠå¤´éƒ¨å’Œå†…å®¹åŒ…åœ¨ä¸€èµ·çš„è§†è§‰æ•ˆæœ */
#post-detail-content > .post-detail-header {
  border-radius: 20px 20px 0 0;
  border-bottom: 1px dashed #eee !important; /* è™šçº¿ */
  margin-bottom: 0 !important;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.03);
}

#post-detail-content > .post-detail-body {
  border-radius: 0 0 20px 20px;
  margin-top: 0;
  margin-bottom: 20px; /* å’Œè¯„è®ºåŒºæ‹‰å¼€è·ç¦» */
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
  line-height: 1.8 !important;
  color: #444;
  font-size: 16px !important;
}

/* æ¥¼ä¸»ä¿¡æ¯æ  */
/* 2. è¯„è®ºåŒºå®¹å™¨ */
.post-comments-section {
  display: flex;
  flex-direction: column;
  gap: 12px; /* è¯„è®ºä¹‹é—´çš„é—´è· */
}

.post-comments-section h3 {
  font-size: 14px;
  color: #888;
  margin-left: 10px;
  border-left: none !important; /* å»æ‰æ—§çš„ç«–çº¿ */
}

/* 3. å•ä¸ªè¯„è®º (æ°”æ³¡åŒ–) */
.post-comment-item {
  background-color: #fff !important;
  border-radius: 16px !important;
  padding: 15px !important;
  border-bottom: none !important; /* å»æ‰æ—§çš„åº•çº¿ */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
  position: relative;
}

/* æ¥¼å±‚å·ç¾åŒ– */
.comment-floor {
  background-color: #f0f2f5;
  color: #999;
  padding: 2px 6px;
  border-radius: 6px;
  font-size: 10px !important;
}

/* è¯„è®ºå†…å®¹ */
.comment-text {
  color: #555;
  line-height: 1.6;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode #post-detail-content {
  background-color: #000 !important;
}
#phone-screen.dark-mode .post-detail-header,
#phone-screen.dark-mode .post-detail-body,
#phone-screen.dark-mode .post-comment-item {
  background-color: #1c1c1e !important;
  color: #ddd;
}
#phone-screen.dark-mode .post-detail-header h1,
#phone-screen.dark-mode .comment-content {
  color: #fff !important;
}
/* === 4. åº•éƒ¨è¯„è®ºè¾“å…¥æ ç¾åŒ– === */

#post-comment-input-area {
  background-color: rgba(255, 255, 255, 0.85) !important;
  backdrop-filter: blur(20px) !important;
  border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
  box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.02);
}

#post-comment-input-area #post-comment-input {
  background-color: #f2f2f7 !important; /* iOS é£æ ¼æµ…ç° */
  border-radius: 20px !important;
  color: #000 !important;
  height: 40px !important;
  padding-left: 15px !important;
}

#post-comment-input-area #send-post-comment-btn {
  background: var(--accent-color) !important; /* ä¿æŒä¸»é¢˜è‰² */
  border-radius: 50% !important; /* åœ†å½¢å‘é€æŒ‰é’® */
  width: 40px !important;
  height: 40px !important;
  padding: 0 !important;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px !important;
  box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3);
}

/* å¤œé—´æ¨¡å¼ */
#phone-screen.dark-mode #post-comment-input-area {
  background-color: rgba(30, 30, 30, 0.85) !important;
  border-top-color: rgba(255, 255, 255, 0.1) !important;
}
#phone-screen.dark-mode #post-comment-input-area #post-comment-input {
  background-color: #2c2c2e !important;
  color: #fff !important;
}
/* ==================================================== */
/* === å…¨æ–°ï¼šé«˜çº§æ¸…é€ç‰ˆè®ºå›æ ·å¼ (å°ç»„/å¸–å­/è¯„è®º) v2.0 === */
/* ==================================================== */

/* --- 1. å°ç»„åˆ—è¡¨é¡¹ (ä¸»é¡µ) --- */

/* å®¹å™¨ */
#forum-group-list {
  padding: 20px 15px !important;
  background-color: var(--secondary-bg);
  gap: 15px !important;
}

/* å°ç»„å¡ç‰‡ */
.forum-group-item {
  display: flex !important;
  align-items: center !important;
  padding: 15px !important;
  margin-bottom: 0 !important;

  /* è§†è§‰æ ¸å¿ƒï¼šæ¸…é€æ¯›ç»ç’ƒ + å¤§åœ†è§’ */
  background-color: rgba(255, 255, 255, 0.7) !important;
  backdrop-filter: blur(15px) saturate(120%);
  -webkit-backdrop-filter: blur(15px) saturate(120%);
  border-radius: 20px !important;
  border: 1px solid rgba(255, 255, 255, 0.6) !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.04) !important;

  transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
}

.forum-group-item:hover {
  transform: scale(1.02) translateY(-2px);
  background-color: rgba(255, 255, 255, 0.9) !important;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08) !important;
}

/* å†…ç½®SVGå›¾æ ‡å®¹å™¨ (ä¸åŒé¢œè‰²) */
.forum-group-icon-wrapper {
  width: 50px;
  height: 50px;
  border-radius: 16px; /* æ–¹åœ†å½¢ */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-right: 15px;
  color: white;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
}

/* ä¸ºä¸åŒå°ç»„å®šä¹‰æ¸å˜è‰² */
.forum-group-icon-wrapper.style-pink {
  background: linear-gradient(135deg, #ff9a9e, #fecfef);
}
.forum-group-icon-wrapper.style-purple {
  background: linear-gradient(135deg, #a18cd1, #fbc2eb);
}
.forum-group-icon-wrapper.style-red {
  background: linear-gradient(135deg, #ff758c, #ff7eb3);
}
.forum-group-icon-wrapper.style-blue {
  background: linear-gradient(135deg, #8fd3f4, #84fab0);
}
.forum-group-icon-wrapper.style-orange {
  background: linear-gradient(135deg, #f6d365, #fda085);
}
.forum-group-icon-wrapper.style-default {
  background: linear-gradient(135deg, #e0c3fc, #8ec5fc);
}

/* ç”¨æˆ·è‡ªå®šä¹‰å›¾ç‰‡æ ·å¼ */
.forum-group-custom-img {
  width: 50px;
  height: 50px;
  border-radius: 16px;
  object-fit: cover;
  flex-shrink: 0;
  margin-right: 15px;
  border: 2px solid white;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

/* æ–‡å­—æ’ç‰ˆ */
.forum-group-name {
  font-size: 16px !important;
  font-weight: 700 !important;
  color: #333 !important;
  margin-bottom: 4px !important;
}
.forum-group-desc {
  font-size: 12px !important;
  color: #999 !important;
}

/* --- 2. å¸–å­åˆ—è¡¨ (å°ç»„å†…) --- */

/* å¸–å­å¡ç‰‡ */
.forum-post-item {
  /* å»çº¿ */
  border-bottom: none !important;

  /* é«˜çº§æ‚¬æµ®å¡ç‰‡é£ */
  background-color: rgba(255, 255, 255, 0.8) !important;
  border-radius: 18px !important;
  padding: 18px !important;
  margin-bottom: 12px !important;

  border: 1px solid rgba(255, 255, 255, 0.8) !important;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03) !important;
  position: relative;
}

/* å¸–å­æ ‡é¢˜ */
.post-item-title {
  font-size: 16px !important;
  font-weight: 600 !important;
  color: #222 !important;
  line-height: 1.5;
  margin-bottom: 8px !important;
}

/* å¸–å­åº•éƒ¨ä¿¡æ¯ */
.post-item-meta {
  font-size: 11px !important;
  color: #aaa !important;
  background-color: rgba(0, 0, 0, 0.03);
  display: inline-block;
  padding: 4px 10px;
  border-radius: 10px;
  margin-top: 10px;
}

/* åˆ é™¤æŒ‰é’® (å°å·§ç²¾è‡´) */
.forum-post-delete-btn {
  top: 15px !important;
  right: 15px !important;
  background: rgba(0, 0, 0, 0.05) !important;
  color: #999 !important;
  width: 24px !important;
  height: 24px !important;
  font-size: 16px !important;
}
.forum-post-delete-btn:hover {
  background: #ff4757 !important;
  color: white !important;
}

/* --- 3. å¸–å­è¯¦æƒ…ä¸è¯„è®º (æœ€é‡è¦çš„é«˜çº§æ„Ÿæ¥æº) --- */

/* è¯¦æƒ…é¡µèƒŒæ™¯ */
#post-screen {
  background-color: #f7f8fa !important;
}

/* ä¸»è´´åŒºåŸŸ (æ¨¡æ‹Ÿä¿¡çº¸) */
#post-detail-content {
  padding: 20px !important;
  gap: 20px;
}

.post-detail-header {
  background-color: #fff;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
  border: none !important;
}

.post-detail-header h1 {
  font-size: 20px !important;
  color: #333;
  line-height: 1.4;
  margin-top: 10px !important;
}

/* æ¥¼ä¸»å†…å®¹ */
.post-detail-body {
  background-color: #fff;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
  font-size: 15px !important;
  color: #444;
  line-height: 1.8 !important;
  border: none !important;
}

/* è¯„è®ºåŒºå®¹å™¨ */
.post-comments-section h3 {
  font-size: 14px;
  color: #999;
  margin-bottom: 15px;
  border: none !important;
  text-align: center; /* æ ‡é¢˜å±…ä¸­ï¼Œæ›´åƒåˆ†å‰²çº¿ */
}

/* å•æ¡è¯„è®º (å¯¹è¯æ°”æ³¡é£) */
.post-comment-item {
  background-color: white !important;
  border-radius: 16px !important;
  padding: 15px !important;
  margin-bottom: 10px;
  border: none !important; /* å»æ‰æ—§çš„åˆ†å‰²çº¿ */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.02);
}

/* è¯„è®ºè€…ä¿¡æ¯ */
.comment-header-line {
  margin-bottom: 6px;
}
.comment-author {
  font-size: 13px !important;
  font-weight: 600 !important;
  color: #555 !important;
}
.comment-floor {
  background: #f0f2f5;
  padding: 2px 6px;
  border-radius: 6px;
  font-size: 10px !important;
  color: #aaa !important;
}

/* è¯„è®ºå†…å®¹ */
.comment-text {
  font-size: 14px !important;
  color: #333;
  line-height: 1.6;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode .forum-group-item,
#phone-screen.dark-mode .forum-post-item,
#phone-screen.dark-mode .post-detail-header,
#phone-screen.dark-mode .post-detail-body,
#phone-screen.dark-mode .post-comment-item {
  background-color: rgba(35, 35, 35, 0.8) !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
  color: #e0e0e0 !important;
}
#phone-screen.dark-mode .forum-group-name,
#phone-screen.dark-mode .post-item-title,
#phone-screen.dark-mode .post-detail-header h1,
#phone-screen.dark-mode .comment-text {
  color: #fff !important;
}
/* === å¼¹çª—è¾“å…¥æ¡†é«˜çº§ç¾åŒ– === */
#forum-group-editor-modal input[type="text"],
#forum-group-editor-modal textarea,
#create-post-modal input[type="text"],
#create-post-modal textarea {
  background-color: #f7f9fc;
  border: 1px solid #eef2f7;
  border-radius: 12px; /* åœ†æ¶¦ */
  padding: 12px;
  font-size: 14px;
  transition: all 0.3s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.02);
}

/* è¾“å…¥æ¡†èšç„¦æ•ˆæœ */
#forum-group-editor-modal input:focus,
#forum-group-editor-modal textarea:focus,
#create-post-modal input:focus,
#create-post-modal textarea:focus {
  background-color: #fff;
  border-color: var(--accent-color);
  box-shadow: 0 4px 12px rgba(0, 123, 255, 0.15);
  outline: none;
}

/* å¼¹çª—èƒŒæ™¯ç¾åŒ– */
.modal-content {
  border-radius: 24px !important; /* æ›´å¤§çš„åœ†è§’ */
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2) !important;
}
/* ================================================================= */
/* === âœ¨ åœˆå­ UI ç»ˆæç¾åŒ–åŒ… v2.0ï¼šæ¸…é€Â·å¯çˆ±Â·é«˜çº§Â·å…¨è¦†ç›– âœ¨ === */
/* ================================================================= */

/* --- 1. å…¨å±€èƒŒæ™¯ä¼˜åŒ– (è®©é€è§†æ•ˆæœæ›´æ˜æ˜¾) --- */
#group-screen,
#post-screen {
  /* ä½¿ç”¨ä¸€ä¸ªææ·¡çš„æ¸å˜èƒŒæ™¯ï¼Œè¡¬æ‰˜ç»ç’ƒæ•ˆæœ */
  background: linear-gradient(135deg, #f6f9fc 0%, #eef2f3 100%) !important;
}
#phone-screen.dark-mode #group-screen,
#phone-screen.dark-mode #post-screen {
  background: #111 !important;
}

/* --- 3. å¸–å­åˆ—è¡¨ (Group Post List) - æ¸…é€å¡ç‰‡ --- */

/* åˆ—è¡¨å®¹å™¨ */
#group-post-list {
  padding: 0 15px 20px 15px !important;
  gap: 15px !important;
  display: flex !important;
  flex-direction: column !important;
  background: transparent !important;
}

/* å•ä¸ªå¸–å­å¡ç‰‡ */
.forum-post-item {
  /* ç»ç’ƒèƒŒæ™¯ */
  background: rgba(255, 255, 255, 0.7) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);

  border: 1px solid rgba(255, 255, 255, 0.8) !important;
  border-radius: 20px !important;
  padding: 18px !important;

  /* æŸ”å’Œçš„å½©è‰²é˜´å½± */
  box-shadow: 0 8px 20px -5px rgba(100, 100, 200, 0.06) !important;

  margin-bottom: 0 !important;
  transition:
    transform 0.2s,
    box-shadow 0.2s !important;
}

.forum-post-item:hover {
  transform: translateY(-3px);
  background: rgba(255, 255, 255, 0.9) !important;
  box-shadow: 0 12px 25px -5px rgba(100, 100, 200, 0.1) !important;
}

/* æ ‡é¢˜ */
.post-item-title {
  font-size: 16px !important;
  font-weight: 700 !important;
  color: #32325d !important;
  line-height: 1.5;
  margin-bottom: 10px !important;
}

/* åˆ†ç±»æ ‡ç­¾ */
.category-tag {
  background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%) !important;
  color: white !important;
  padding: 3px 10px !important;
  border-radius: 12px !important;
  font-size: 11px !important;
  font-weight: 600 !important;
  border: none !important;
  box-shadow: 0 2px 5px rgba(142, 197, 252, 0.3) !important;
}

/* åº•éƒ¨ä¿¡æ¯ */
.post-item-meta {
  margin-top: 12px !important;
  padding-top: 10px !important;
  border-top: 1px dashed rgba(0, 0, 0, 0.05) !important;
  color: #8898aa !important;
  font-size: 12px !important;
}

/* åˆ é™¤æŒ‰é’®ï¼šéšè—å¼è®¾è®¡ */
.forum-post-delete-btn {
  top: 15px !important;
  right: 15px !important;
  background: rgba(0, 0, 0, 0.03) !important;
  color: #adb5bd !important;
  width: 24px !important;
  height: 24px !important;
  font-size: 14px !important;
}
.forum-post-delete-btn:hover {
  background: #fff0f3 !important;
  color: #ff6b6b !important;
}

/* --- 4. å¸–å­è¯¦æƒ…é¡µ (Post Detail) - æ²‰æµ¸å¼é˜…è¯» --- */

#post-detail-content {
  padding: 20px !important;
  background: transparent !important; /* é€å‡ºå¤§èƒŒæ™¯ */
  gap: 20px !important;
}

/* æ¥¼ä¸»åŒºåŸŸï¼šåƒä¸€å¼ ç²¾ç¾çš„ä¿¡çº¸ */
.post-detail-header,
.post-detail-body {
  background: #fff !important;
  border: none !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.03) !important;
}

/* å¤´éƒ¨åœ†è§’ */
.post-detail-header {
  border-radius: 20px 20px 0 0 !important;
  padding: 25px 25px 15px 25px !important;
  border-bottom: 1px solid #f5f5f5 !important;
  margin-bottom: 0 !important;
}

/* å†…å®¹åœ†è§’ */
.post-detail-body {
  border-radius: 0 0 20px 20px !important;
  padding: 10px 25px 30px 25px !important;
  margin-top: 0 !important;
  color: #525f7f !important;
  font-size: 16px !important;
  line-height: 1.8 !important;
}

.post-detail-header h1 {
  font-size: 20px !important;
  color: #32325d !important;
  margin-top: 5px !important;
}

/* è¯„è®ºåŒºå®¹å™¨ */
.post-comments-section {
  margin-top: 10px !important;
  padding-top: 0 !important;
}
.post-comments-section h3 {
  font-size: 14px !important;
  color: #8898aa !important;
  text-align: center !important;
  margin-bottom: 20px !important;
  border: none !important;
  position: relative;
}
/* è¯„è®ºåŒºåˆ†å‰²çº¿è£…é¥° */
.post-comments-section h3::before,
.post-comments-section h3::after {
  content: "";
  display: inline-block;
  width: 30px;
  height: 1px;
  background: #e0e0e0;
  vertical-align: middle;
  margin: 0 10px;
}

/* å•æ¡è¯„è®ºï¼šæ°”æ³¡å¯¹è¯é£æ ¼ */
.post-comment-item {
  background: #fff !important;
  border-radius: 16px !important;
  padding: 15px 18px !important;
  margin-bottom: 12px !important;
  border: 1px solid rgba(0, 0, 0, 0.02) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.02) !important;
  position: relative;
}

/* æ¥¼å±‚å·ï¼šå°èƒ¶å›Š */
.comment-floor {
  background: #f6f9fc !important;
  color: #8898aa !important;
  padding: 2px 8px !important;
  border-radius: 10px !important;
  font-size: 10px !important;
}

/* ä½œè€…å */
.comment-author {
  color: #32325d !important;
  font-size: 13px !important;
}

/* AIç”Ÿæˆè¯„è®ºæŒ‰é’® */
#generate-forum-comments-btn {
  background-color: #fff !important;
  border: 1px dashed var(--accent-color) !important;
  color: var(--accent-color) !important;
  border-radius: 20px !important;
  padding: 12px !important;
  margin-bottom: 20px !important;
  box-shadow: none !important;
  transition: all 0.2s;
}
#generate-forum-comments-btn:hover {
  background-color: #f0f9ff !important;
  transform: translateY(-1px);
}

/* --- 5. åº•éƒ¨è¯„è®ºè¾“å…¥æ  (æ¸…é€æ‚¬æµ®ç‰ˆ) --- */
#post-comment-input-area {
  background: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px);
  border-top: 1px solid rgba(255, 255, 255, 0.5) !important;
  box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.03) !important;
  padding: 10px 15px !important;
  padding-bottom: calc(10px + env(safe-area-inset-bottom)) !important;
}

#post-comment-input-area #post-comment-input {
  background: #f6f9fc !important;
  border: 1px solid transparent !important;
  transition: all 0.2s;
}
#post-comment-input-area #post-comment-input:focus {
  background: #fff !important;
  border-color: var(--accent-color) !important;
  box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
}

#post-comment-input-area #send-post-comment-btn {
  background: var(--accent-color) !important;
  box-shadow: 0 4px 10px rgba(0, 123, 255, 0.3) !important;
}

/* --- 6. å¤œé—´æ¨¡å¼ç»ˆæé€‚é… --- */
#phone-screen.dark-mode #fanfic-preference-bar,
#phone-screen.dark-mode .forum-post-item,
#phone-screen.dark-mode .post-detail-header,
#phone-screen.dark-mode .post-detail-body,
#phone-screen.dark-mode .post-comment-item {
  background-color: rgba(30, 30, 30, 0.8) !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
  box-shadow: none !important;
}

#phone-screen.dark-mode .post-item-title,
#phone-screen.dark-mode .post-detail-header h1,
#phone-screen.dark-mode .comment-author {
  color: #e0e0e0 !important;
}

#phone-screen.dark-mode #fanfic-preference-bar select,
#phone-screen.dark-mode #fanfic-preference-bar input {
  background: rgba(50, 50, 50, 0.8) !important;
  color: white !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
}

#phone-screen.dark-mode #post-comment-input-area {
  background: rgba(30, 30, 30, 0.9) !important;
  border-top-color: rgba(255, 255, 255, 0.1) !important;
}
#phone-screen.dark-mode #post-comment-input-area #post-comment-input {
  background: #222 !important;
  color: white !important;
}
/* --- åŒäººæ–‡æ§åˆ¶å°å¢å¼ºæ ·å¼ --- */

/* 1. é¢„è®¾ç®¡ç†åŒºçš„æŒ‰é’®ç¾åŒ– */
#fanfic-preference-bar .form-button-secondary {
  border-radius: 8px !important;
  background: rgba(255, 255, 255, 0.8) !important;
  border: 1px solid #e0e0e0 !important;
  cursor: pointer;
  transition: all 0.2s;
}
#fanfic-preference-bar .form-button-secondary:hover {
  background: #fff !important;
  transform: translateY(-1px);
}

/* 2. æŠ˜å åŠ¨ç”» */
#fanfic-bar-content {
  transition:
    max-height 0.3s ease-in-out,
    opacity 0.3s ease-in-out;
  overflow: hidden;
  max-height: 1000px; /* å±•å¼€æ—¶çš„æœ€å¤§é«˜åº¦ */
  opacity: 1;
}

#fanfic-bar-content.collapsed {
  max-height: 0;
  opacity: 0;
  margin: 0;
  padding: 0;
}

/* 3. æ—‹è½¬ç®­å¤´ */
#fanfic-bar-toggle-icon {
  transition: transform 0.3s ease;
}
#fanfic-bar-toggle-icon.collapsed {
  transform: rotate(-90deg);
}

/* 4. è¾“å…¥æ¡†æ ·å¼ç»Ÿä¸€ */
#fanfic-preference-bar textarea:focus,
#fanfic-preference-bar input:focus,
#fanfic-preference-bar select:focus {
  background: #fff !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05) !important;
  outline: none;
}
/* ========================================================= */
/* === âœ¨ å¸–å­è¯¦æƒ…é¡µç¾åŒ– V3 (åˆå¹¶å¤´éƒ¨ä¸æ­£æ–‡) âœ¨ === */
/* ========================================================= */

/* 1. è¯¦æƒ…é¡µèƒŒæ™¯ï¼šä¿æŒå¹²å‡€ */
#post-screen {
  background-color: #f5f7fa !important;
}

/* 2. å°†åŸæ¥çš„å¤´éƒ¨å’Œèº«ä½“çš„é—´è·æ¶ˆé™¤ï¼Œå¹¶ç»Ÿä¸€èƒŒæ™¯è‰² */
#post-detail-content {
  padding: 15px !important;
  gap: 0 !important; /* å…³é”®ï¼šç§»é™¤å…ƒç´ é—´è· */
}

/* 3. å¤´éƒ¨ (Header) ç¾åŒ– */
.post-detail-header {
  background-color: #fff !important;
  /* åªè®¾ç½®ä¸Šæ–¹çš„åœ†è§’ */
  border-radius: 16px 16px 0 0 !important;
  border-bottom: 1px solid #f0f0f0 !important; /* ä½¿ç”¨ææ·¡çš„åˆ†å‰²çº¿ */
  padding: 25px 20px 15px 20px !important;
  margin-bottom: 0 !important;
  box-shadow: none !important; /* ç§»é™¤ç‹¬ç«‹é˜´å½± */
}

.post-detail-header h1 {
  font-size: 19px !important;
  color: #333 !important;
  font-weight: 700 !important;
  line-height: 1.4 !important;
}

/* 4. æ­£æ–‡ (Body) ç¾åŒ– */
.post-detail-body {
  background-color: #fff !important;
  /* åªè®¾ç½®ä¸‹æ–¹çš„åœ†è§’ */
  border-radius: 0 0 16px 16px !important;
  padding: 10px 20px 30px 20px !important;
  margin-top: 0 !important;
  font-size: 16px !important;
  line-height: 1.8 !important;
  color: #2c3e50 !important;

  /* ç»™æ•´ä½“æ·»åŠ ä¸€ä¸ªç»Ÿä¸€çš„é˜´å½±ï¼Œçœ‹èµ·æ¥åƒä¸€å¼ å®Œæ•´çš„çº¸ */
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05) !important;
}

/* ========================================================= */
/* === âœ¨ åŒäººæ§åˆ¶å°ç¾åŒ– V3 (ç²¾è‡´é¢æ¿) âœ¨ === */
/* ========================================================= */

#fanfic-preference-bar {
  background: #fff !important;
  border-radius: 16px !important;
  padding: 0 !important; /* è®©å¤´éƒ¨è´´è¾¹ */
  margin: 15px !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06) !important;
  border: 1px solid #fff !important;
  overflow: hidden; /* ä¿è¯åœ†è§’ä¸è¢«å†…å®¹æ’‘ç ´ */
}

/* å¤´éƒ¨ */
#fanfic-bar-header {
  padding: 15px !important;
  margin: 0 !important;
  border-bottom: 1px solid #f5f5f5 !important;
  background-color: #fafafa !important; /* ç¨å¾®æ·±ä¸€ç‚¹çš„å¤´éƒ¨èƒŒæ™¯ */
  transition: background-color 0.2s;
}
#fanfic-bar-header:hover {
  background-color: #f0f0f0 !important;
}
.bar-title {
  font-size: 14px;
  font-weight: 700;
  color: #333;
}

/* å†…å®¹åŒº */
#fanfic-bar-content {
  padding: 15px !important;
  background-color: #fff !important;
}

/* è¾“å…¥æ¡†é€šç”¨æ ·å¼ */
#fanfic-preference-bar select,
#fanfic-preference-bar input[type="text"],
#fanfic-preference-bar textarea {
  width: 100%;
  background: #f7f9fc !important;
  border: 1px solid #edf2f7 !important;
  border-radius: 8px !important;
  padding: 8px 10px !important;
  font-size: 13px !important;
  color: #333 !important;
  box-shadow: none !important;
  box-sizing: border-box;
  transition: all 0.2s;
}
#fanfic-preference-bar input:focus,
#fanfic-preference-bar textarea:focus {
  background: #fff !important;
  border-color: #a1c4fd !important;
  box-shadow: 0 0 0 3px rgba(161, 196, 253, 0.1) !important;
}

.mini-btn {
  padding: 0 12px !important;
  font-size: 12px !important;
  background: #fff !important;
  border: 1px solid #e0e0e0 !important;
  border-radius: 8px !important;
  color: #666 !important;
  cursor: pointer;
  white-space: nowrap;
}
.mini-btn.danger {
  color: #ff4d4f !important;
  border-color: #ffccc7 !important;
  background: #fff2f0 !important;
}
.mini-btn.primary {
  background: var(--accent-color) !important;
  color: #fff !important;
  border-color: var(--accent-color) !important;
}
.mini-btn.disabled {
  background: #f2f2f2 !important;
  color: #999 !important;
  border-color: #e0e0e0 !important;
  cursor: not-allowed !important;
}

.post-series-bar {
  background: #fff;
  border: 1px solid #f0f0f0;
  border-radius: 12px;
  padding: 12px 14px;
  margin: 10px 0 14px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
}
.post-series-bar .series-meta {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.post-series-bar .series-title {
  font-weight: 700;
  color: #333;
}
.post-series-bar .series-status {
  color: var(--text-secondary);
  font-size: 13px;
}
.post-series-bar .series-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.forum-bookshelf-list,
.forum-series-chapter-list {
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  max-height: 70vh;
  overflow-y: auto;
}

.forum-bookshelf-card,
.forum-series-card,
.forum-chapter-item {
  background: #fff;
  border: 1px solid rgba(76, 51, 31, 0.12);
  border-radius: 12px;
  padding: 12px 14px;
  box-shadow: 0 8px 18px rgba(0, 0, 0, 0.05);
  position: relative;
  overflow: hidden;
}

.forum-bookshelf-card::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.08),
    rgba(76, 51, 31, 0.08)
  );
  pointer-events: none;
}

.forum-bookshelf-card::after {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  width: 6px;
  height: 100%;
  background: linear-gradient(180deg, #c69c6d 0%, #a67c52 100%);
  box-shadow: 3px 0 8px rgba(0, 0, 0, 0.1) inset;
}

.forum-bookshelf-list {
  background: linear-gradient(135deg, #f7f2ec, #efe4d8);
  border-radius: 18px;
  border: 1px solid rgba(124, 85, 52, 0.16);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.08);
  position: relative;
  overflow: hidden;
}

.forum-bookshelf-list .forum-bookshelf-card {
  background: #fff9f3;
}
.forum-bookshelf-list .forum-bookshelf-card:nth-child(2n) {
  background: #fff4e8;
}

.series-card-header {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.series-card-title {
  font-weight: 800;
  font-size: 16px;
  color: #333;
}
.series-card-meta {
  color: var(--text-secondary);
  font-size: 13px;
}
.series-card-actions,
.chapter-actions {
  margin-top: 10px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}
.forum-chapter-item .chapter-title {
  font-weight: 700;
  color: #333;
}
.forum-chapter-item .chapter-summary {
  color: var(--text-secondary);
  font-size: 13px;
  line-height: 1.6;
}

#forum-bookshelf-screen {
  background:
    radial-gradient(
      circle at 20% 20%,
      rgba(255, 255, 255, 0.25),
      transparent 35%
    ),
    radial-gradient(
      circle at 80% 10%,
      rgba(255, 255, 255, 0.18),
      transparent 32%
    ),
    linear-gradient(135deg, #e7d9c8, #d5bea3);
}

#forum-series-detail-screen {
  background: linear-gradient(160deg, #f4ede5, #e3d3c2);
}

#phone-screen.dark-mode .forum-bookshelf-card,
#phone-screen.dark-mode .forum-series-card,
#phone-screen.dark-mode .forum-chapter-item,
#phone-screen.dark-mode .post-series-bar {
  background: rgba(30, 30, 30, 0.85);
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: none;
}
#phone-screen.dark-mode .series-card-title,
#phone-screen.dark-mode .post-series-bar .series-title {
  color: #f3f3f3;
}
#phone-screen.dark-mode .series-card-meta,
#phone-screen.dark-mode .post-series-bar .series-status,
#phone-screen.dark-mode .forum-chapter-item .chapter-summary {
  color: #b3b3b3;
}

#phone-screen.dark-mode .forum-bookshelf-list {
  background: rgba(20, 20, 20, 0.85);
  border-color: rgba(255, 255, 255, 0.08);
  box-shadow: none;
}
#phone-screen.dark-mode .forum-bookshelf-card::before {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.04),
    rgba(0, 0, 0, 0.08)
  );
}
#phone-screen.dark-mode .forum-bookshelf-card {
  background: rgba(30, 30, 30, 0.9);
  border-color: rgba(255, 255, 255, 0.08);
}
#phone-screen.dark-mode .forum-bookshelf-card:nth-child(2n) {
  background: rgba(34, 34, 34, 0.9);
}

/* ================================================= */
/* === âœ¨ åœˆå­ UI ç»ˆæç¾åŒ–åŒ… v3.0 (åˆå¹¶ä¿®å¤ç‰ˆ) âœ¨ === */
/* ================================================= */

/* --- 1. å¸–å­è¯¦æƒ…é¡µ (åˆå¹¶å¤´éƒ¨å’Œèº«ä½“) --- */

/* è¯¦æƒ…é¡µå¤§èƒŒæ™¯ */
#post-detail-content {
  padding: 20px !important;
  gap: 0 !important; /* å…³é”®ï¼šç§»é™¤ä¸­é—´çš„é—´éš™ */
  background-color: #f2f3f5 !important;
}

/* å¤´éƒ¨ (ä½œè€…ä¿¡æ¯) */
.post-detail-header {
  background-color: #fff !important;
  padding: 25px 25px 10px 25px !important;
  border-radius: 16px 16px 0 0 !important; /* åªåœ†ä¸Šé¢ */
  border-bottom: 1px dashed #eee !important; /* ä¸­é—´ç”¨è™šçº¿è¿æ¥ */
  margin-bottom: 0 !important;
  box-shadow: none !important; /* ç§»é™¤å•ç‹¬é˜´å½± */
  position: relative;
  z-index: 2;
}

/* æ­£æ–‡ (å†…å®¹) */
.post-detail-body {
  background-color: #fff !important;
  padding: 10px 25px 30px 25px !important;
  border-radius: 0 0 16px 16px !important; /* åªåœ†ä¸‹é¢ */
  margin-top: 0 !important;
  border-top: none !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05) !important; /* ç»Ÿä¸€åŠ åœ¨ä¸‹é¢ */
  position: relative;
  z-index: 1;

  font-size: 16px !important;
  line-height: 1.8 !important;
  color: #333 !important;
}

/* ä¸ºäº†è®©å®ƒä»¬çœ‹èµ·æ¥åƒä¸€å¼ çº¸ï¼Œæˆ‘ä»¬åœ¨å¤–å±‚åŠ ä¸ªä¼ªé˜´å½±ï¼ˆå¯é€‰ï¼Œè¿™é‡Œç®€åŒ–å¤„ç†ï¼‰ */

/* è¯„è®ºåŒºæ ‡é¢˜ç¾åŒ– */
.post-comments-section h3 {
  margin: 30px 0 15px 10px !important;
  font-size: 15px !important;
  color: #888 !important;
  font-weight: 600 !important;
  text-align: left !important;
  border-left: 4px solid var(--accent-color) !important;
  padding-left: 10px !important;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode .post-detail-header,
#phone-screen.dark-mode .post-detail-body {
  background-color: #1e1e1e !important;
  border-color: #333 !important;
  color: #ccc !important;
}

/* --- 2. åŒäººæ§åˆ¶å° (Fanfic Bar) ç¾åŒ– --- */

#fanfic-preference-bar {
  background: #fff !important;
  border-radius: 16px;
  margin: 15px !important;
  padding: 15px !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
  border: 1px solid #eef0f2;
}

#fanfic-bar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  padding-bottom: 5px;
}

.bar-title {
  font-weight: 700;
  color: #4a4a4a;
  font-size: 15px;
}

#fanfic-bar-content {
  margin-top: 15px;
  overflow: hidden;
  transition: max-height 0.3s ease;
}
#fanfic-bar-content.collapsed {
  display: none; /* ç®€å•éšè— */
}
#fanfic-bar-toggle-icon.collapsed {
  transform: rotate(-90deg);
}

/* é¢„è®¾è¡Œ */
.presets-row {
  display: flex;
  gap: 8px;
  margin-bottom: 15px;
}
.presets-row select {
  flex-grow: 1;
  background: #f7f8fa !important;
  border: none !important;
  border-radius: 8px !important;
  padding: 8px !important;
  font-size: 13px;
}
.btn-icon {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f0f2f5;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
}
.btn-icon:hover {
  background: #e1e4e8;
}
.btn-icon.danger {
  color: #ff4d4f;
  background: #fff1f0;
}

/* CPè¡Œ */
.cp-row {
  display: flex;
  align-items: flex-end; /* åº•éƒ¨å¯¹é½ */
  gap: 8px;
  margin-bottom: 12px;
}
/* å‚æ•°è¡Œ (å­—æ•°/ç±»å‹/æ–‡é£) */
.params-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 8px;
  margin-bottom: 12px;
}
/* ä¸–ç•Œè§‚ */
#fanfic-worldview-input {
  background: #f7f8fa !important;
  border: none !important;
  border-radius: 10px !important;
  padding: 10px !important;
  font-size: 13px;
  resize: none;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode #fanfic-preference-bar {
  background: #252525 !important;
  border-color: #333;
}
#phone-screen.dark-mode .bar-title {
  color: #ddd;
}
#phone-screen.dark-mode .presets-row select,
#phone-screen.dark-mode #fanfic-worldview-input {
  background: #333 !important;
  color: #fff;
}
#phone-screen.dark-mode .btn-icon {
  background: #333;
}
/* ========================================= */
/* === åŒäººæ§åˆ¶å°æ‰‹æœºé€‚é…ä¿®å¤ (æ— æŒ‰é’®ç‰ˆ) === */
/* ========================================= */

#fanfic-preference-bar {
  /* æ ¸å¿ƒä¿®å¤ï¼šå®½åº¦è‡ªé€‚åº”ï¼Œé˜²æ­¢æº¢å‡ºå±å¹• */
  width: auto !important;
  margin: 10px 15px !important; /* å·¦å³ç•™å‡ºé—´éš™ */
  padding: 15px !important;
  box-sizing: border-box !important; /* ç¡®ä¿paddingåŒ…å«åœ¨å®½åº¦å†… */

  /* æ ·å¼ç¾åŒ– */
  background: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(20px);
  border-radius: 16px !important;
  border: 1px solid rgba(255, 255, 255, 0.5) !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05) !important;

  /* å¸ƒå±€å±æ€§ */
  flex-shrink: 0 !important; /* é˜²æ­¢è¢«æŒ¤å‹ */
  position: relative;
  z-index: 10;
}

/* å¼ºåˆ¶è¾“å…¥æ¡†ä¸è¶…å‡ºå®¹å™¨ */
#fanfic-preference-bar input,
#fanfic-preference-bar select,
#fanfic-preference-bar textarea {
  width: 100% !important;
  max-width: 100% !important;
  min-width: 0 !important; /* flexå¸ƒå±€ä¸‹é˜²æ­¢æº¢å‡ºçš„å…³é”® */
  box-sizing: border-box !important;
}

/* è°ƒæ•´è¡Œå¸ƒå±€ï¼Œé˜²æ­¢æ‰‹æœºä¸ŠæŒ¤åœ¨ä¸€èµ· */
.fanfic-row.params-row {
  gap: 10px !important;
}

/* é€‚é… CP é€‰æ‹©è¡Œ */
.fanfic-row.cp-row {
  gap: 8px !important;
}
.fanfic-row.cp-row select {
  width: 45% !important; /* è®©ä¸¤ä¸ªä¸‹æ‹‰æ¡†å¹³åˆ†å®½åº¦ */
}

/* é¢„è®¾è¡ŒæŒ‰é’®é˜²æº¢å‡º */
.fanfic-row.presets-row button {
  padding: 0 8px !important;
  font-size: 12px !important;
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode #fanfic-preference-bar {
  background: rgba(40, 40, 40, 0.95) !important;
  border-color: #444 !important;
}
/* === ã€ä¿®å¤ç‰ˆã€‘å¤–è§‚è®¾ç½®é¡µé¢æ ·å¼ v2.1 === */

/* 1. æ»šåŠ¨å®¹å™¨è°ƒæ•´ */
.settings-scroll-container {
  padding: 20px;
  padding-bottom: 100px !important; /* ä¸ºæ‚¬æµ®æŒ‰é’®ç•™å‡ºç©ºé—´ */
  background-color: #f7f8fa; /* æµ…ç°åº•è‰² */
  /* â˜… ä¿®å¤ï¼šå¼ºåˆ¶ä½¿ç”¨Flexçºµå‘å¸ƒå±€ï¼Œå¹¶æ‹‰ä¼¸å­å…ƒç´  */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

#phone-screen.dark-mode .settings-scroll-container {
  background-color: #000;
}

/* 2. å¡ç‰‡å¼åˆ†ç»„ - å¼ºåˆ¶å®½åº¦ç»Ÿä¸€ */
.settings-group-card {
  /* â˜… æ ¸å¿ƒä¿®å¤ï¼šå¼ºåˆ¶å æ»¡å®¹å™¨å®½åº¦ */
  width: 100% !important;
  box-sizing: border-box !important;

  background-color: #ffffff;
  border-radius: 20px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.5);
}

#phone-screen.dark-mode .settings-group-card {
  background-color: #1c1c1e;
  border: 1px solid #333;
  box-shadow: none;
}

/* 3. åˆ†ç»„æ ‡é¢˜ */
.settings-section-title {
  font-size: 16px;
  font-weight: 700;
  color: var(--accent-color);
  margin-bottom: 15px;
  padding-bottom: 8px;
  border-bottom: 2px dashed #f0f0f0;
}
#phone-screen.dark-mode .settings-section-title {
  border-bottom-color: #333;
}

/* 4. è¡Œå¸ƒå±€ */
.setting-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}
.setting-row .setting-label {
  font-size: 15px;
  color: #333;
  font-weight: 500;
}
.setting-row .toggle-switch-label {
  padding: 0;
  width: auto;
  margin: 0; /* ä¿®å¤å¼€å…³è‡ªå¸¦çš„margin */
}
#phone-screen.dark-mode .setting-row .setting-label {
  color: #eee;
}

/* 5. å—çº§é¡¹ç›® */
.setting-item {
  margin-bottom: 20px;
}
.setting-item label {
  display: block;
  font-size: 13px;
  color: #888;
  margin-bottom: 8px;
  font-weight: 500;
}

/* 6. é¢„è§ˆä¸ä¸Šä¼ ç»„åˆ */
.preview-upload-box {
  display: flex;
  align-items: center;
  gap: 15px;
  background-color: #f9f9f9;
  padding: 10px;
  border-radius: 15px;
}
#phone-screen.dark-mode .preview-upload-box {
  background-color: #2c2c2e;
}
.btn-col {
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex-grow: 1;
}

.mini-preview {
  width: 60px;
  height: 100px;
  background-color: #eee;
  border-radius: 8px;
  background-size: cover;
  background-position: center;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 10px;
  color: #999;
  border: 1px solid #e0e0e0;
  flex-shrink: 0;
}
.mini-preview.landscape {
  width: 100px;
  height: 60px;
}

/* 7. æŒ‰é’®ç¾åŒ– */
.upload-btn-pill {
  flex-grow: 1;
  padding: 10px;
  background-color: white;
  border: 1px solid var(--accent-color);
  color: var(--accent-color);
  border-radius: 20px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}
.upload-btn-pill:active {
  transform: scale(0.95);
  background-color: var(--accent-color);
  color: white;
}
.upload-btn-pill.danger {
  border-color: #ff3b30;
  color: #ff3b30;
}
.upload-btn-pill.primary {
  background-color: var(--accent-color);
  color: white;
}
.upload-btn-pill.secondary {
  border-color: #ccc;
  color: #666;
}
#phone-screen.dark-mode .upload-btn-pill {
  background-color: #333;
  border-color: var(--accent-color);
}

/* 8. é¢œè‰²é€‰æ‹©å™¨ */
.color-picker-wrapper {
  display: flex;
  align-items: center;
  gap: 10px;
  background-color: #f9f9f9;
  padding: 8px;
  border-radius: 12px;
}
#phone-screen.dark-mode .color-picker-wrapper {
  background-color: #2c2c2e;
}
#home-icon-widget-text-color-picker {
  width: 40px;
  height: 40px;
  border: none;
  border-radius: 50%;
  overflow: hidden;
  cursor: pointer;
  padding: 0;
  background: none;
}
/* 9. ç´§å‡‘ç½‘æ ¼ */
.icon-grid-compact {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
  gap: 10px;
}
.icon-setting-item {
  flex-direction: column;
  gap: 5px;
  text-align: center;
}
.icon-setting-item .change-icon-btn {
  width: 100%;
  border-radius: 12px;
  font-size: 10px;
  padding: 4px 0;
}

.name-grid-compact {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.app-rename-input {
  width: 100%;
  padding: 8px;
  border-radius: 8px;
  border: 1px solid #e0e0e0;
  font-size: 13px;
  box-sizing: border-box;
  background-color: #f9f9f9;
}
#phone-screen.dark-mode .app-rename-input {
  background-color: #2c2c2e;
  border-color: #444;
  color: #fff;
}

/* 10. æ‚é¡¹ */
.small-btn {
  width: 100%;
  border-radius: 12px;
  padding: 8px;
  font-size: 13px;
  margin-top: 10px;
}
.danger-text {
  color: #ff3b30;
  border-color: #ff3b30;
  background-color: #fff5f5;
}
.css-actions {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-top: 10px;
}
.btn-icon {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  border: 1px solid #e0e0e0;
  background: #fff;
  cursor: pointer;
}

/* 11. è¾“å…¥æ¡†å¤ç”¨ */
.moe-input {
  width: 100%;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid #e0e0e0;
  font-size: 14px;
  box-sizing: border-box;
}
.code-area {
  font-family: monospace;
  font-size: 13px;
  background-color: #f7f9fc;
  color: #333333;
  border: 1px solid #e0e0e0;
  line-height: 1.5;
}

/* === å¤œé—´æ¨¡å¼é€‚é… === */
#phone-screen.dark-mode .code-area {
  background-color: #282c34;
  color: #abb2bf;
  border-color: #444;
}

/* é¢œè‰²è¾“å…¥æ¡†å¾®è°ƒ */
/* 1. è®¾ç½®é¡µèƒŒæ™¯ï¼šç»™ä¸€ä¸ªæŸ”å’Œçš„é«˜çº§æ¸å˜åº•è‰² */
#wallpaper-screen {
  background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%) !important;
}
#phone-screen.dark-mode #wallpaper-screen {
  background: #000 !important;
}

/* 2. å¡ç‰‡å®¹å™¨ï¼šæ¯›ç»ç’ƒ + æ‚¬æµ®æ„Ÿ + å¤§åœ†è§’ */
.settings-group-card {
  width: 100% !important;
  box-sizing: border-box !important;

  /* æ ¸å¿ƒç¾åŒ–ï¼šåŠé€æ˜ç™½åº• + æ¯›ç»ç’ƒ */
  background-color: rgba(255, 255, 255, 0.65) !important;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);

  border-radius: 24px !important; /* æ›´å¤§çš„åœ†è§’ */
  padding: 20px !important;
  margin-bottom: 20px;

  /* æŸ”å’Œçš„å½©è‰²é˜´å½± */
  box-shadow:
    0 10px 30px -10px rgba(0, 0, 0, 0.05),
    0 4px 10px rgba(200, 200, 255, 0.2) !important;
  border: 1px solid rgba(255, 255, 255, 0.8) !important;
}

#phone-screen.dark-mode .settings-group-card {
  background-color: rgba(30, 30, 30, 0.6) !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
  box-shadow: none !important;
}

/* 3. åˆ†ç»„æ ‡é¢˜ï¼šæ›´ç²¾è‡´çš„æ’ç‰ˆ */
.settings-section-title {
  font-size: 15px !important;
  font-weight: 700 !important;
  color: var(--accent-color);
  margin-bottom: 18px !important;
  padding-bottom: 10px !important;
  border-bottom: 2px dashed rgba(0, 0, 0, 0.05) !important; /* è™šçº¿æ›´å¯çˆ± */
  letter-spacing: 0.5px;
}

/* 4. ã€æ ¸å¿ƒä¿®æ”¹ã€‘å£çº¸é¢„è§ˆåŒºåŸŸ (å˜å°ã€ç²¾è‡´) */
.preview-upload-box {
  display: flex;
  align-items: center;
  gap: 20px;
  background-color: rgba(255, 255, 255, 0.5);
  padding: 15px;
  border-radius: 20px;
  border: 1px solid rgba(255, 255, 255, 0.8);
}

/* â˜…â˜…â˜… é‡ç‚¹ï¼šæŠŠé¢„è§ˆå›¾æ”¹å° â˜…â˜…â˜… */
#wallpaper-preview,
#lockscreen-wallpaper-preview,
#global-bg-preview {
  width: 90px !important; /* åŸæ¥æ˜¯180pxï¼Œç°åœ¨æ”¹å° */
  height: 160px !important; /* æŒ‰æ¯”ä¾‹æ”¹å° */

  background-color: #eef2f5;
  border-radius: 12px !important;
  border: 2px solid white !important;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1) !important;

  /* å­—ä½“è°ƒæ•´ */
  font-size: 12px !important;
  color: #aaa !important;
  flex-shrink: 0; /* é˜²æ­¢è¢«æŒ¤å‹ */
}

/* 5. æŒ‰é’®ç¾åŒ–ï¼šèƒ¶å›Šå½¢çŠ¶ */
.upload-btn-pill {
  border-radius: 25px !important;
  padding: 10px 20px !important;
  font-size: 13px !important;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
  background: white;
}
.upload-btn-pill:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
}

/* 6. ã€æ ¸å¿ƒä¿®æ”¹ã€‘é¢œè‰²é€‰æ‹©å™¨åŒºåŸŸ */
.color-picker-wrapper {
  display: flex;
  align-items: center;
  gap: 12px;
  background-color: rgba(255, 255, 255, 0.5);
  padding: 10px;
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.8);
}

/* åœ†å½¢é¢œè‰²çƒ */
#home-icon-widget-text-color-picker {
  width: 45px !important;
  height: 45px !important;
  border: 3px solid white !important;
  border-radius: 50% !important;
  padding: 0 !important;
  background: none;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* æ–°å¢ï¼šé¢œè‰²ä»£ç è¾“å…¥æ¡†æ ·å¼ */
#home-icon-widget-text-color-input {
  flex-grow: 1;
  border: none;
  background: transparent;
  font-family: monospace; /* ç­‰å®½å­—ä½“ï¼Œé€‚åˆæ˜¾ç¤ºä»£ç  */
  font-size: 16px;
  color: #555;
  text-transform: uppercase;
  outline: none;
  text-align: center;
  letter-spacing: 1px;
}

/* 7. æ ‡ç­¾æ–‡å­— */
.setting-item label {
  color: #666 !important;
  font-size: 13px !important;
  margin-bottom: 10px !important;
  display: flex;
  align-items: center;
  gap: 5px;
}
/* â–¼â–¼â–¼ ã€å…¨æ–°ç²¾ç®€ç‰ˆã€‘ç²¾è‡´æ»‘åŠ¨å¼€å…³æ ·å¼ â–¼â–¼â–¼ */

.toggle-switch-label {
  display: flex;
  align-items: center;
  justify-content: space-between; /* æ–‡å­—å’Œå¼€å…³ä¸¤ç«¯å¯¹é½ */
  cursor: pointer;
  user-select: none;
  width: 100%;
  padding: 12px 0; /* å¢åŠ ä¸€ç‚¹ç‚¹å‡»åŒºåŸŸï¼Œæ›´æ˜“è§¦æ§ */
  /* ç§»é™¤å¯èƒ½å¯¼è‡´é”™ä½çš„é»˜è®¤è¾¹è· */
  margin: 0;
}

.toggle-switch-text {
  font-size: 15px; /* å­—ä½“ç¨å¾®è°ƒå°ä¸€ç‚¹ï¼Œæ›´æ˜¾ç²¾è‡´ */
  font-weight: 500;
  color: var(--text-primary);
}

/* éšè—åŸå§‹çš„ checkbox */
.toggle-switch-label input[type="checkbox"] {
  opacity: 0;
  width: 0;
  height: 0;
  position: absolute;
  pointer-events: none;
}

/* --- å¼€å…³çš„è½¨é“ (åº•åº§) --- */
.toggle-switch-slider {
  position: relative;
  display: inline-block;
  /* â˜… ä¿®æ”¹ï¼šç¼©å°å°ºå¯¸ (åŸ: 51x31 -> ç°: 42x24) */
  width: 42px;
  height: 24px;
  background-color: #e0e0e0; /* é»˜è®¤ç°è‰²èƒŒæ™¯æ›´æŸ”å’Œ */
  border-radius: 24px; /* èƒ¶å›Šå½¢çŠ¶ */
  transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* æ›´é¡ºæ»‘çš„åŠ¨ç”» */
  flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1); /* å¢åŠ å†…é˜´å½±ï¼Œæ›´æœ‰è´¨æ„Ÿ */
}

/* --- å¼€å…³çš„æ»‘å— (åœ†ç‚¹) --- */
.toggle-switch-slider::before {
  content: "";
  position: absolute;
  height: 20px;
  width: 20px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  border-radius: 50%;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* --- é€‰ä¸­çŠ¶æ€ --- */
.toggle-switch-label input:checked + .toggle-switch-slider {
  background-color: var(--accent-color, #34c759);
  box-shadow: none;
}

/* --- é€‰ä¸­æ—¶çš„æ»‘å—ç§»åŠ¨ --- */
.toggle-switch-label input:checked + .toggle-switch-slider::before {
  transform: translateX(18px);
}

/* å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode .toggle-switch-slider {
  background-color: #4a4a4a;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.5);
}
/* --- æ–°å¢æ ·å¼ --- */
#context-token-count-display {
  cursor: pointer;
  text-decoration: underline;
  color: var(--accent-color) !important; /* ä½¿ç”¨ä¸»é¢˜è‰² */
  font-weight: bold;
}
#context-token-count-display:hover {
  opacity: 0.8;
}
/* === èŒç³»è®¾ç½®é¡µé¢ CSS (å…¨åŠŸèƒ½ä¿®å¤ç‰ˆ) === */

/* 1. å¼¹çª—å®¹å™¨ç¾åŒ– */
.moe-settings-content {
  height: 95% !important;
  max-height: 95% !important;
  border-radius: 24px !important;
  background-color: #f4f7f9 !important; /* æŸ”å’Œçš„èƒŒæ™¯è‰² */
  overflow: hidden;
  display: flex;
  flex-direction: column;
  border: 1px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
}
#phone-screen.dark-mode .moe-settings-content {
  background-color: #1a1a1a !important;
  border-color: #333;
}

/* 2. å¤´éƒ¨æ ·å¼ */
.moe-modal-header {
  background: rgba(255, 255, 255, 0.85) !important;
  backdrop-filter: blur(12px);
  padding: 18px !important;
  text-align: center !important;
  font-size: 18px !important;
  font-weight: 800 !important;
  color: var(--accent-color) !important;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05) !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);
  z-index: 10;
}
#phone-screen.dark-mode .moe-modal-header {
  background: rgba(30, 30, 30, 0.9) !important;
  border-bottom-color: rgba(255, 255, 255, 0.1) !important;
}

/* 3. æ»šåŠ¨åŒºåŸŸ */
.moe-settings-body {
  padding: 20px !important;
  overflow-y: auto !important;
  flex-grow: 1;
}

/* 4. å¡ç‰‡é€šç”¨æ ·å¼ */
.moe-card {
  background: #ffffff !important;
  border-radius: 20px !important;
  padding: 18px !important;
  margin-bottom: 20px !important;
  box-shadow: 0 4px 15px rgba(149, 157, 165, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.5) !important;
}
#phone-screen.dark-mode .moe-card {
  background: #252525 !important;
  border-color: #333 !important;
  box-shadow: none !important;
}

/* 5. æ ‡é¢˜æ ·å¼ */
.settings-section-title {
  font-size: 16px !important;
  font-weight: 700 !important;
  color: var(--accent-color) !important;
  margin-bottom: 15px !important;
  padding-bottom: 10px !important;
  border-bottom: 2px dashed rgba(var(--accent-color-rgb), 0.15) !important;
  opacity: 0.9;
}

/* 6. è¾“å…¥æ¡†ç¾åŒ– */
.moe-input {
  width: 100%;
  padding: 10px 12px !important;
  border: 1px solid #e1e5e9 !important;
  border-radius: 12px !important;
  background-color: #fcfdfe !important;
  font-size: 14px !important;
  transition: all 0.2s ease;
  box-sizing: border-box;
  color: #333;
}
.moe-input:focus {
  border-color: var(--accent-color) !important;
  background-color: #fff !important;
  box-shadow: 0 0 0 3px rgba(var(--accent-color-rgb), 0.15) !important;
  outline: none;
}
#phone-screen.dark-mode .moe-input {
  background-color: #2c2c2e !important;
  border-color: #444 !important;
  color: #eee;
}

/* 7. å¸ƒå±€è¾…åŠ© */
.moe-grid-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-bottom: 15px;
}
.input-with-btn-row {
  display: flex;
  gap: 8px;
  align-items: center;
}
.avatar-upload-column {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}
.preview-img {
  width: 65px !important;
  height: 65px !important;
  border-radius: 14px !important;
  object-fit: cover;
  border: 3px solid #fff;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}
.btn-stack {
  display: flex;
  flex-direction: column;
  gap: 5px;
  width: 100%;
}

/* 8. æŒ‰é’®æ ·å¼ */
.moe-btn-mini {
  padding: 6px !important;
  font-size: 11px !important;
  border-radius: 8px !important;
  border: 1px solid #e0e0e0 !important;
  background: #fff !important;
  color: #666 !important;
  cursor: pointer;
  width: 100%;
  font-weight: 600 !important;
  transition: all 0.2s;
}
.moe-btn-small {
  padding: 8px 12px !important;
  border-radius: 10px !important;
  border: 1px solid #e0e0e0 !important;
  background: #fff !important;
  color: #555 !important;
  cursor: pointer;
  font-size: 12px !important;
  font-weight: 600 !important;
  white-space: nowrap;
}
.moe-btn-secondary {
  width: 100%;
  padding: 12px !important;
  border-radius: 14px !important;
  border: 1px solid var(--accent-color) !important;
  background-color: #fff !important;
  color: var(--accent-color) !important;
  font-weight: 600 !important;
  font-size: 14px !important;
  cursor: pointer;
  transition: all 0.2s;
  margin-top: 10px !important;
}
.moe-btn-secondary:active {
  background-color: var(--accent-color) !important;
  color: white !important;
}
.moe-btn-danger {
  width: 100%;
  padding: 12px !important;
  border-radius: 14px !important;
  border: 1px solid #ffcdd2 !important;
  background-color: #fff5f5 !important;
  color: #e53935 !important;
  font-weight: 600 !important;
  font-size: 14px !important;
  cursor: pointer;
  margin-top: 10px !important;
}

/* 9. è¯¦æƒ…ç›’å­ (æŠ˜å å±•å¼€åŒºåŸŸ) */
.moe-details-box {
  background-color: rgba(var(--accent-color-rgb), 0.03);
  border: 1px dashed rgba(var(--accent-color-rgb), 0.2);
  border-radius: 12px;
  padding: 12px;
  margin-top: 10px;
}
#phone-screen.dark-mode .moe-details-box {
  background-color: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

/* 10. è§†é¢‘é¢„è§ˆæ¡† */
.video-preview-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  border: 1px dashed #ccc;
  border-radius: 10px;
  padding: 5px;
  background: #fff;
}
.video-preview-box img {
  width: 60px;
  height: 90px;
  object-fit: cover;
  border-radius: 6px;
}
.video-preview-box span {
  font-size: 10px;
  color: #999;
  margin-top: 2px;
}

/* 11. èƒŒæ™¯é¢„è§ˆ */
.bg-upload-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #f9f9f9;
  padding: 10px;
  border-radius: 12px;
}
.bg-preview-wrapper {
  position: relative;
}
.bg-preview-img {
  width: 80px;
  height: 120px;
  object-fit: cover;
  border-radius: 8px;
  background: #eee;
  border: 1px solid #ddd;
}
#remove-bg-btn {
  position: absolute;
  top: -6px;
  right: -6px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #ff5252;
  color: white;
  border: 2px solid white;
  font-weight: bold;
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* 12. æ ‡ç­¾ä¸ä¿¡æ¯ */
.info-tags {
  display: flex;
  justify-content: space-between;
  margin-top: 10px;
}
.tag {
  font-size: 11px;
  color: #888;
  background: #f0f0f0;
  padding: 2px 8px;
  border-radius: 10px;
}

/* 13. æ‚¬æµ®æŒ‰é’® (FAB) */
.moe-fab-save,
.moe-fab-cancel {
  position: absolute;
  bottom: 25px;
  width: 60px !important;
  height: 60px !important;
  border-radius: 30px !important;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15) !important;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  font-size: 20px !important;
  cursor: pointer;
  z-index: 100;
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  pointer-events: auto;
}
.moe-fab-save {
  right: 25px;
  background: linear-gradient(
    135deg,
    #a1c4fd,
    #c2e9fb
  ) !important; /* è“è‰²æ¸å˜ */
  color: white !important;
  border: 3px solid rgba(255, 255, 255, 0.5) !important;
}
.moe-fab-cancel {
  left: 25px;
  background: #fff !important;
  color: #555 !important;
  border: 1px solid #eee !important;
}
.moe-fab-save:active,
.moe-fab-cancel:active {
  transform: scale(0.9);
}
#custom-modal-body {
  max-height: 50vh;
  overflow-y: auto;
  overflow-x: hidden;
  word-wrap: break-word;
  padding: 10px;
}
.moe-card:has(.checkboxes-container.visible) {
  z-index: 1000 !important;
  position: relative !important; /* ç¡®ä¿ z-index ç”Ÿæ•ˆ */
}

.form-group:has(.checkboxes-container.visible) {
  z-index: 1000 !important;
  position: relative !important;
}

/* 3. ä¼˜åŒ–ä¸‹æ‹‰èœå•æœ¬èº«çš„æ ·å¼ */
.checkboxes-container {
  z-index: 2000 !important; /* ç¡®ä¿å®ƒæ¯”å¡ç‰‡å±‚çº§æ›´é«˜ */

  /* é™åˆ¶æœ€å¤§é«˜åº¦ï¼Œé˜²æ­¢èœå•å¤ªé•¿è¶…å‡ºå±å¹•åº•éƒ¨å¯¼è‡´æ— æ³•æ»šåŠ¨ */
  max-height: 250px !important;

  /* å¼€å¯å†…éƒ¨æ»šåŠ¨ï¼Œç¡®ä¿æ‰€æœ‰é€‰é¡¹éƒ½èƒ½é€‰åˆ° */
  overflow-y: auto !important;

  /* åŠ å¼ºé˜´å½±ï¼Œè®©å®ƒçœ‹èµ·æ¥æ›´åƒæ‚¬æµ®åœ¨æœ€ä¸Šå±‚ */
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25) !important;

  /* ç¨å¾®è°ƒæ•´è¾¹æ¡†ï¼Œæ›´æ¸…æ™° */
  border: 1px solid var(--accent-color) !important;
}

/* é€‚é…å¤œé—´æ¨¡å¼çš„é˜´å½± */
#phone-screen.dark-mode .checkboxes-container {
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5) !important;
}
/* åœˆå­è¯„è®ºé¡¹è®¾ç½®ä¸ºç›¸å¯¹å®šä½ï¼Œä»¥ä¾¿å®šä½åˆ é™¤æŒ‰é’® */
.post-comment-item {
  position: relative;
  padding-right: 30px; /* å³è¾¹ç•™å‡ºç©ºé—´ç»™åˆ é™¤æŒ‰é’® */
}

.forum-comment-delete-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 20px;
  height: 20px;
  line-height: 18px;
  text-align: center;
  color: #ccc;
  font-size: 18px;
  cursor: pointer;
  border-radius: 50%;
  transition: all 0.2s;
  font-family: Arial, sans-serif;
  z-index: 10;
}

.forum-comment-delete-btn:hover {
  color: #ff3b30;
  background-color: rgba(255, 59, 48, 0.1);
}
#dating-bgm-playlist .dating-bgm-item {
  padding: 12px 15px;
  border-bottom: 1px solid var(--border-color);
  cursor: pointer;
  transition: background-color 0.2s;
}

#dating-bgm-playlist .dating-bgm-item:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

#dating-bgm-playlist .dating-bgm-item.playing {
  background-color: var(--accent-color-light, #e0f7ff);
  color: var(--accent-color, #007bff);
  font-weight: 600;
}

.dark-mode #dating-bgm-playlist .dating-bgm-item.playing {
  background-color: rgba(var(--accent-color-rgb), 0.2);
}

#dating-bgm-playlist .dating-bgm-item .title {
  font-size: 15px;
}

#dating-bgm-playlist .dating-bgm-item .artist {
  font-size: 12px;
  color: var(--text-secondary);
  margin-top: 4px;
}
#dating-bgm-modal .modal-content {
  background-color: #f7f3f8;
  border: 1px solid #e1dbe6;
  height: 65% !important;
  max-width: 320px;
}

#dating-bgm-modal .modal-header span {
  color: #6a4c95;
}

#dating-bgm-modal .bgm-controls {
  margin-bottom: 20px !important;
}

#dating-bgm-modal .form-button-secondary {
  border-color: #d8c1e8 !important;
  background-color: #fff !important;
  color: #6a4c95 !important;
  border-radius: 20px !important;
  font-weight: 600 !important;
}

#dating-bgm-modal .form-button-secondary:active {
  background-color: #f7f3f8 !important;
}

#dating-bgm-modal .form-group label {
  color: #8e809c;
}
#dating-bgm-modal input[type="range"] {
  -webkit-appearance: none;
  background: #e1dbe6;
}
#dating-bgm-modal input[type="range"]::-webkit-slider-thumb {
  background: #a98bc4;
}

#dating-bgm-playlist .dating-bgm-item {
  border-bottom-color: #e1dbe6;
  transition: all 0.2s;
}

#dating-bgm-playlist .dating-bgm-item:hover {
  background-color: rgba(255, 255, 255, 0.7);
}

#dating-bgm-playlist .dating-bgm-item.playing {
  background-color: #e9e0f3;
  border-left: 4px solid #a98bc4;
  padding-left: 11px;
}

#dating-bgm-playlist .dating-bgm-item.playing .title {
  color: #6a4c95;
  font-weight: 700;
}
#date-a-live-screen {
  background: linear-gradient(135deg, #fff0f5 0%, #e6e6fa 100%) !important;
}

#dating-scene-content {
  background: transparent !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 25px !important;
  padding: 25px 20px !important;
  min-height: 0;
  flex-grow: 1;
  overflow-y: auto;
}

.dating-scene-card {
  box-sizing: border-box !important;

  width: 100% !important;
  background-color: #ffffff !important;
  border-radius: 20px !important;
  padding: 12px !important;
  box-shadow: 0 8px 25px rgba(230, 159, 181, 0.25) !important;
  border: 1px solid rgba(255, 192, 203, 0.5) !important;
  position: relative;
  overflow: visible !important;
  transition:
    transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  display: flex !important;
  flex-direction: column !important;
}

.dating-scene-card:hover {
  transform: translateY(-5px) !important;
  box-shadow: 0 12px 30px rgba(230, 159, 181, 0.35) !important;
}

.dating-scene-card::before {
  content: "ğŸ’–";
  position: absolute;
  top: -15px;
  left: 20px;
  font-size: 28px;
  transform: rotate(-20deg);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  opacity: 0.9;
}

.dating-scene-image-container {
  width: 100%;
  aspect-ratio: 16 / 10;
  border-radius: 12px !important;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08) !important;
  border: 2px solid white;
  box-sizing: border-box;
}

.dating-scene-image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}

.dating-scene-card:hover .dating-scene-image-container img {
  transform: scale(1.05);
}

.dating-scene-info {
  padding: 15px 5px 5px 5px !important;
  text-align: center;
}

.dating-scene-info .name {
  font-size: 17px !important;
  font-weight: 700 !important;
  color: #4a4a4a !important;
}

.dating-scene-info .cost {
  font-size: 15px !important;
  color: #ff69b4 !important;
  font-weight: bold !important;
  margin-top: 8px !important;
}
.dating-scene-info .cost::after {
  content: " ğŸª™";
}

.dating-scene-delete-btn {
  background-color: rgba(255, 255, 255, 0.8) !important;
  color: #ff8fab !important;
  border-radius: 50% !important;
  width: 28px !important;
  height: 28px !important;
  font-size: 18px !important;
  line-height: 28px !important;
  border: 1px solid rgba(0, 0, 0, 0.05) !important;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1) !important;
}
.dating-scene-delete-btn:hover {
  background-color: #ff69b4 !important;
  color: white !important;
}

#phone-screen.dark-mode .dating-scene-card {
  background-color: #2c1e22 !important;
  border-color: #583d47 !important;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3) !important;
}
#phone-screen.dark-mode .dating-scene-info .name {
  color: #fce4ec !important;
}
#dating-game-screen {
  background-color: #000;
  color: white;
}

#dating-game-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  transition: all 0.5s ease-in-out;
  filter: blur(8px) brightness(0.7);
  transform: scale(1.1);
  z-index: 1;
}

#dating-game-sprite-container {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  height: auto;
  max-height: 80%;
  pointer-events: none;
  transition: all 0.5s ease-in-out;
  z-index: 2;
}
#dating-game-sprite-container img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.5));
  transition: opacity 0.3s ease-in-out;
}

.dating-game-ui-overlay {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding-bottom: calc(15px + env(safe-area-inset-bottom));
  box-sizing: border-box;
  z-index: 3;
}
#dating-game-screen .header {
  position: absolute;
  top: 0;
  width: 100%;
  box-sizing: border-box;
  background-color: rgba(0, 0, 0, 0.25);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.15);
  color: white;
}
#dating-game-screen .header .back-btn,
#dating-game-screen .header .action-btn svg {
  color: white !important;
}

.dating-game-textbox {
  background-color: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(25px) saturate(180%);
  -webkit-backdrop-filter: blur(25px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 24px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
  padding: 20px;
  margin: 0 15px 15px 15px;
  min-height: 120px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  line-height: 1.7;
  font-size: 16px;
  color: white;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.dating-game-textbox #dating-game-text-content {
  transition: opacity 0.2s ease-in-out;
}
.dating-game-textbox #dating-game-text-content.fade-out {
  opacity: 0;
}

.dating-game-textbox .continue-indicator {
  display: block;
  text-align: right;
  margin-top: 10px;
  font-size: 14px;
  color: rgba(255, 255, 255, 0.5);
  animation: pulse-indicator 1.5s infinite;
}
@keyframes pulse-indicator {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.4;
  }
}

.dating-game-choices {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 0 15px;
  margin-bottom: 15px;
}

.dating-game-choice-btn {
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 50px;
  padding: 16px;
  color: #f2f2f7;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.dating-game-choice-btn:hover {
  background-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-2px);
}
.dating-game-choice-btn:active {
  transform: scale(0.98);
}

.dating-game-choice-btn.input-action {
  background-color: rgba(255, 136, 178, 0.8);
  border-color: rgba(255, 136, 178, 1);
  color: white;
}

#dating-values-container,
#dating-completion-bar-container {
  background-color: rgba(0, 0, 0, 0.25);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

#dating-values-container {
  padding: 6px 10px;
  border-radius: 15px;
}

#dating-completion-bar-container {
  height: 12px;
  border-radius: 6px;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.3);
}
#dating-completion-bar-fill {
  background: linear-gradient(90deg, #ff8fab, #fb6f92);
}
#dating-completion-text {
  font-size: 10px;
}
.moe-settings-content {
  position: relative !important;
}
#chat-settings-modal .modal-footer {
  position: static !important;
  padding: 0 !important;
  border: none !important;
  height: 0 !important;
  pointer-events: none;
}
.moe-fab-save,
.moe-fab-cancel {
  position: absolute !important;
  bottom: 25px !important;
  pointer-events: auto !important;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.moe-fab-save:hover,
.moe-fab-cancel:hover {
  transform: scale(1.08) rotate(-5deg);
}
.moe-fab-save {
  right: 25px !important;
}

.moe-fab-cancel {
  left: 25px !important;
}
#dating-game-settings-modal .modal-content {
  background-color: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius: 24px !important;
  border: 1px solid rgba(255, 255, 255, 0.5) !important;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;
}

#dating-game-settings-modal .modal-header {
  text-align: center;
  font-size: 18px;
  font-weight: 700;
  color: #a786df;
  border-bottom: 1px dashed #e1dbe6;
  padding-bottom: 15px;
}

#dating-game-settings-modal .form-group {
  margin-bottom: 18px;
}

#dating-game-settings-modal label {
  font-weight: 600;
  color: #6a526f;
  font-size: 14px;
  margin-bottom: 8px;
  letter-spacing: 0.5px;
}

#dating-game-settings-modal input[type="text"],
#dating-game-settings-modal textarea,
#dating-game-settings-modal select {
  background-color: #f9f5f6 !important;
  border: 1px solid #f0e6e8 !important;
  border-radius: 12px !important;
  padding: 12px !important;
  font-size: 14px;
  color: #555;
  transition: all 0.3s ease;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.02);
}

#dating-game-settings-modal input:focus,
#dating-game-settings-modal textarea:focus,
#dating-game-settings-modal select:focus {
  border-color: #ffb7c5 !important;
  background-color: white !important;
  box-shadow: 0 0 0 3px rgba(255, 183, 197, 0.3) !important;
  outline: none;
}

#dating-game-settings-modal .modal-footer {
  gap: 12px;
}

#dating-game-settings-modal #cancel-dating-settings-btn {
  background-color: #f0e6f2;
  color: #827693;
  border: none;
  font-weight: 600;
  border-radius: 20px;
  transition: all 0.2s ease;
}

#dating-game-settings-modal #cancel-dating-settings-btn:hover {
  background-color: #e1dbe6;
}

#dating-game-settings-modal #save-dating-settings-btn {
  background: linear-gradient(135deg, #ff9a9e 0%, #ffc3a0 100%);
  color: white;
  border: none;
  font-weight: bold;
  border-radius: 20px;
  box-shadow: 0 4px 15px rgba(255, 154, 158, 0.4);
  transition: all 0.2s ease;
}
#dating-game-settings-modal .modal-footer button:active {
  transform: scale(0.97);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

#phone-screen.dark-mode #dating-game-settings-modal .modal-content {
  background-color: rgba(30, 30, 30, 0.8) !important;
  border-color: rgba(255, 255, 255, 0.15) !important;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4) !important;
}

#phone-screen.dark-mode #dating-game-settings-modal .modal-header {
  border-bottom-color: #444;
}

#phone-screen.dark-mode #dating-game-settings-modal input,
#phone-screen.dark-mode #dating-game-settings-modal textarea,
#phone-screen.dark-mode #dating-game-settings-modal select {
  background-color: #2c2c2e !important;
  border-color: #444 !important;
  color: #eee;
}

#phone-screen.dark-mode
  #dating-game-settings-modal
  #cancel-dating-settings-btn {
  background-color: #3e3e42;
  color: #ccc;
}

.avatar-upload-column {
  width: 80px;
  align-items: center;
  flex-shrink: 0;
}

.preview-img {
  width: 70px !important;
  height: 70px !important;
  border-radius: 18px !important;
  margin-bottom: 5px;
}

.btn-stack {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.moe-btn-mini {
  width: 100% !important;
  box-sizing: border-box;
  text-align: center;
  padding: 6px 0 !important;
  font-size: 11px !important;
  border-radius: 12px !important;
  margin: 0 !important;
  background-color: #fff !important;
  border: 1px solid #e0e0e0 !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.03);
  transition: all 0.2s;
}

.moe-btn-mini:hover {
  background-color: #f7f9fc !important;
  border-color: var(--accent-color) !important;
  color: var(--accent-color) !important;
  transform: translateY(-1px);
}
.bg-upload-container {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 25px !important;

  background-color: #f7f9fc !important;
  padding: 20px !important;
  border-radius: 20px !important;
  border: 1px solid #eef2f7 !important;
  margin-top: 10px !important;
}

#phone-screen.dark-mode .bg-upload-container {
  background-color: #252525 !important;
  border-color: #333 !important;
}

.bg-preview-wrapper {
  position: relative !important;
  flex-shrink: 0 !important;
}

.bg-preview-img {
  display: block !important;
  width: 108px !important;
  height: 192px !important;
  max-width: none !important;
  max-height: none !important;

  object-fit: cover !important;
  border-radius: 12px !important;
  border: 3px solid #fff !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15) !important;
  background-color: #eee !important;
}

#phone-screen.dark-mode .bg-preview-img {
  border-color: #444 !important;
  background-color: #333 !important;
}

.bg-upload-container > button {
  flex-grow: 1 !important;
  height: 50px !important;
  font-size: 15px !important;
  background-color: #fff !important;
  border: 1px dashed var(--accent-color) !important;
  color: var(--accent-color) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
  margin-top: 0 !important;
}

#remove-bg-btn {
  top: -10px !important;
  right: -10px !important;
  width: 26px !important;
  height: 26px !important;
  font-size: 16px !important;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2) !important;
  z-index: 5 !important;
}
/* === KKæŸ¥å²— - çº¿ç´¢åˆ†äº«å¡ç‰‡æ ·å¼ === */
.kk-share-card {
  background: linear-gradient(
    135deg,
    #fff8e1 0%,
    #ffecb3 100%
  ); /* æ·¡é»„è‰²èƒŒæ™¯ */
  border-radius: 12px;
  padding: 12px 15px;
  color: #5d4037; /* æ·±è¤è‰²æ–‡å­— */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  border: 1px solid #ffe082;
  min-width: 200px;
  max-width: 260px;
  position: relative;
}

/* å¡ç‰‡å·¦ä¾§è£…é¥°çº¿æ¡ */
.kk-share-card::before {
  content: "";
  position: absolute;
  left: 0;
  top: 15px;
  bottom: 15px;
  width: 4px;
  background-color: #ffca28;
  border-radius: 0 4px 4px 0;
}

.kk-share-card .header {
  display: flex;
  align-items: center;
  gap: 6px;
  border-bottom: 1px dashed rgba(93, 64, 55, 0.2);
  padding-bottom: 8px;
  margin-bottom: 8px;
  font-weight: bold;
  font-size: 14px;
}

.kk-share-card .header .icon {
  font-size: 16px;
}

.kk-share-card .content {
  font-size: 13px;
  line-height: 1.5;
  margin-bottom: 8px;
  /* é™åˆ¶æ˜¾ç¤ºè¡Œæ•°ï¼Œé˜²æ­¢å¤ªé•¿ */
  display: -webkit-box;
  -webkit-line-clamp: 6;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.kk-share-card .footer {
  font-size: 10px;
  color: rgba(93, 64, 55, 0.6);
  text-align: right;
  font-style: italic;
}
/* --- ç”µè„‘å¼¹çª—å±‚çº§ä¿®å¤ --- */

/* 1. æœ€åº•å±‚ï¼šç”µè„‘æ¡Œé¢ */
#kk-computer-modal {
  z-index: 1001 !important;
}

/* 2. ä¸­é—´å±‚ï¼šSteamåˆ—è¡¨ã€æµè§ˆå™¨å†å²åˆ—è¡¨ã€æ–‡ä»¶æŸ¥çœ‹å™¨ */
#kk-steam-modal,
#kk-file-explorer-modal,
#kk-file-viewer-modal {
  z-index: 1002 !important;
}

/* 3. æœ€é¡¶å±‚ï¼šåˆ†äº«ç¡®è®¤æ¡† (ç‰©å“è¯¦æƒ…) */
#kk-item-share-modal {
  z-index: 2000 !important; /* è®¾å¾—å¾ˆé«˜ï¼Œç¡®ä¿å‹ä½æ‰€æœ‰çª—å£ */
}
/* å¼ºåˆ¶è®©é€šç”¨ç¡®è®¤æ¡†/æç¤ºæ¡†æ°¸è¿œåœ¨æœ€é¡¶å±‚ */
#custom-modal-overlay {
  z-index: 9999 !important;
}
/* è¡£å¸½é—´æ•´ä½“å¸ƒå±€ */
#wardrobe-container {
  display: flex;
  flex-direction: column;
  height: calc(100% - 60px); /* å‡å»å¤´éƒ¨é«˜åº¦ */
  background-color: #f5f5f7;
  position: relative;
}

/* ä¸ŠåŠéƒ¨åˆ†ï¼šå±•ç¤ºåŒº */
#wardrobe-preview-area {
  flex: 4; /* å 40%é«˜åº¦ */
  background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%); /* æ¢¦å¹»èƒŒæ™¯ */
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  padding-bottom: 20px;
  overflow: visible; /* å…è®¸æ°”æ³¡è¶…å‡º */
}

/* è§’è‰²ç«‹ç»˜/å¤´åƒ */
#wardrobe-char-avatar {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: 4px solid white;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  position: absolute;
  top: 20px;
  left: 20px;
  object-fit: cover;
  z-index: 2;
}

/* AIååº”æ°”æ³¡ */
#wardrobe-reaction-bubble {
  position: absolute;
  top: 20px;
  left: 130px;
  right: 20px;
  background: white;
  padding: 12px;
  border-radius: 12px;
  border-bottom-left-radius: 2px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  font-size: 14px;
  color: #333;
  line-height: 1.5;
  z-index: 3;
  animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
@keyframes popIn {
  from {
    opacity: 0;
    transform: scale(0.8) translateY(10px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

/* å½“å‰æ­é…æ§½ä½ */
#current-outfit-display {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  z-index: 2;
}

.outfit-slot {
  width: 60px;
  height: 60px;
  background-color: rgba(255, 255, 255, 0.6);
  border: 2px dashed rgba(255, 255, 255, 0.8);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  position: relative;
  cursor: pointer;
  transition: all 0.2s;
}
.outfit-slot::after {
  content: attr(data-placeholder);
  position: absolute;
  bottom: 2px;
  font-size: 10px;
  color: #666;
}
.outfit-slot.filled {
  background-color: white;
  border-style: solid;
  border-color: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* è¯•ç©¿æŒ‰é’® */
#wardrobe-try-on-btn {
  width: 80%;
  background: #333;
  border: none;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  z-index: 2;
}
#wardrobe-try-on-btn:disabled {
  background: #ccc;
  box-shadow: none;
}

/* ä¸‹åŠéƒ¨åˆ†ï¼šåº“å­˜åˆ—è¡¨ */
#wardrobe-inventory-area {
  flex: 6; /* å 60%é«˜åº¦ */
  background-color: white;
  border-top-left-radius: 20px;
  border-top-right-radius: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  margin-top: -15px; /* ç¨å¾®ç›–ä½ä¸Šé¢ä¸€ç‚¹ */
  z-index: 1;
}

.wardrobe-tabs {
  display: flex;
  padding: 10px 20px;
  border-bottom: 1px solid #eee;
  overflow-x: auto;
}

.wardrobe-tab {
  padding: 8px 16px;
  margin-right: 10px;
  border-radius: 20px;
  font-size: 14px;
  color: #666;
  background: #f5f5f7;
  cursor: pointer;
  white-space: nowrap;
}
.wardrobe-tab.active {
  background: #333;
  color: white;
  font-weight: bold;
}

.wardrobe-grid {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 15px;
  align-content: start;
}

.cloth-card {
  background: #fff;
  border: 1px solid #eee;
  border-radius: 12px;
  padding: 15px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s;
}
.cloth-card:hover {
  transform: translateY(-2px);
}
.cloth-card.selected {
  border-color: #333;
  background-color: #fafafa;
  box-shadow: 0 0 0 2px #333;
}

.cloth-icon {
  font-size: 32px;
  margin-bottom: 5px;
}
.cloth-name {
  font-size: 13px;
  font-weight: 600;
  color: #333;
  line-height: 1.2;
}
.cloth-desc {
  font-size: 10px;
  color: #999;
  margin-top: 4px;
  display: none; /* åˆ—è¡¨é‡Œå¤ªæŒ¤å¯ä»¥ä¸æ˜¾ç¤ºæè¿° */
}
/* --- KKæŸ¥å²— è¡£å¸½é—´æ ·å¼ä¿®å¤ --- */

/* é™åˆ¶å·¦ä¾§é¢„è§ˆåŒºçš„é«˜åº¦ï¼Œé˜²æ­¢æ’‘ç ´å±å¹• */
#wardrobe-preview-area {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  max-height: 55vh; /* é™åˆ¶ä¸ŠåŠéƒ¨åˆ†é«˜åº¦ */
  overflow: hidden; /* é˜²æ­¢æº¢å‡º */
}

/* é™åˆ¶è§’è‰²ç«‹ç»˜çš„å¤§å°ï¼Œå¹¶è®©å®ƒå¤„äºåº•å±‚ */
#wardrobe-char-avatar {
  max-height: 160px; /* é™åˆ¶ç«‹ç»˜æœ€å¤§é«˜åº¦ */
  width: auto;
  object-fit: contain;
  z-index: 1; /* å±‚çº§è¾ƒä½ */
  margin-bottom: 10px;
}

/* æé«˜æ°”æ³¡çš„å±‚çº§ï¼Œç¡®ä¿åœ¨ç«‹ç»˜ä¸Šé¢ */
#wardrobe-comment-bubble,
#wardrobe-reaction-bubble {
  z-index: 10; /* å±‚çº§è¾ƒé«˜ */
  position: relative; /* ç›¸å¯¹å®šä½ */
  max-width: 90%;
  margin-top: -20px; /* ç¨å¾®å‘ä¸Šåç§»ï¼Œäº§ç”Ÿé‡å æ„Ÿä½†æ–‡å­—ä¸è¢«æŒ¡ */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* åŠ æ·±é˜´å½± */
  border: 1px solid var(--border-color);
}

/* ä¼˜åŒ–æ­é…æ§½çš„å®¹å™¨ï¼Œæ”¯æŒæ¨ªå‘æ»šåŠ¨ä»¥å®¹çº³æ›´å¤šåˆ†ç±» */
#current-outfit-display {
  display: flex;
  gap: 8px;
  padding: 10px;
  overflow-x: auto; /* å…è®¸æ¨ªå‘æ»šåŠ¨ */
  width: 100%;
  box-sizing: border-box;
  justify-content: flex-start; /* å·¦å¯¹é½ */
}

/* æ§½ä½ç¨å¾®ç¼©å°ä¸€ç‚¹ï¼Œä»¥ä¾¿æ”¾ä¸‹æ›´å¤š */
.outfit-slot {
  min-width: 50px;
  height: 50px;
  font-size: 12px;
  flex-shrink: 0;
}
/* --- ä¿®å¤æ°”æ³¡ä½ç½®ä¸åŒºåˆ†åº¦ --- */

/* 1. æ™®é€šçœ‹æ³•æ°”æ³¡ (é€‰ä¸­è¡£æœæ—¶æ˜¾ç¤º) */
#wardrobe-comment-bubble {
  position: relative; /* ä¿æŒç›¸å¯¹å®šä½ */
  background: #fff;
  border: 1px solid #e0e0e0;
  color: #555;
  padding: 10px 15px;
  border-radius: 12px;
  margin: 10px auto 5px auto; /* ä¸Šä¸‹ç•™ç©ºï¼Œæ°´å¹³å±…ä¸­ */
  max-width: 90%;
  z-index: 10;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  text-align: center;
}

/* 2. è¯•ç©¿ååº”æ°”æ³¡ (ç‚¹å‡»ç©¿ä¸Šåæ˜¾ç¤º) - é‡ç‚¹ä¿®æ”¹ï¼ */
#wardrobe-reaction-bubble {
  /* ä½¿ç”¨ç»å¯¹å®šä½ï¼Œè„±ç¦»æ–‡æ¡£æµï¼Œå½»åº•è§£å†³"åå³"é—®é¢˜ */
  position: absolute;
  top: 50%; /* å‚ç›´å±…ä¸­ */
  left: 50%; /* æ°´å¹³å±…ä¸­ */
  transform: translate(-50%, -50%); /* ä¿®æ­£å±…ä¸­åç§» */

  /* æ ·å¼åŒºåˆ†ï¼šç²‰è‰²ä¸»é¢˜ï¼Œä»£è¡¨"å¿ƒåŠ¨/åé¦ˆ" */
  background-color: #fff0f5; /* æµ…ç²‰è‰²èƒŒæ™¯ */
  border: 2px solid #ffb7b2; /* ç²‰è‰²è¾¹æ¡† */
  color: #d63384; /* æ·±ç²‰è‰²æ–‡å­— */

  padding: 15px;
  border-radius: 16px;
  width: 80%; /* å®½åº¦å›ºå®š */
  z-index: 100; /* å±‚çº§æœ€é«˜ï¼Œç›–ä½ç«‹ç»˜å’Œæ™®é€šæ°”æ³¡ */
  box-shadow: 0 8px 20px rgba(255, 183, 178, 0.4); /* ç²‰è‰²å…‰æ™•é˜´å½± */
  text-align: center;
  font-weight: bold;

  /* åŠ ä¸ªå¼¹å‡ºåŠ¨ç”» */
  animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* å¼¹å‡ºåŠ¨ç”»å…³é”®å¸§ */
@keyframes popIn {
  0% {
    opacity: 0;
    transform: translate(-50%, -40%) scale(0.8);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

/* éšè—ååº”æ°”æ³¡çš„å°ä¸‰è§’ï¼Œå› ä¸ºå®ƒæ˜¯å±…ä¸­æ‚¬æµ®çš„ï¼Œä¸éœ€è¦æŒ‡å‘æŸå¤„ */
#wardrobe-reaction-bubble::after,
#wardrobe-reaction-bubble::before {
  display: none;
}

/* ç¡®ä¿çˆ¶å®¹å™¨æ”¯æŒç»å¯¹å®šä½ */
#wardrobe-preview-area {
  position: relative; /* è¿™ä¸€è¡Œå¿…é¡»æœ‰ */
  /* ...å…¶ä»–åŸæœ‰æ ·å¼... */
}
/* ================================================================= */
/* === ğŸ° KKæŸ¥å²— - ç»ˆæç¾åŒ– V2.0 (æœå†»ç»ç’ƒÂ·èµ›åšèŒç³»Â·é«˜çº§æ„Ÿ) === */
/* ================================================================= */

/* --- 0. å…¨å±€é€šç”¨å¼¹çª—ç¾åŒ– (é€‚ç”¨äºæŸ¥å²—çš„æ‰€æœ‰å¼¹çª—) --- */
#kk-computer-modal .modal-content,
#kk-file-explorer-modal .modal-content,
#kk-file-viewer-modal .modal-content,
#kk-steam-modal .modal-content,
#kk-item-share-modal .modal-content {
  /* èƒŒæ™¯ï¼šæ·±è‰²ç£¨ç ‚ç»ç’ƒï¼Œå¸¦ä¸€ç‚¹é«˜çº§çš„è“ç´«è‰²å€¾å‘ */
  background: rgba(30, 35, 45, 0.75) !important;
  backdrop-filter: blur(25px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(25px) saturate(180%) !important;

  /* è¾¹æ¡†ï¼šç»†è…»çš„æ¸å˜è¾¹æ¡†ï¼Œæ¨¡æ‹Ÿå…‰ç…§ */
  border: 1px solid rgba(255, 255, 255, 0.15) !important;
  border-top: 1px solid rgba(255, 255, 255, 0.3) !important;
  border-radius: 24px !important;

  /* é˜´å½±ï¼šæ·±é‚ƒçš„æ‚¬æµ®é˜´å½± */
  box-shadow:
    0 20px 50px rgba(0, 0, 0, 0.5),
    inset 0 0 0 1px rgba(255, 255, 255, 0.05) !important;
  color: #fff !important;
  overflow: hidden !important;
}

/* å¼¹çª—å¤´éƒ¨ç¾åŒ– */
#kk-computer-modal .modal-header,
#kk-file-explorer-modal .modal-header,
#kk-file-viewer-modal .modal-header,
#kk-steam-modal .modal-header,
#kk-item-share-modal .modal-header {
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 0.05),
    transparent
  ) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
  padding: 15px 20px !important;
  font-size: 17px !important;
  font-weight: 700 !important;
  letter-spacing: 0.5px;
  color: #fff !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* å¼¹çª—åº•éƒ¨ç¾åŒ– */
#kk-file-explorer-modal .modal-footer,
#kk-file-viewer-modal .modal-footer,
#kk-steam-modal .modal-footer,
#kk-item-share-modal .modal-footer {
  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
  background: rgba(0, 0, 0, 0.2) !important;
}

/* --- 1. ğŸ’» ç”µè„‘ç•Œé¢ (èµ›åšæ¡Œé¢é£æ ¼) --- */

/* æ¡Œé¢èƒŒæ™¯ */
#kk-computer-modal .modal-content {
  /* æ¢ä¸€ä¸ªæ›´æœ‰ç§‘æŠ€æ„Ÿçš„æ¸å˜èƒŒæ™¯ */
  background-image:
    radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.3) 0px, transparent 50%),
    radial-gradient(at 100% 100%, rgba(236, 72, 153, 0.3) 0px, transparent 50%),
    linear-gradient(135deg, #111827 0%, #0f172a 100%) !important;
}

/* æ¡Œé¢å›¾æ ‡å¸ƒå±€ */
#kk-computer-desktop {
  display: grid !important;
  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); /* è‡ªåŠ¨ç½‘æ ¼ */
  gap: 20px !important;
  padding: 30px 20px !important;
  align-content: start;
  backdrop-filter: none !important; /* ç§»é™¤æ—§çš„æ¨¡ç³Š */
  background: transparent !important;
}

/* å•ä¸ªå›¾æ ‡ */
.kk-desktop-icon {
  width: 100% !important;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.kk-desktop-icon:hover {
  transform: scale(1.1); /* æ‚¬æµ®æ”¾å¤§å¼¹è·³ */
}

/* å›¾æ ‡å›¾ç‰‡ */
.kk-desktop-icon img {
  width: 58px !important;
  height: 58px !important;
  border-radius: 14px !important;
  /* ç»™å›¾æ ‡åŠ ä¸€ç‚¹æŠ•å½±å’Œå†…å‘å…‰ */
  box-shadow:
    0 4px 15px rgba(0, 0, 0, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1) !important;
  background: rgba(255, 255, 255, 0.1); /* å›¾æ ‡åº•æ¿ */
  backdrop-filter: blur(5px);
  padding: 8px; /* å›¾æ ‡ç•™ç™½ */
  box-sizing: border-box;
  object-fit: contain !important;
}

/* å›¾æ ‡æ–‡å­— */
.kk-desktop-icon span {
  margin-top: 8px;
  font-size: 12px !important;
  color: rgba(255, 255, 255, 0.9) !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  background: rgba(0, 0, 0, 0.4); /* æ–‡å­—èƒŒæ™¯èƒ¶å›Š */
  padding: 2px 8px;
  border-radius: 10px;
}

/* --- 2. ğŸ‘— è¡£å¸½é—´ (æ¢¦å¹»è¯•è¡£é—´é£æ ¼) --- */

#kk-wardrobe-screen {
  /* æ¢¦å¹»çš„æå…‰èƒŒæ™¯ */
  background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
}
#phone-screen.dark-mode #kk-wardrobe-screen {
  background: #0f0f11;
}

/* ä¸ŠåŠéƒ¨åˆ†å±•ç¤ºåŒº */
#wardrobe-preview-area {
  background: none !important; /* ç§»é™¤æ—§èƒŒæ™¯ */
  /* æ–°èƒŒæ™¯ï¼šæŸ”å’Œçš„å…‰æ™• */
  background-image:
    radial-gradient(
      circle at 50% 30%,
      rgba(255, 192, 203, 0.2) 0%,
      transparent 60%
    ),
    linear-gradient(to bottom, #fff0f5 0%, #f3e7e9 100%) !important;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}
#phone-screen.dark-mode #wardrobe-preview-area {
  background-image:
    radial-gradient(
      circle at 50% 30%,
      rgba(100, 50, 100, 0.3) 0%,
      transparent 60%
    ),
    linear-gradient(to bottom, #1a1a1a 0%, #111 100%) !important;
  border-bottom-color: rgba(255, 255, 255, 0.1);
}

/* è§’è‰²ç«‹ç»˜ */
#wardrobe-char-avatar {
  width: 60px !important; /* åŠ å¤§ */
  height: 60px !important;
  border: 4px solid #fff !important;
  box-shadow: 0 8px 20px rgba(255, 182, 193, 0.4) !important;
  z-index: 2;
}

/* æ°”æ³¡ç¾åŒ– */
#wardrobe-comment-bubble {
  background: rgba(255, 255, 255, 0.9) !important;
  border: none !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08) !important;
  border-radius: 16px !important;
  color: #555 !important;
  font-size: 13px !important;
}

/* æ­é…æ§½ä½ (åœ†å½¢æœå†») */
.outfit-slot {
  width: 55px !important;
  height: 55px !important;
  background: rgba(255, 255, 255, 0.5) !important;
  border: 2px dashed rgba(0, 0, 0, 0.1) !important;
  border-radius: 50% !important; /* å˜æˆåœ†å½¢ */
  transition: all 0.2s ease;
}
.outfit-slot.filled {
  background: #fff !important;
  border: 2px solid #ffb7c5 !important; /* ç²‰è‰²å®çº¿ */
  box-shadow: 0 4px 10px rgba(255, 183, 197, 0.3) !important;
  transform: scale(1.05);
}
.outfit-slot img {
  border-radius: 50% !important;
}

/* ä¸‹åŠéƒ¨åˆ†åº“å­˜åŒº */
#wardrobe-inventory-area {
  background: transparent !important;
  border-top: none !important;
  margin-top: 0 !important;
}

/* æ ‡ç­¾é¡µ (Capsule Style) */
.wardrobe-tabs {
  background: transparent !important;
  padding: 10px 15px !important;
  gap: 10px !important;
  border-bottom: none !important;
}
.wardrobe-tab {
  background: rgba(255, 255, 255, 0.6) !important;
  border-radius: 20px !important;
  padding: 6px 16px !important;
  color: #888 !important;
  font-size: 13px !important;
  border: 1px solid rgba(0, 0, 0, 0.05) !important;
  transition: all 0.2s !important;
}
.wardrobe-tab.active {
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%) !important;
  color: white !important;
  font-weight: 600 !important;
  box-shadow: 0 4px 10px rgba(255, 154, 158, 0.4) !important;
  border-color: transparent !important;
  transform: translateY(-2px);
}

/* è¡£æœå¡ç‰‡ */
.cloth-card {
  background: #fff !important;
  border: none !important;
  border-radius: 16px !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05) !important;
  transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
  overflow: hidden;
}
.cloth-card:hover {
  transform: translateY(-5px) !important;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1) !important;
}
.cloth-card.selected {
  border: 2px solid #ff9a9e !important;
  background: #fff5f7 !important;
}
.cloth-img {
  border-radius: 12px !important;
  background-color: #f9f9f9 !important;
}

/* ================================================================= */
/* === ğŸ“¹ KKæŸ¥å²— - ç›‘æ§ä¸­å¿ƒ (å¸ƒå±€ä¿®å¤ç‰ˆ V3.0) === */
/* ================================================================= */

/* 1. ç›‘æ§å¡ç‰‡ï¼šä¿æŒå¤§åœ†è§’å’Œæ‚¬æµ®æ„Ÿ */
.kk-monitor-item {
  position: relative;
  height: 280px !important; /* å›ºå®šé«˜åº¦ï¼Œä¿è¯æ•´é½ */
  border: none !important;
  border-radius: 20px !important;
  background-color: #1a1a1a !important;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4) !important;
  overflow: hidden; /* å…³é”®ï¼šé˜²æ­¢å†…å®¹æº¢å‡ºåœ†è§’ */
  display: flex;
  flex-direction: column;
  justify-content: flex-end; /* è®©å†…å®¹é åº•å¯¹é½ */
  transition: transform 0.2s ease;
}
.kk-monitor-item:hover {
  transform: scale(1.02);
}

/* 2. åº•éƒ¨é»‘è‰²æ¸å˜é¢æ¿ (åŒ…å«æ–‡å­—å’ŒæŒ‰é’®) */
.frosted-glass-panel {
  position: relative !important; /* æ¢å¤ä¸ºç›¸å¯¹å®šä½ */
  bottom: 0 !important;
  left: 0 !important;
  width: 100% !important;
  margin: 0 !important;
  padding: 30px 15px 15px 15px !important; /* é¡¶éƒ¨ç•™å‡ºç©ºé—´ç»™æ¸å˜è¿‡æ¸¡ */

  /* æ ¸å¿ƒï¼šé»‘è‰²æ¸å˜èƒŒæ™¯ï¼Œä¿è¯æ–‡å­—æ¸…æ™° */
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.95) 20%,
    rgba(0, 0, 0, 0.6) 80%,
    transparent 100%
  ) !important;
  border: none !important;
  border-radius: 0 !important;
  backdrop-filter: none !important;
  box-shadow: none !important;

  display: flex !important;
  flex-direction: column !important;
  gap: 10px !important; /* æ–‡å­—å’ŒæŒ‰é’®çš„é—´è· */
  z-index: 2;
}

/* 3. ç›‘æ§æè¿°æ–‡å­— (ä¿®å¤ï¼šå¯æ»šåŠ¨ï¼Œä¸è¢«æˆªæ–­) */
.monitor-content-text {
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
  font-size: 13px !important;
  line-height: 1.5 !important;
  color: rgba(255, 255, 255, 0.9) !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8) !important;
  margin: 0 !important;

  /* æ ¸å¿ƒä¿®å¤ï¼šé™åˆ¶é«˜åº¦ï¼Œè¶…å‡ºæ»šåŠ¨ */
  max-height: 80px !important;
  overflow-y: auto !important;
  padding-right: 5px; /* ç»™æ»šåŠ¨æ¡ç•™ç‚¹ä½ç½® */
}

/* 4. äº’åŠ¨æŒ‰é’®å®¹å™¨ (ä¿®å¤ï¼šå›ºå®šåœ¨åº•éƒ¨ï¼Œä¸è¢«é®æŒ¡) */
.monitor-interaction-controls {
  position: static !important; /* å–æ¶ˆç»å¯¹å®šä½ï¼Œè®©å®ƒè‡ªç„¶æ’åœ¨æ–‡å­—ä¸‹æ–¹ */
  display: flex !important;
  justify-content: flex-end; /* æŒ‰é’®é å³å¯¹é½ */
  gap: 12px !important;
  margin: 0 !important;
  padding-top: 5px !important;
  border: none !important;
  background: transparent !important;
}

/* 5. äº’åŠ¨æŒ‰é’®æ ·å¼ (ç»ç’ƒåœ†é’®) */
.monitor-btn {
  width: 38px !important;
  height: 38px !important;
  border-radius: 50% !important;
  background: rgba(255, 255, 255, 0.15) !important;
  border: 1px solid rgba(255, 255, 255, 0.25) !important;
  color: white !important;
  font-size: 16px !important;
  display: flex;
  justify-content: center;
  align-items: center;
  backdrop-filter: blur(5px);
  cursor: pointer;
  transition: all 0.2s;
}
.monitor-btn:hover {
  background: white !important;
  color: #333 !important;
  transform: scale(1.1);
}

/* 6. å¤´éƒ¨ä¿¡æ¯èƒ¶å›Š (å·¦ä¸Šè§’) */
.kk-monitor-item .monitor-header {
  position: absolute;
  top: 12px;
  left: 12px;
  background: rgba(0, 0, 0, 0.5) !important;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border-radius: 20px;
  padding: 4px 10px !important;
  color: rgba(255, 255, 255, 0.9) !important;
  font-size: 12px !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  z-index: 5;
  display: flex;
  align-items: center;
  gap: 6px;
  text-shadow: none !important;
}

/* 7. LIVE è§’æ ‡ (å³ä¸Šè§’ï¼Œä»…å½“è§’è‰²åœ¨æ—¶æ˜¾ç¤º) */
.kk-monitor-item.active-character-location {
  border: 2px solid rgba(255, 255, 255, 0.3) !important; /* ç»™å½“å‰æˆ¿é—´åŠ ä¸ªäº®è¾¹æ¡† */
}
.kk-monitor-item.active-character-location::after {
  content: "LIVE";
  position: absolute;
  top: 12px;
  right: 12px;
  background-color: #ff3b30;
  color: white;
  font-size: 10px;
  font-weight: 800;
  padding: 3px 6px;
  border-radius: 4px;
  z-index: 5;
  box-shadow: 0 0 10px rgba(255, 59, 48, 0.5);
  letter-spacing: 1px;
}
/* ================================================================= */
/* === ğŸ“± æ‰‹æœºç«¯ç›‘æ§æŒ‰é’® - å¼ºåˆ¶é˜²æº¢å‡ºä¿®å¤è¡¥ä¸ === */
/* ================================================================= */

/* å¼ºåˆ¶æ‰€æœ‰ç›’æ¨¡å‹ä¸ºå†…å‡æ¨¡å¼ï¼Œé˜²æ­¢paddingæ’‘å¤§å®½åº¦ */
.frosted-glass-panel,
.monitor-interaction-controls {
  box-sizing: border-box !important;
  width: 100% !important;
}

/* é’ˆå¯¹æ‰‹æœºå±å¹• (å®½åº¦å°äº 768px) çš„ç‰¹æ®Šè°ƒæ•´ */
@media screen and (max-width: 768px) {
  /* 1. è°ƒæ•´åº•éƒ¨é¢æ¿çš„å†…è¾¹è· */
  .frosted-glass-panel {
    padding-left: 12px !important;
    padding-right: 12px !important; /* å·¦å³ç•™å‡ºç©ºéš™ */
    padding-bottom: 12px !important;
  }

  /* 2. æŒ‰é’®å®¹å™¨è°ƒæ•´ */
  .monitor-interaction-controls {
    justify-content: flex-end !important; /* ä¾ç„¶é å³ */
    gap: 8px !important; /* ç¼©å°æŒ‰é’®ä¹‹é—´çš„é—´è·ï¼Œé˜²æ­¢å¤ªå®½ */
    padding-right: 5px !important; /* å³ä¾§é¢å¤–ç•™ä¸€ç‚¹ç‚¹å®‰å…¨è·ç¦» */
    flex-wrap: nowrap !important; /* ç¦æ­¢æ¢è¡Œ */
  }

  /* 3. ç¨å¾®ç¼©å°æŒ‰é’®å°ºå¯¸ï¼Œç¡®ä¿èƒ½æ”¾ä¸‹ä¸‰ä¸ª */
  .monitor-btn {
    width: 34px !important; /* åŸæ¥æ˜¯38ï¼Œæ”¹å°ä¸€ç‚¹ */
    height: 34px !important;
    min-width: 34px !important; /* é˜²æ­¢è¢«æŒ¤æ‰ */
    font-size: 14px !important; /* å›¾æ ‡ä¹Ÿç¨å¾®å°ä¸€ç‚¹ */
  }
}

/* --- 4. ğŸ“‚ æ–‡ä»¶/æ¸¸æˆåˆ—è¡¨ (æ¸…é€åˆ—è¡¨) --- */

/* Steam æ¸¸æˆåˆ—è¡¨é¡¹ */
#kk-steam-games-list .character-data-item {
  background: rgba(255, 255, 255, 0.05) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  border-radius: 12px !important;
  margin-bottom: 10px !important;
  padding: 12px 15px !important;
  color: #fff !important;
}
#kk-steam-games-list .character-data-item:hover {
  background: rgba(255, 255, 255, 0.1) !important;
  transform: translateX(5px);
}
#kk-steam-games-list .title {
  color: #66c0f4 !important; /* Steamè“ */
  font-size: 16px !important;
}

/* æµè§ˆå™¨/æ–‡ä»¶åˆ—è¡¨é¡¹ */
.kk-file-item {
  background: rgba(255, 255, 255, 0.08) !important;
  color: #ddd !important;
  border-radius: 8px !important;
  border: 1px solid rgba(255, 255, 255, 0.05) !important;
  transition: all 0.2s;
}
.kk-file-item:hover {
  background: rgba(255, 255, 255, 0.15) !important;
  color: #fff !important;
}

/* ç‰©å“åˆ†äº«å¼¹çª—å†…å®¹åŒº */
#kk-item-share-content {
  background: rgba(255, 255, 255, 0.05) !important;
  color: #fff !important;
  border: 1px dashed rgba(255, 255, 255, 0.2) !important;
}
/* ========================================= */
/* === âœ¨ åœˆå­è¯¦æƒ…é¡µé‡æ„ V4 (æ ‡é¢˜ç‹¬ç«‹ç‰ˆ) âœ¨ === */
/* ========================================= */

/* 1. å¤´éƒ¨å®¹å™¨ï¼šå‚ç›´æ’åˆ—ï¼Œå…ˆæ ‡é¢˜ï¼Œåç”¨æˆ·ä¿¡æ¯ */
.post-detail-header {
  display: flex !important;
  flex-direction: column !important; /* å‚ç›´æ’åˆ— */
  gap: 15px !important; /* æ ‡é¢˜å’Œç”¨æˆ·ä¿¡æ¯ä¹‹é—´çš„é—´è· */
  align-items: flex-start !important; /* å·¦å¯¹é½ */

  background-color: #fff !important;
  padding: 25px 20px 15px 20px !important;
  border-radius: 16px 16px 0 0 !important;
  border-bottom: 1px solid #f0f0f0 !important;
}

/* 2. æ ‡é¢˜æ ·å¼ï¼šå¤§å·ã€åŠ ç²—ã€é»‘è‰² */
.post-main-title {
  font-size: 22px !important;
  font-weight: 800 !important;
  color: #1f1f1f !important;
  line-height: 1.4 !important;
  margin: 0 !important; /* ç§»é™¤é»˜è®¤è¾¹è· */
}

/* 3. ç”¨æˆ·ä¿¡æ¯è¡Œå®¹å™¨ï¼šæ¨ªå‘æ’åˆ— (å¤´åƒ + ä¿¡æ¯) */
.post-user-info-row {
  display: flex !important;
  align-items: center !important;
  gap: 12px !important; /* å¤´åƒå’Œæ–‡å­—çš„é—´è· */
  width: 100%;
}

/* 4. å¤´åƒæ ·å¼ */
.post-author-avatar {
  width: 42px !important;
  height: 42px !important;
  border-radius: 50% !important;
  object-fit: cover !important;
  flex-shrink: 0;
  border: 1px solid rgba(0, 0, 0, 0.05);
}

/* 5. ä¿¡æ¯ç»„ (æ˜µç§° + æ—¶é—´) å‚ç›´æ’åˆ— */
.post-detail-meta-group {
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  gap: 2px !important;
}

/* 6. ä½œè€…æ˜µç§°æ ·å¼ */
.post-author-name {
  font-size: 15px !important;
  font-weight: 600 !important;
  color: #333 !important;
}

/* 7. å‘å¸ƒæ—¶é—´æ ·å¼ */
.post-publish-time {
  font-size: 12px !important;
  color: #999 !important;
}

/* --- å¤œé—´æ¨¡å¼é€‚é… --- */
#phone-screen.dark-mode .post-detail-header {
  background-color: #1c1c1e !important;
  border-bottom-color: #333 !important;
}
#phone-screen.dark-mode .post-main-title {
  color: #eee !important;
}
#phone-screen.dark-mode .post-author-name {
  color: #ddd !important;
}
#phone-screen.dark-mode .post-publish-time {
  color: #777 !important;
}
/* ================================================================= */
/* === ğŸ’ æƒ…ä¾£ç©ºé—´ V11.0 (æ•´ä½“å¤§å¹…ä¸Šç§» + ç´§å‡‘é«˜ä½å¸ƒå±€) ğŸ’ === */
/* ================================================================= */

/* --- 1. å…¨å±€å®¹å™¨ä¸èƒŒæ™¯ --- */
#lovers-space-screen {
  background-color: transparent !important;
  background-size: cover !important;
  background-position: center !important;
  background-attachment: fixed !important;
}

/* é¡¶éƒ¨åŠ æ·±æ¸å˜ */
#lovers-space-screen::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 400px;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.3) 0%,
    rgba(0, 0, 0, 0.05) 60%,
    transparent 100%
  );
  pointer-events: none;
  z-index: 0;
}

/* --- 2. å¤´éƒ¨åŒºåŸŸ --- */
#ls-header {
  height: 340px !important;
  position: relative;
  z-index: 2;
  overflow: visible !important;
}

/* é¡¶éƒ¨æŒ‰é’®æ  */
.ls-header-top-bar {
  padding: 20px 25px !important;
  padding-top: calc(20px + env(safe-area-inset-top)) !important;
}

#ls-header .action-btn,
#ls-header .back-btn {
  background: transparent !important;
  border: none !important;
  color: #fff !important;
  width: 36px !important;
  height: 36px !important;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.6));
}

#ls-char-name {
  color: #fff !important;
  font-size: 18px !important;
  font-weight: 600 !important;
  letter-spacing: 1px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.6);
}

/* --- 3. å¤´åƒä¸è®¡æ•°å™¨ï¼šå¤§å¹…ä¸Šç§» --- */
.ls-avatar-and-counter-wrapper {
  position: absolute !important;

  /* ä¿æŒå³ç§»ä½ç½® */
  left: 110px !important;

  /* âš¡ï¸ æ ¸å¿ƒä¿®æ”¹ï¼šå¤§å¹…ä¸Šæè‡³ 140px */
  bottom: 140px !important;

  width: auto !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-start !important;
  gap: 15px !important;
  z-index: 10;
}

/* å¤´åƒå®¹å™¨ */
.ls-header-avatars {
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 20px !important;
  height: auto !important;
  margin: 0 !important;
  position: relative;
}

/* å¤´åƒæ ·å¼ */
.ls-header-avatars img {
  width: 74px !important;
  height: 74px !important;
  border-radius: 50% !important;
  object-fit: cover !important;
  border: 2px solid rgba(255, 255, 255, 0.9) !important;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25) !important;
}

/* æµ…ç²‰è‰²åŠ¨æ€çˆ±å¿ƒ */
.ls-header-avatars .heart-icon {
  position: absolute !important;
  left: 70px;
  top: 50%;

  width: 28px !important;
  height: 28px !important;

  /* ğŸŒ¸ æµ…ç²‰è‰² */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffb6c1'%3E%3Cpath d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;

  z-index: 5;
  filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.8));
  animation: soft-breathe 2.5s infinite ease-in-out !important;
}

@keyframes soft-breathe {
  0% {
    transform: translateY(-50%) scale(1);
    filter: drop-shadow(0 0 4px rgba(255, 182, 193, 0.5));
  }
  50% {
    transform: translateY(-50%) scale(1.15);
    filter: drop-shadow(0 0 12px rgba(255, 182, 193, 0.9));
  }
  100% {
    transform: translateY(-50%) scale(1);
    filter: drop-shadow(0 0 4px rgba(255, 182, 193, 0.5));
  }
}

/* çºªå¿µæ—¥æ–‡å­— */
#ls-days-counter {
  margin: 0 !important;
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  box-shadow: none !important;
  backdrop-filter: none !important;

  font-size: 17px !important;
  color: #fff !important;
  font-weight: 600 !important;
  text-shadow: 0 1px 5px rgba(0, 0, 0, 0.6);

  border-left: 3px solid rgba(255, 255, 255, 0.9) !important;
  padding-left: 12px !important;
  margin-left: 5px !important;
  line-height: 1.4 !important;
}

/* --- 4. æ‚¬æµ® Tab æ ï¼šä¹Ÿè·Ÿç€å¾€ä¸Šæ --- */
#ls-tab-bar {
  position: relative !important;

  /* âš¡ï¸ æ ¸å¿ƒä¿®æ”¹ï¼šmargin-top æ”¹ä¸º -60pxï¼Œè®©å®ƒæ’å¾—æ›´é«˜ */
  margin: -100px 20px 25px 20px !important;

  z-index: 20 !important;
  border-radius: 24px !important;

  background: rgba(255, 255, 255, 0.5) !important;
  backdrop-filter: blur(25px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(25px) saturate(180%) !important;

  border: 1px solid rgba(255, 255, 255, 0.4) !important;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;
  padding: 6px !important;
}

.ls-tab-item.active {
  background: #fff !important;
  color: #ff8fa3 !important;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08) !important;
  border-radius: 18px !important;
}

/* --- 5. å†…å®¹å¡ç‰‡ --- */
#ls-content-area,
.ls-view {
  background: transparent !important;
  padding: 0 20px 40px 20px !important;
}

.ls-moment-card,
.ls-question-card,
.ls-share-item,
.ls-album-item .cover,
.ls-love-letter-item,
.ls-calendar-wrapper {
  background: rgba(255, 255, 255, 0.75) !important;
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px) !important;
  border: 1px solid rgba(255, 255, 255, 0.5) !important;
  border-radius: 20px !important;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05) !important;
  margin-bottom: 20px !important;
}

.ls-moment-card .author {
  color: #222 !important;
  font-weight: 700 !important;
}
.ls-moment-card .content {
  color: #333 !important;
}
.ls-moment-footer {
  border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
  background: rgba(255, 255, 255, 0.2) !important;
}

.ls-fab-btn {
  bottom: 50px !important;
  right: 30px !important;
  background: #ffb6c1 !important;
  color: #fff !important;
  box-shadow: 0 8px 20px rgba(255, 182, 193, 0.5) !important;
  border-radius: 50% !important;
}

/* å¤œé—´æ¨¡å¼ */
#phone-screen.dark-mode .ls-moment-card,
#phone-screen.dark-mode #ls-tab-bar {
  background: rgba(30, 30, 30, 0.65) !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
  color: #eee !important;
}
/* ä¼‘æ¯èŠå¤©å¼¹çª—çš„æ¶ˆæ¯æ°”æ³¡æ ·å¼ */
.pomodoro-break-bubble {
  padding: 8px 12px;
  border-radius: 12px;
  max-width: 80%;
  word-wrap: break-word;
  font-size: 14px;
  line-height: 1.5;
}
.pomodoro-break-bubble.ai {
  background-color: #fff;
  align-self: flex-start;
  border-bottom-left-radius: 2px;
}
.pomodoro-break-bubble.user {
  background-color: #95ec69; /* å¾®ä¿¡ç»¿ */
  align-self: flex-end;
  border-bottom-right-radius: 2px;
}
/* --- ç•ªèŒ„é’Ÿä¼‘æ¯èŠå¤©ä¸“ç”¨æ ·å¼ --- */

/* 1. ä¿®å¤è¾“å…¥æ¡†å›ºå®šåˆ°åº•éƒ¨ï¼šå°†æ¨¡æ€æ¡†å†…å®¹è®¾ä¸º Flex å¸ƒå±€ */
#pomodoro-break-modal .modal-content {
  display: flex;
  flex-direction: column;
  height: 70%; /* æˆ–è€… 80%ï¼Œæ ¹æ®ä½ çš„å–œå¥½ */
  max-height: 80%;
  overflow: hidden; /* é˜²æ­¢å¤–å±‚æ»šåŠ¨ */
  padding: 0; /* æ¸…é™¤é»˜è®¤å†…è¾¹è· */
}

/* 2. æ¶ˆæ¯åˆ—è¡¨å æ®å‰©ä½™ç©ºé—´ï¼Œå¹¶å…è®¸å†…éƒ¨æ»šåŠ¨ */
#pomodoro-break-messages {
  flex: 1;
  overflow-y: auto;
  padding: 15px;
  background-color: #f0f2f5;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

/* 3. è¾“å…¥æ¡†åŒºåŸŸå›ºå®šåœ¨åº•éƒ¨ (Flexå¸ƒå±€è‡ªç„¶å®ç°) */
#pomodoro-break-modal .chat-input-area {
  flex-shrink: 0; /* é˜²æ­¢è¢«æŒ¤å‹ */
  background: #fff;
  border-top: 1px solid #eee;
  padding: 10px;
  position: relative; /* é‡ç½®å¯èƒ½å­˜åœ¨çš„ absolute */
  bottom: auto;
  left: auto;
  width: auto;
}

/* 4. æ¶ˆæ¯è¡Œæ ·å¼ (åŒ…å«å¤´åƒå’Œæ°”æ³¡) */
.break-message-row {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  max-width: 100%;
}

.break-message-row.user {
  flex-direction: row-reverse; /* ç”¨æˆ·æ¶ˆæ¯åå‘æ’åˆ— (å¤´åƒåœ¨å³) */
}

.break-message-row.ai {
  flex-direction: row; /* AIæ¶ˆæ¯æ­£å‘æ’åˆ— (å¤´åƒåœ¨å·¦) */
}

/* 5. å¤´åƒæ ·å¼ */
.break-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

/* 6. æ°”æ³¡æ ·å¼å¾®è°ƒ */
.pomodoro-break-bubble {
  padding: 10px 14px;
  border-radius: 12px;
  max-width: 70%;
  word-wrap: break-word;
  font-size: 14px;
  line-height: 1.5;
  position: relative;
  top: 4px; /* ç¨å¾®ä¸‹æ²‰ä¸€ç‚¹ä»¥å¯¹é½å¤´åƒ */
}

.pomodoro-break-bubble.ai {
  background-color: #fff;
  border-top-left-radius: 2px;
}

.pomodoro-break-bubble.user {
  background-color: #95ec69;
  border-top-right-radius: 2px;
}
/* 1. è°ƒæ•´åº•éƒ¨å®¹å™¨ï¼šå¢åŠ å†…è¾¹è·ï¼Œè®©å…ƒç´ ä¸è´´è¾¹ */
#pomodoro-break-modal .chat-input-area {
  background-color: #fff;
  padding: 12px 15px; /* ä¸Šä¸‹å·¦å³ç•™ç™½ */
  border-top: 1px solid #f0f0f0;
}

/* 2. è°ƒæ•´å¸ƒå±€è¡Œï¼šè®©è¾“å…¥æ¡†å’ŒæŒ‰é’®æ°´å¹³æ’åˆ— */
#pomodoro-break-modal .chat-input-main-row {
  display: flex;
  align-items: center; /* å‚ç›´å±…ä¸­ */
  gap: 12px; /* è¾“å…¥æ¡†å’ŒæŒ‰é’®ä¹‹é—´çš„é—´è· */
}

/* 3. è¾“å…¥æ¡†ç¾åŒ–ï¼šå˜é•¿ã€åœ†è§’èƒ¶å›Šã€è½¯èŒé£æ ¼ */
#pomodoro-break-input {
  flex: 1; /* ã€æ ¸å¿ƒã€‘è‡ªåŠ¨å˜é•¿ï¼Œå æ»¡å‰©ä½™ç©ºé—´ */
  height: 44px; /* å›ºå®šé«˜åº¦ï¼Œæ–¹ä¾¿åšæˆèƒ¶å›Š */
  padding: 10px 20px; /* å†…éƒ¨æ–‡å­—ç•™ç™½ */
  border-radius: 22px; /* é«˜åº¦çš„ä¸€åŠï¼Œå½¢æˆå®Œç¾èƒ¶å›Šåœ†è§’ */
  border: 2px solid #f0f2f5; /* é»˜è®¤æµ…ç°è‰²è¾¹æ¡† */
  background-color: #f7f8fa; /* é»˜è®¤æµ…ç°èƒŒæ™¯ */
  font-size: 14px;
  resize: none; /* ç¦æ­¢æ‰‹åŠ¨æ‹–æ‹½æ”¹å˜å¤§å° */
  outline: none; /* å»æ‰ç‚¹å‡»æ—¶çš„é»˜è®¤é»‘æ¡† */
  transition: all 0.3s ease; /* æ·»åŠ å¹³æ»‘è¿‡æ¸¡åŠ¨ç”» */
  box-sizing: border-box;
  line-height: 20px; /* ä¿è¯å•è¡Œæ–‡å­—å‚ç›´å±…ä¸­ */
}

/* è¾“å…¥æ¡†èšç„¦æ—¶çš„æ•ˆæœï¼šå˜ç™½ã€å˜ç²‰ã€å‘å…‰ */
#pomodoro-break-input:focus {
  background-color: #fff;
  border-color: #ff9a9e; /* èšç„¦å˜æˆæ¨±èŠ±ç²‰è¾¹æ¡† */
  box-shadow: 0 0 10px rgba(255, 154, 158, 0.2); /* æŸ”å’Œçš„ç²‰è‰²å…‰æ™• */
}

/* 4. å‘é€æŒ‰é’®ç¾åŒ–ï¼šå¯çˆ±ã€æ¸å˜ã€æœ‰è´¨æ„Ÿ */
#pomodoro-break-send-btn {
  width: auto;
  min-width: 70px; /* ä¿è¯æœ€å°å®½åº¦ */
  height: 40px;
  padding: 0 20px;
  border-radius: 20px; /* èƒ¶å›Šåœ†è§’ */

  /* æ¨±èŠ±ç²‰ -> å¥¶æ²¹ç²‰ æ¸å˜ */
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);

  color: white;
  border: none;
  font-size: 14px;
  font-weight: 600; /* å­—ä½“åŠ ç²— */
  cursor: pointer;

  /* æŠ•å½±è®©æŒ‰é’®â€œæµ®â€èµ·æ¥ */
  box-shadow: 0 4px 15px rgba(255, 154, 158, 0.4);

  transition:
    transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275),
    box-shadow 0.2s;
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1); /* æ–‡å­—å¾®æŠ•å½±ï¼Œæ›´æ¸…æ™° */

  /* å¼ºåˆ¶é‡ç½®ä¸€äº›å¯èƒ½è¢«å…¨å±€æ ·å¼è¦†ç›–çš„å±æ€§ */
  margin: 0 !important;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* é¼ æ ‡æ‚¬åœæ•ˆæœ */
#pomodoro-break-send-btn:hover {
  transform: translateY(-2px); /* å¾®å¾®ä¸Šæµ® */
  box-shadow: 0 6px 20px rgba(255, 154, 158, 0.6); /* æŠ•å½±åŠ æ·± */
}

/* ç‚¹å‡»æŒ‰ä¸‹æ•ˆæœ */
#pomodoro-break-send-btn:active {
  transform: scale(0.95); /* å¾®å¾®ç¼©å°ï¼Œæœ‰æŒ‰å‹æ„Ÿ */
  box-shadow: 0 2px 5px rgba(255, 154, 158, 0.3);
}
/* --- 1. æš‚åœ/ç»§ç»­æŒ‰é’® (åƒæœå†»ä¸€æ ·Qå¼¹) --- */
#pomodoro-pause-btn {
  /* åŸºç¡€å½¢çŠ¶ */
  border: none;
  border-radius: 25px; /* å¤§åœ†è§’ */
  padding: 0 25px;
  height: 44px;
  font-size: 15px;
  font-weight: 700;
  letter-spacing: 1px;

  /* é»˜è®¤é¢œè‰² (JSä¼šä¿®æ”¹èƒŒæ™¯è‰²ï¼Œè¿™é‡Œè®¾ç½®é€šç”¨ç‰¹æ•ˆ) */
  color: white;
  /* ç»™JSè®¾ç½®çš„èƒŒæ™¯è‰²åŠ ä¸€ä¸ªæ¸å˜æ»¤é•œï¼Œå¢åŠ è´¨æ„Ÿ */
  background-image: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.15),
    rgba(0, 0, 0, 0.05)
  );

  /* é˜´å½±å’Œå…‰æ³½ */
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.15),
    inset 0 2px 0 rgba(255, 255, 255, 0.2);
  cursor: pointer;

  /* Qå¼¹åŠ¨ç”»è¿‡æ¸¡ */
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);

  /* å¸ƒå±€ */
  display: flex;
  align-items: center;
  justify-content: center;
}

#pomodoro-pause-btn:hover {
  transform: translateY(-3px) scale(1.02); /* æ‚¬åœä¸Šæµ®å˜å¤§ */
  box-shadow:
    0 6px 15px rgba(0, 0, 0, 0.2),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

#pomodoro-pause-btn:active {
  transform: translateY(1px) scale(0.95); /* ç‚¹å‡»ä¸‹å‹å˜å° */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

/* åŒæ­¥ç¾åŒ–æ—è¾¹çš„â€œç»“æŸä¸“æ³¨â€æŒ‰é’®ï¼Œä¿æŒé£æ ¼ä¸€è‡´ */
#pomodoro-end-btn {
  border-radius: 25px;
  height: 44px;
  font-weight: 600;
  transition: all 0.3s ease;
}

/* --- 2. ä¼‘æ¯èŠå¤©å¼¹çª—æ•´ä½“ (åœ†æ¶¦å¡ç‰‡é£) --- */

/* å¼¹çª—å®¹å™¨ */
#pomodoro-break-modal .modal-content {
  border-radius: 24px; /* æ›´å¤§çš„åœ†è§’ */
  border: 4px solid #fff; /* ç™½è¾¹æ¡†ï¼Œåƒæ‹ç«‹å¾—ç…§ç‰‡ */
  box-shadow: 0 10px 40px rgba(255, 182, 193, 0.4); /* ç²‰è‰²æ°›å›´å…‰æ™• */
  background-color: #fff;
  overflow: hidden;
}

/* é¡¶éƒ¨æ ‡é¢˜æ  */
#pomodoro-break-modal .modal-header {
  /* æ¨±èŠ±ç²‰æ¸å˜èƒŒæ™¯ */
  background: linear-gradient(135deg, #fff0f5 0%, #ffe4e1 100%);
  border-bottom: 1px solid rgba(255, 255, 255, 0.5);
  padding: 15px 20px;
  color: #db7093; /* ç«ç‘°çº¢æ–‡å­— */
}

#pomodoro-break-modal .modal-header span:first-child {
  font-weight: 800;
  font-size: 18px;
  letter-spacing: 1px;
}

/* å…³é—­æŒ‰é’® */
#close-pomodoro-break-btn {
  background: #fff;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #ff9a9e;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s;
}
#close-pomodoro-break-btn:hover {
  transform: rotate(90deg);
}

/* --- 3. èŠå¤©å†…å®¹åŒºåŸŸ (æ¸©é¦¨èƒŒæ™¯) --- */
#pomodoro-break-messages {
  /* æš–ç™½è‰²èƒŒæ™¯ï¼Œå¸¦ä¸€ç‚¹ç‚¹çº¹ç†æ„Ÿ */
  background-color: #fffafb;
  /* å¯é€‰ï¼šåŠ ä¸€ç‚¹ç‚¹å¯çˆ±çš„åœ†ç‚¹èƒŒæ™¯å›¾ */
  background-image: radial-gradient(#ffe4e1 1px, transparent 1px);
  background-size: 20px 20px;

  padding: 20px;
}

/* æ»šåŠ¨æ¡ç¾åŒ– (Chrome/Safari) */
#pomodoro-break-messages::-webkit-scrollbar {
  width: 6px;
}
#pomodoro-break-messages::-webkit-scrollbar-thumb {
  background-color: #ffc2d1;
  border-radius: 10px;
}
#pomodoro-break-messages::-webkit-scrollbar-track {
  background-color: transparent;
}

/* --- 4. æ°”æ³¡ä¸å¤´åƒæ·±åº¦ç¾åŒ– --- */

/* å¤´åƒï¼šå¢åŠ ç™½è¾¹å’ŒæŠ•å½± */
.break-avatar {
  width: 40px; /*ç¨å¾®å¤§ä¸€ç‚¹*/
  height: 40px;
  border: 2px solid #fff;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s;
}
.break-avatar:hover {
  transform: scale(1.1) rotate(-5deg); /* æ‚¬åœæ—¶æ­ªå¤´æ€ */
}

/* AI æ°”æ³¡ (å·¦ä¾§) */
.pomodoro-break-bubble.ai {
  background: #fff;
  color: #555;
  border-radius: 18px; /* åœ†æ¶¦ */
  border-top-left-radius: 4px; /* å°–è§’æŒ‡å‘å¤´åƒ */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
  border: 1px solid #fff0f5; /* æ·¡æ·¡çš„ç²‰è¾¹ */
}

/* ç”¨æˆ· æ°”æ³¡ (å³ä¾§) */
.pomodoro-break-bubble.user {
  /* æ¸å˜ç²‰è‰²èƒŒæ™¯ */
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
  color: white;
  border-radius: 18px;
  border-top-right-radius: 4px; /* å°–è§’æŒ‡å‘å¤´åƒ */
  box-shadow: 0 4px 10px rgba(255, 154, 158, 0.25);
  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}

/* é¡¶éƒ¨æç¤ºè¯­ (ç´¯äº†å—...) */
#pomodoro-break-messages div[style*="text-align: center"] {
  background: rgba(255, 255, 255, 0.8);
  padding: 5px 15px;
  border-radius: 15px;
  display: inline-block;
  margin: 10px auto;
  align-self: center; /* Flexå¸ƒå±€å±…ä¸­ */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  color: #ffb7b2 !important;
}

/* åº•éƒ¨è¾“å…¥æ¡†å®¹å™¨å¾®è°ƒ (é…åˆä¹‹å‰çš„èƒ¶å›Šä»£ç ) */
#pomodoro-break-modal .chat-input-area {
  background: #fff;
  box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.02); /* å‘ä¸ŠæŠ•å°„æ·¡æ·¡çš„é˜´å½± */
  z-index: 10;
}
/* 1. å¼ºåˆ¶è¦†ç›– JS ä¸­çš„å†…è”æ ·å¼ï¼Œé‡å¡‘æŒ‰é’®å¤–è§‚ */
.pomodoro-delete-btn {
  /* å®šä½è°ƒæ•´ */
  position: absolute !important;
  right: 15px !important; /* ç¨å¾®å¾€é‡ŒæŒªä¸€ç‚¹ï¼Œå‘¼å¸æ„Ÿæ›´å¥½ */
  top: 50% !important;
  transform: translateY(-50%) !important;

  /* å°ºå¯¸ä¸å½¢çŠ¶ï¼šå¯çˆ±çš„èƒ¶å›Š */
  width: auto !important;
  height: 26px !important;
  border-radius: 13px !important; /* é«˜åº¦çš„ä¸€åŠï¼Œåœ†åœ†çš„ */
  padding: 0 12px !important;

  /* è§†è§‰é£æ ¼ï¼šé»˜è®¤ä½è°ƒç°è‰² */
  border: none !important; /* å»æ‰é‚£ä¸ªçªå…€çš„çº¢æ¡† */
  background-color: rgba(0, 0, 0, 0.05) !important; /* æµ…æµ…çš„ç°è‰²èƒŒæ™¯ */
  color: #999 !important; /* æµ…ç°è‰²æ–‡å­— */
  font-size: 12px !important;
  font-weight: 600 !important;

  /* äº¤äº’ä½“éªŒ */
  cursor: pointer !important;
  box-shadow: none !important;

  /* åŠ¨ç”»ï¼šæ·»åŠ Qå¼¹çš„è¿‡æ¸¡æ•ˆæœ */
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) !important;

  /* æ ¸å¿ƒï¼šé»˜è®¤éšè—ï¼Œä¿æŒç•Œé¢æ•´æ´ */
  opacity: 0 !important;
  pointer-events: none !important; /* éšè—æ—¶ä¸å¯ç‚¹å‡» */
  transform: translateY(-50%) scale(0.8) !important; /* ç¼©å°çš„åˆå§‹çŠ¶æ€ */
}

/* 2. å½“é¼ æ ‡æ‚¬åœåœ¨æ•´æ¡è®°å½•ä¸Šæ—¶ï¼Œè®©æŒ‰é’®æµ®ç° */
.pomodoro-history-item:hover .pomodoro-delete-btn {
  opacity: 1 !important;
  pointer-events: auto !important;
  transform: translateY(-50%) scale(1) !important; /* æ¢å¤æ­£å¸¸å¤§å° */
}

/* 3. å½“é¼ æ ‡æ‚¬åœåœ¨æŒ‰é’®æœ¬èº«æ—¶ï¼Œå˜æˆèŒèŒçš„ç²‰è‰² */
.pomodoro-delete-btn:hover {
  background-color: #ffeff2 !important; /* æ¨±èŠ±ç²‰èƒŒæ™¯ */
  color: #ff6b81 !important; /* çŠç‘šç²‰æ–‡å­— */
  box-shadow: 0 2px 8px rgba(255, 107, 129, 0.3) !important; /* ç²‰è‰²å…‰æ™• */
  transform: translateY(-50%) scale(1.05) !important; /* å¾®å¾®æ”¾å¤§ */
}

/* 4. ç‚¹å‡»æ—¶çš„æŒ‰å‹æ•ˆæœ */
.pomodoro-delete-btn:active {
  transform: translateY(-50%) scale(0.95) !important;
  box-shadow: none !important;
}

/* 5. å¤œé—´æ¨¡å¼é€‚é… */
#phone-screen.dark-mode .pomodoro-delete-btn {
  background-color: rgba(255, 255, 255, 0.1) !important;
  color: #777 !important;
}
#phone-screen.dark-mode .pomodoro-delete-btn:hover {
  background-color: #4a2a30 !important; /* æ·±çº¢è‰²èƒŒæ™¯ */
  color: #ff8fab !important; /* äº®ç²‰è‰²æ–‡å­— */
}
/* === Cute viewer refresh: letter, diary, pomodoro history === */
#ls-letter-viewer-modal .ls-letter-viewer-content {
  position: relative;
  width: 92%;
  max-width: 360px;
  height: 76%;
  background:
    radial-gradient(
      circle at 12% 10%,
      rgba(255, 205, 220, 0.35),
      transparent 50%
    ),
    radial-gradient(
      circle at 88% 18%,
      rgba(189, 224, 255, 0.3),
      transparent 45%
    ),
    linear-gradient(145deg, rgba(255, 251, 255, 0.9), rgba(255, 242, 248, 0.96));
  border: 2px solid rgba(255, 190, 210, 0.7);
  border-radius: 18px;
  box-shadow:
    0 16px 40px rgba(255, 155, 176, 0.22),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
  overflow: hidden;
}
#ls-letter-viewer-modal .ls-letter-viewer-content::before {
  content: "";
  position: absolute;
  top: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 60%;
  height: 8px;
  border-radius: 999px;
  background: linear-gradient(90deg, #ffd8e6, #c7e7ff);
  opacity: 0.6;
}
#ls-letter-viewer-modal .ls-letter-viewer-content::after {
  content: "";
  position: absolute;
  inset: 14px 12px 12px;
  border: 1px dashed rgba(255, 170, 195, 0.5);
  border-radius: 14px;
  pointer-events: none;
}
#ls-letter-viewer-modal .letter-viewer-header {
  background: linear-gradient(
    120deg,
    rgba(255, 232, 242, 0.95),
    rgba(255, 247, 230, 0.92)
  );
  border-bottom: 1px dashed #f3c5d8;
  color: #754b55;
  padding: 16px 18px;
  gap: 12px;
}
#ls-letter-viewer-modal .letter-viewer-header .meta-avatar {
  width: 42px;
  height: 42px;
  border-radius: 12px;
  border: 2px solid #fff;
  box-shadow: 0 4px 10px rgba(255, 143, 171, 0.35);
}
#ls-letter-viewer-modal .letter-viewer-body {
  background: repeating-linear-gradient(
    180deg,
    rgba(255, 232, 240, 0.6) 0,
    rgba(255, 232, 240, 0.6) 28px,
    rgba(255, 255, 255, 0.85) 28px,
    rgba(255, 255, 255, 0.85) 56px
  );
  border-radius: 12px;
  margin: 12px 14px;
  padding: 18px 16px;
  box-shadow: inset 0 1px 8px rgba(255, 170, 195, 0.18);
  color: #514349;
  line-height: 1.9;
}
#ls-letter-viewer-modal .letter-viewer-footer {
  background: linear-gradient(
    90deg,
    rgba(255, 240, 245, 0.9),
    rgba(255, 250, 240, 0.92)
  );
  border-top: 1px dashed #f3c5d8;
  padding: 14px 16px;
}
#ls-letter-viewer-modal .letter-actions button {
  border-radius: 18px;
  border: 1px solid #ffcde0;
  background: #fff;
  color: #d36d93;
  box-shadow: 0 6px 16px rgba(255, 143, 171, 0.2);
}
#ls-letter-viewer-modal .letter-actions button.primary {
  background: linear-gradient(135deg, #ff9ab3, #ffd2e4);
  color: #fff;
  border-color: transparent;
}
#ls-letter-viewer-modal .letter-actions button:hover {
  transform: translateY(-1px);
}

/* Diary viewer */
#ls-diary-viewer-modal .modal-content {
  position: relative;
  background: linear-gradient(135deg, #fff6fb 0%, #f7f9ff 55%, #fffaf2 100%);
  border: 2px solid #ffe0ed;
  border-radius: 18px;
  box-shadow: 0 16px 42px rgba(255, 156, 193, 0.2);
  overflow: hidden;
}
#ls-diary-viewer-modal .modal-content::before,
#ls-diary-viewer-modal .modal-content::after {
  content: "";
  position: absolute;
  border-radius: 50%;
  filter: blur(0.5px);
}
#ls-diary-viewer-modal .modal-content::before {
  width: 160px;
  height: 160px;
  right: -40px;
  top: -50px;
  background: radial-gradient(
    circle,
    rgba(255, 208, 224, 0.35),
    rgba(255, 208, 224, 0)
  );
}
#ls-diary-viewer-modal .modal-content::after {
  width: 140px;
  height: 140px;
  left: -30px;
  bottom: -30px;
  background: radial-gradient(
    circle,
    rgba(185, 222, 255, 0.3),
    rgba(185, 222, 255, 0)
  );
}
#ls-diary-viewer-modal .modal-header {
  background: transparent;
  color: #e07fb0;
  border-bottom: 1px dashed #ffd6e8;
  font-weight: 800;
  letter-spacing: 0.4px;
}
#ls-diary-viewer-body {
  padding: 18px 16px 22px;
  background:
    radial-gradient(
      circle at 14% 18%,
      rgba(255, 225, 239, 0.4),
      transparent 45%
    ),
    radial-gradient(
      circle at 85% 24%,
      rgba(192, 228, 255, 0.3),
      transparent 40%
    );
  gap: 16px !important;
}
#ls-diary-viewer-modal .ls-diary-entry-block {
  background: rgba(255, 255, 255, 0.92);
  border-radius: 14px;
  border-left: 5px solid #ffb7ce;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
  padding: 16px;
  backdrop-filter: blur(4px);
}
#ls-diary-viewer-modal .ls-diary-entry-block + .ls-diary-entry-block {
  border-left-color: #a6d8ff;
}
#ls-diary-viewer-modal .ls-diary-entry-block .entry-header .author {
  color: #e07fb0;
}
#ls-diary-viewer-modal .ls-diary-entry-block .entry-content {
  color: #524454;
  background: linear-gradient(
    180deg,
    rgba(255, 240, 246, 0.7),
    rgba(255, 255, 255, 0.9)
  );
  padding: 12px 14px;
  border-radius: 10px;
  line-height: 1.8;
}

/* Pomodoro history */
#ls-pomodoro-history-viewer-modal .modal-content {
  background: linear-gradient(135deg, #fff4f8 0%, #fef6ff 55%, #fffaf2 100%);
  border: 2px solid #ffd8e6;
  border-radius: 18px;
  box-shadow: 0 14px 36px rgba(255, 149, 180, 0.22);
}
#ls-pomodoro-history-viewer-modal .modal-header {
  background: transparent;
  color: #ff7aa2;
  border-bottom: 1px dashed #ffd6e8;
  font-weight: 800;
}
#pomodoro-history-viewer-content {
  position: relative;
  gap: 16px;
  padding: 14px 16px 18px 16px;
}
#pomodoro-history-viewer-content::before {
  content: "";
  position: absolute;
  left: 20px;
  top: 12px;
  bottom: 12px;
  width: 2px;
  background: linear-gradient(#ffd6e8, #b7e0ff);
  opacity: 0.6;
}
.pomodoro-log-bubble {
  position: relative;
  margin-left: 32px;
  background: rgba(255, 255, 255, 0.94);
  border-radius: 14px;
  border: 1px solid #ffd6e8;
  box-shadow: 0 8px 18px rgba(255, 143, 171, 0.16);
  padding: 10px 14px;
  color: #524454;
}
.pomodoro-log-bubble::before {
  content: "";
  position: absolute;
  left: -18px;
  top: 16px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #ff9ab3;
  box-shadow: 0 0 0 6px rgba(255, 154, 179, 0.25);
}

/* Dark mode tweaks */
#phone-screen.dark-mode #ls-letter-viewer-modal .ls-letter-viewer-content,
#phone-screen.dark-mode #ls-diary-viewer-modal .modal-content,
#phone-screen.dark-mode #ls-pomodoro-history-viewer-modal .modal-content {
  background: linear-gradient(135deg, #2f2a35, #2a2731);
  border-color: #4d3c55;
  box-shadow: none;
}
#phone-screen.dark-mode .letter-viewer-body,
#phone-screen.dark-mode .ls-diary-entry-block,
#phone-screen.dark-mode .pomodoro-log-bubble {
  background: rgba(48, 43, 56, 0.9);
  color: #f4e8f7;
  border-color: #5a4566;
  box-shadow: none;
}
#phone-screen.dark-mode #pomodoro-history-viewer-content::before {
  background: linear-gradient(#5a4566, #3d3345);
  opacity: 0.8;
}
/* ================================================================= */
/* === ğŸ’Œ æƒ…ä¹¦æŸ¥çœ‹å™¨ V3.0 (æ¢¦å¹»Â·é«˜çº§Â·è½¯èŒé™å®šç‰ˆ) === */
/* ================================================================= */

/* 1. é®ç½©å±‚ï¼šåŠ ä¸€ç‚¹ç²‰è‰²çš„æ°›å›´å…‰ */
#ls-letter-viewer-modal {
  z-index: 2000 !important;
  background-color: rgba(20, 0, 10, 0.3); /* æ·±è‰²å¾®çº¢èƒŒæ™¯ */
  backdrop-filter: blur(8px); /* èƒŒæ™¯æ¨¡ç³Š */
  -webkit-backdrop-filter: blur(8px);
}

/* 2. ä¿¡çº¸ä¸»ä½“ï¼šåƒä¸€å¼ åšå®çš„é«˜çº§å¡çº¸ */
#ls-letter-viewer-modal .ls-letter-viewer-content {
  position: relative;
  width: 88%;
  max-width: 350px;
  height: 78%;

  /* èƒŒæ™¯ï¼šæå…‰èˆ¬çš„æŸ”å’Œæ¸å˜ï¼Œæ¨¡æ‹Ÿé«˜çº§çº¸å¼ çš„åå…‰ */
  background:
    radial-gradient(
      circle at 0% 0%,
      rgba(255, 235, 240, 0.8) 0%,
      transparent 50%
    ),
    radial-gradient(
      circle at 100% 100%,
      rgba(255, 218, 224, 0.6) 0%,
      transparent 50%
    ),
    #fffafb; /* åº•è‰²æ˜¯æ¸©æš–çš„æ¨±èŠ±ç™½ */

  /* è¾¹æ¡†ï¼šåŒå±‚è¾¹æ¡†è®¾è®¡ï¼Œå†…å®å¤–è™šï¼Œå¢åŠ ç²¾è‡´æ„Ÿ */
  border: 4px solid #fff;
  outline: 1px dashed #ffc2d1; /* å¤–åœˆè™šçº¿ï¼Œåƒç¼çº«çº¿ */
  outline-offset: -10px; /* è™šçº¿åœ¨å†…éƒ¨ */

  border-radius: 24px; /* æ›´å¤§çš„åœ†è§’ */

  /* é˜´å½±ï¼šå¤šå±‚é˜´å½±è¥é€ æ‚¬æµ®æ„Ÿå’Œå…‰æ™• */
  box-shadow:
    0 10px 40px rgba(255, 143, 171, 0.25),
    /* ç²‰è‰²æ°›å›´å…‰ */ 0 0 0 8px rgba(255, 255, 255, 0.4); /* å¤–åœˆåŠé€æ˜ç™½è¾¹ */

  display: flex;
  flex-direction: column;
  overflow: hidden;
  font-family: "Kaiti", "STKaiti", "Georgia", serif; /* å­—ä½“ä¿æŒä¹¦å·æ°” */
}

/* è£…é¥°ï¼šé¡¶éƒ¨çš„å°çˆ±å¿ƒå¤¹å­ (æ‹Ÿç‰©åŒ–) */
#ls-letter-viewer-modal .ls-letter-viewer-content::before {
  content: "â™¥";
  position: absolute;
  top: -15px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 40px;
  color: #ff8fab;
  z-index: 10;
  text-shadow: 0 4px 5px rgba(0, 0, 0, 0.1);
}

/* 3. å¤´éƒ¨ï¼šåƒä¿¡çº¸çš„æŠ¬å¤´ */
#ls-letter-viewer-modal .letter-viewer-header {
  padding: 30px 25px 15px 25px; /* é¡¶éƒ¨ç•™å¤šç‚¹ç©ºé—´ç»™å¤¹å­ */
  background: transparent;
  display: flex;
  align-items: center;
  gap: 15px;
  flex-shrink: 0;
  border-bottom: 1px solid rgba(255, 182, 193, 0.3);
}

/* å¯¹æ–¹å¤´åƒï¼šåƒä¸ªå°å¾½ç«  */
#ls-letter-viewer-modal .letter-viewer-header .meta-avatar {
  width: 54px;
  height: 54px;
  border-radius: 50%;
  border: 3px solid #fff;
  box-shadow: 0 4px 12px rgba(255, 182, 193, 0.4);
  object-fit: cover;
}

#ls-letter-viewer-modal .recipient-info {
  display: flex;
  flex-direction: column;
  justify-content: center;
}
#ls-letter-viewer-modal .recipient-info .label {
  font-size: 10px;
  color: #ffb7c5;
  letter-spacing: 2px;
  text-transform: uppercase;
  font-weight: 800;
}
#ls-letter-viewer-modal .recipient-info .name {
  font-size: 20px;
  color: #6d4c41; /* æ‘©å¡æ£•è‰² */
  font-weight: 700;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8);
}

/* 4. æ­£æ–‡ï¼šä¿¡çº¸çº¿æ¡ä¸æ‰‹å†™æ„Ÿ */
#ls-letter-viewer-modal .letter-viewer-body {
  flex-grow: 1;
  padding: 20px 30px;
  overflow-y: auto;

  /* æ ¸å¿ƒï¼šæ›´ç»†è…»çš„ä¿¡çº¸æ¨ªçº¿ */
  background-image: linear-gradient(
    rgba(200, 100, 100, 0.1) 1px,
    transparent 1px
  );
  background-size: 100% 30px; /* è¡Œé«˜æ§åˆ¶ */
  background-attachment: local;

  font-size: 16px;
  line-height: 30px; /* ä¸¥æ ¼å¯¹é½æ¨ªçº¿ */
  color: #5d4037; /* æ·±å’–å•¡è‰² */
  white-space: pre-wrap;
  word-break: break-word;

  /* å¢åŠ åº•éƒ¨ç•™ç™½ */
  mask-image: linear-gradient(to bottom, black 90%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, black 90%, transparent 100%);
}

/* 5. åº•éƒ¨ï¼šç²¾è‡´çš„è½æ¬¾ä¸æŒ‰é’® */
#ls-letter-viewer-modal .letter-viewer-footer {
  padding: 15px 25px 25px 25px;
  background: linear-gradient(to top, #fff0f5 0%, rgba(255, 255, 255, 0) 100%);
  display: flex;
  justify-content: space-between;
  align-items: flex-end; /* åº•éƒ¨å¯¹é½ */
  flex-shrink: 0;
}

/* å‘ä¿¡äººä¿¡æ¯ */
#ls-letter-viewer-modal .sender-info {
  text-align: left;
  font-size: 14px;
  color: #8d6e63;
  font-family: sans-serif; /* ç”¨æ— è¡¬çº¿ä½“åšå¯¹æ¯” */
}
#ls-letter-viewer-modal .sender-info .timestamp {
  display: block;
  font-size: 10px;
  color: #bcaaa4;
  margin-top: 3px;
  font-weight: 500;
}

/* æŒ‰é’®ç»„ */
#ls-letter-viewer-modal .letter-actions {
  display: flex;
  gap: 12px;
}

/* é€šç”¨æŒ‰é’®æ ·å¼ */
#ls-letter-viewer-modal .letter-actions button {
  border: none;
  border-radius: 20px;
  padding: 8px 18px;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  font-family:
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

/* "å…³é—­" æŒ‰é’® */
#ls-letter-viewer-modal #ls-close-letter-viewer-btn {
  background: #fff;
  color: #999;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
  border: 1px solid #eee;
}
#ls-letter-viewer-modal #ls-close-letter-viewer-btn:hover {
  background: #f5f5f5;
  transform: translateY(-2px);
}

/* "å›ä¿¡" æŒ‰é’® (é«˜å…‰é‡ç‚¹) */
#ls-letter-viewer-modal #ls-reply-letter-btn {
  /* ç³–æœæ¸å˜è‰² */
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
  color: white;
  box-shadow: 0 6px 15px rgba(255, 154, 158, 0.4);
  display: flex;
  align-items: center;
  gap: 5px;
}
#ls-letter-viewer-modal #ls-reply-letter-btn::before {
  content: "âœ";
  font-size: 14px;
}
#ls-letter-viewer-modal #ls-reply-letter-btn:hover {
  transform: translateY(-3px) scale(1.05);
  box-shadow: 0 8px 20px rgba(255, 154, 158, 0.6);
}
#ls-letter-viewer-modal #ls-reply-letter-btn:active {
  transform: scale(0.95);
}

/* --- 6. å¤œé—´æ¨¡å¼é€‚é… (ä¿æŒæš—è‰²é«˜çº§æ„Ÿ) --- */
#phone-screen.dark-mode #ls-letter-viewer-modal .ls-letter-viewer-content {
  background: #231e1e; /* æ·±çº¢è¤åº•è‰² */
  border-color: #3e2723;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
  outline-color: #4e342e;
}
#phone-screen.dark-mode #ls-letter-viewer-modal .letter-viewer-body {
  background-image: linear-gradient(
    rgba(255, 255, 255, 0.05) 1px,
    transparent 1px
  );
  color: #d7ccc8; /* æµ…ç±³è‰²æ–‡å­— */
}
#phone-screen.dark-mode #ls-letter-viewer-modal .letter-viewer-header {
  border-bottom-color: rgba(255, 255, 255, 0.1);
}
#phone-screen.dark-mode #ls-letter-viewer-modal .recipient-info .name {
  color: #ef9a9a; /* æµ…ç²‰è‰²åå­— */
}
#phone-screen.dark-mode #ls-letter-viewer-modal .sender-info {
  color: #a1887f;
}
#phone-screen.dark-mode #ls-letter-viewer-modal .letter-viewer-footer {
  background: linear-gradient(to top, #1a1a1a 0%, transparent 100%);
}
#phone-screen.dark-mode #ls-letter-viewer-modal #ls-close-letter-viewer-btn {
  background: #333;
  color: #ccc;
  border-color: #444;
}
/* ================================================================= */
/* === ğŸ“š åœˆå­ä¹¦æ¶ & ç›®å½• - å®ä½“ä¹¦ä¿¡æ¯æµç‰ˆ (V6.0 Fixed) === */
/* ================================================================= */

/* --- 1. èƒŒæ™¯ï¼šæŸ”å’Œçš„é«˜çº§ç°/çº¸å¼ è‰² --- */
#forum-bookshelf-screen {
  background-color: #f7f9fc !important;
  background-image: none !important;
}

#forum-series-detail-screen {
  background-color: #ffffff !important;
}

/* --- 2. ä¹¦æ¶åˆ—è¡¨å®¹å™¨ --- */
#forum-bookshelf-list {
  display: flex !important;
  flex-direction: column !important;
  gap: 16px !important;
  padding: 20px 16px !important;

  /* æ¸…é™¤æ—§æ ·å¼ */
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  grid-template-columns: none !important;
}

/* --- 3. ä¹¦ç±å¡ç‰‡ï¼šå·¦å›¾å³æ–‡å¸ƒå±€ --- */
.forum-bookshelf-card {
  position: relative !important;
  display: flex !important;
  flex-direction: column !important; /* ä¿æŒå†…éƒ¨å‚ç›´æ’åˆ—ï¼Œä½†æˆ‘ä»¬ç”¨paddingè…¾å‡ºä½ç½® */
  justify-content: center !important;

  background: #ffffff !important;
  border-radius: 16px !important;
  padding: 16px !important;
  padding-left: 100px !important; /* â˜…â˜…â˜… æ ¸å¿ƒï¼šå·¦ä¾§ç•™å‡º 100px ç»™å°é¢ */

  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05) !important;
  border: 1px solid rgba(0, 0, 0, 0.02) !important;
  min-height: 110px !important; /* ä¿è¯é«˜åº¦è¶³å¤Ÿæ”¾å°é¢ */
  overflow: visible !important; /* å…è®¸å°é¢ç¨å¾®çªå‡ºä¸€ç‚¹ç‚¹ç«‹ä½“æ„Ÿ */
  transition: transform 0.2s ease !important;
}

.forum-bookshelf-card:active {
  transform: scale(0.98);
}

/* --- 4. CSS ç»˜åˆ¶çš„æ‹ŸçœŸå°é¢ (å·¦ä¾§) --- */
/* ä½¿ç”¨ä¼ªå…ƒç´  ::before åˆ¶ä½œå°é¢ï¼Œä¸å†å ç”¨ DOM ç»“æ„ */
.forum-bookshelf-card::before {
  content: "BOOK"; /* é»˜è®¤è£…é¥°æ–‡å­— */
  position: absolute !important;
  left: 16px !important;
  top: 16px !important;
  width: 70px !important;
  height: 100px !important; /* 3:4 æ¯”ä¾‹ */

  /* å°é¢å¤–è§‚ï¼šæ¸å˜è‰² + é˜´å½± */
  background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%) !important;
  border-radius: 6px 10px 10px 6px !important; /* ä¹¦è„Šå·¦ä¾§ç›´è§’ï¼Œå³ä¾§åœ†è§’ */

  /* æ ¸å¿ƒï¼šä¹¦æœ¬çš„å…‰å½±è´¨æ„Ÿ */
  box-shadow:
    inset 4px 0 10px rgba(255, 255, 255, 0.3),
    /* ä¹¦è„Šé«˜å…‰ */ inset -2px 0 5px rgba(0, 0, 0, 0.1),
    /* ä¹¦å£é˜´å½± */ 5px 5px 15px rgba(0, 0, 0, 0.15) !important; /* å¤–éƒ¨æŠ•å½± */

  /* å°é¢ä¸Šçš„æ–‡å­—è£…é¥° */
  display: flex !important;
  align-items: center;
  justify-content: center;
  color: rgba(255, 255, 255, 0.9);
  font-weight: 900;
  font-size: 12px;
  letter-spacing: 2px;
  writing-mode: vertical-rl; /* ç«–æ’æ–‡å­— */
  z-index: 1;
}

/* ä¹¦è„Šè£…é¥°çº¿ (ä¼ªå…ƒç´  ::after) */
.forum-bookshelf-card::after {
  content: "";
  position: absolute !important;
  left: 22px !important; /* è·ç¦»å·¦è¾¹ç¼˜ä¸€ç‚¹è·ç¦» */
  top: 16px !important;
  width: 1px !important;
  height: 100px !important;
  background: rgba(255, 255, 255, 0.4) !important;
  z-index: 2;
}

/* ç»™ä¸åŒçš„ä¹¦éšæœºåˆ†é…å°é¢é¢œè‰² */
.forum-bookshelf-card:nth-child(4n + 1)::before {
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%) !important;
}
.forum-bookshelf-card:nth-child(4n + 2)::before {
  background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%) !important;
}
.forum-bookshelf-card:nth-child(4n + 3)::before {
  background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%) !important;
}
.forum-bookshelf-card:nth-child(4n + 4)::before {
  background: linear-gradient(135deg, #fccb90 0%, #d57eeb 100%) !important;
}

/* --- 5. å³ä¾§ä¿¡æ¯åŒºåŸŸ (Header) --- */
.series-card-header {
  display: flex !important;
  flex-direction: column !important;
  gap: 6px !important;
  margin-bottom: 10px !important;
  width: 100% !important;
  /* æ¢å¤å¯è§æ€§ */
  opacity: 1 !important;
  visibility: visible !important;
}

/* ä¹¦å */
.series-card-title {
  font-size: 16px !important;
  font-weight: 700 !important;
  color: #333 !important;
  line-height: 1.4 !important;
  margin: 0 !important;

  /* é™åˆ¶æ˜¾ç¤ºä¸¤è¡Œ */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ç¬¬ä¸€è¡Œ Metaï¼šCPä¿¡æ¯ (èƒ¶å›Šæ ‡ç­¾) */
.series-card-meta:nth-of-type(1) {
  display: inline-flex !important;
  align-self: flex-start !important;
  font-size: 11px !important;
  color: var(--accent-color) !important;
  background-color: rgba(0, 123, 255, 0.08) !important;
  padding: 3px 8px !important;
  border-radius: 6px !important;
  font-weight: 600 !important;
}

/* ç¬¬äºŒè¡Œ Metaï¼šè¿›åº¦ä¿¡æ¯ (ç°è‰²å°å­—) */
.series-card-meta:nth-of-type(2) {
  font-size: 12px !important;
  color: #999 !important;
  margin-top: 2px !important;
}

/* --- 6. æŒ‰é’®æ“ä½œåŒº (Actions) --- */
.series-card-actions {
  display: flex !important;
  gap: 8px !important;
  margin-top: auto !important; /* æ¨åˆ°åº•éƒ¨ */
  padding-top: 5px !important;
}

/* æŒ‰é’®ç»Ÿä¸€æ ·å¼ */
.series-card-actions .mini-btn {
  padding: 6px 12px !important;
  font-size: 12px !important;
  border-radius: 14px !important; /* æ¤­åœ†æŒ‰é’® */
  border: 1px solid #eee !important;
  background-color: #fff !important;
  color: #666 !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  white-space: nowrap !important;
  flex: 1; /* æŒ‰é’®å‡åˆ†å®½åº¦ */
  text-align: center;
}

/* ä¸»æŒ‰é’® (é˜…è¯»/è¿½æ›´) */
.series-card-actions .mini-btn.primary {
  background-color: var(--accent-color) !important;
  color: white !important;
  border-color: var(--accent-color) !important;
  box-shadow: 0 2px 5px rgba(0, 123, 255, 0.25) !important;
  flex: 1.5; /* ä¸»æŒ‰é’®å®½ä¸€ç‚¹ */
}
/* 1. è¯¦æƒ…é¡µä¸»å®¹å™¨ï¼šç¡®ä¿æ˜¯å‚ç›´ Flex å¸ƒå±€ï¼Œä¸”ç¦æ­¢æ•´ä½“æ»šåŠ¨ */
#forum-series-detail-screen {
  display: flex !important;
  flex-direction: column !important;
  height: 100% !important;
  overflow: hidden !important; /* ç¦æ­¢æ•´ä¸ªå±å¹•æ»šåŠ¨ */
}

/* 2. é¡¶éƒ¨ä¹¦ç±ä¿¡æ¯åŒºåŸŸ (Meta) */
/* è®©å®ƒæ ¹æ®å†…å®¹è‡ªåŠ¨æ’‘å¼€é«˜åº¦ï¼Œä¸è®¸ä¼¸å±•ï¼Œä¸è®¸æ»šåŠ¨ */
#forum-series-meta {
  flex-grow: 0 !important; /* ä¸è¦æŠ¢å å‰©ä½™ç©ºé—´ */
  flex-shrink: 0 !important; /* é˜²æ­¢è¢«ä¸‹é¢çš„åˆ—è¡¨æŒ¤æ‰ */
  overflow: visible !important; /* ä¸éœ€è¦æ»šåŠ¨æ¡ */
  height: auto !important; /* é«˜åº¦è‡ªé€‚åº” */
  min-height: 0 !important;
  background: transparent !important; /* ä¿æŒé€æ˜ï¼Œæ˜¾ç¤ºèƒŒæ™¯è‰² */
  padding-bottom: 0 !important;
}

/* 3. åº•éƒ¨ç›®å½•åˆ—è¡¨ (Chapter List) */
/* è®©å®ƒåƒæ‰æ‰€æœ‰å‰©ä¸‹çš„ç©ºé—´ï¼Œå¹¶ä¸”å†…å®¹æº¢å‡ºæ—¶è‡ªå·±å†…éƒ¨æ»šåŠ¨ */
#forum-series-chapter-list {
  flex-grow: 1 !important; /* å æ®æ‰€æœ‰å‰©ä½™ç©ºé—´ */
  height: 0 !important; /* ã€å…³é”®ã€‘é…åˆflex-growï¼Œå¼ºåˆ¶è§¦å‘æ»šåŠ¨è®¡ç®— */
  min-height: 0 !important; /* ã€å…³é”®ã€‘é˜²æ­¢Flexå­é¡¹æº¢å‡º */
  overflow-y: auto !important; /* å¼€å¯å‚ç›´æ»šåŠ¨æ¡ */

  /* ç¾åŒ–ä¸€ä¸‹åˆ—è¡¨çš„é—´è· */
  padding: 10px 15px 30px 15px !important;
  gap: 10px !important;

  /* ç§»é™¤ä¹‹å‰å¯èƒ½è®¾ç½®çš„ max-height */
  max-height: none !important;
  background: transparent !important;
}

/* 4. å•ä¸ªç« èŠ‚æ¡ç›®çš„æ ·å¼å¾®è°ƒ (é˜²æ­¢å¤ªæŒ¤) */
.forum-chapter-item {
  flex-shrink: 0 !important; /* é˜²æ­¢åœ¨åˆ—è¡¨é‡Œè¢«æŒ¤æ‰ */
}
.toggle-switch {
  position: relative;
  display: inline-block;
  width: 52px;
  height: 28px;
  margin-left: auto; /* é å³å¯¹é½ */
}

.toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc; /* é»˜è®¤ç°è‰² */
  transition: 0.4s;
  border-radius: 34px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
  z-index: 2;
}

/* å¼€å¯çŠ¶æ€ï¼šèƒŒæ™¯å˜ç»¿ */
input:checked + .slider {
  background-color: #34c759; /* iOS ç»¿è‰² */
}

/* å¼€å¯çŠ¶æ€ï¼šåœ†çƒå³ç§» */
input:checked + .slider:before {
  transform: translateX(24px);
}

/* â˜…â˜…â˜… æ ¸å¿ƒï¼šå¼€å¯æ—¶æ˜¾ç¤ºå¯¹å‹¾ â˜…â˜…â˜… */
input:checked + .slider::after {
  content: "âœ”";
  position: absolute;
  color: white;
  font-size: 16px;
  left: 8px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1;
}

/* ================================================================= */
/* === ğŸ’ æƒ…ä¾£ç©ºé—´ V12.0 ç»ˆæé‡æ„ï¼šæ‚å¿—å°é¢Â·æ²‰æµ¸å¼å¸ƒå±€ ğŸ’ === */
/* ================================================================= */

/* --- 1. å¤´éƒ¨å®¹å™¨è°ƒæ•´ï¼šç»™èƒŒæ™¯å›¾ç•™å‡ºå±•ç¤ºç©ºé—´ --- */
#ls-header {
  height: 320px !important; /* ä¸éœ€è¦è¿‡é«˜ï¼Œ320px æ˜¯å±•ç¤ºèƒŒæ™¯å›¾çš„é»„é‡‘é«˜åº¦ */
  display: flex !important;
  flex-direction: column !important;
  justify-content: flex-end; /* å…³é”®ï¼šè®©å†…å®¹æ²‰åº•ï¼Œç•™å‡ºä¸Šæ–¹ç©ºé—´çœ‹å›¾ */
  padding-bottom: 50px !important; /* åº•éƒ¨ç•™ç™½ï¼Œç»™Tabæ è…¾ä½ç½® */
  box-sizing: border-box !important;

  /* æ·»åŠ åº•éƒ¨æ¸å˜é®ç½©ï¼Œä¿è¯ç™½è‰²æ–‡å­—åœ¨æµ…è‰²èƒŒæ™¯ä¸Šä¹Ÿæ¸…æ™° */
  background: transparent !important;
}

/* --- 2. é¡¶éƒ¨æ“ä½œæ ï¼šä¿æŒåœ¨æœ€ä¸Šæ–¹ --- */
.ls-header-top-bar {
  position: absolute !important;
  top: 0;
  left: 0;
  width: 100%;
  box-sizing: border-box;
  /* å¢åŠ ä¸€ç‚¹é¡¶éƒ¨æ¸å˜ï¼Œé˜²æ­¢ç™½è‰²æŒ‰é’®çœ‹ä¸æ¸… */
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.3),
    transparent
  ) !important;
  padding-bottom: 20px !important;
}

/* --- 3. å¤´åƒä¸è®¡æ•°å™¨ï¼šå±…ä¸­æ²‰åº•å¸ƒå±€ --- */
/* è¿™æ˜¯æœ€æ ¸å¿ƒçš„æ”¹åŠ¨ï¼šä¸å†ç»å¯¹å®šä½ï¼Œè€Œæ˜¯è‡ªç„¶æµå¼å¸ƒå±€ */
.ls-avatar-and-counter-wrapper {
  position: static !important; /* å–æ¶ˆå›ºå®šåæ ‡ */
  transform: none !important;

  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 12px !important;

  /* ç»™å·¦å³ç•™å‡ºä½™åœ°ï¼Œé˜²æ­¢åœ¨å¤§å±iPadä¸Šå¤ªæ•£ */
  width: 100% !important;
  margin-bottom: 10px !important; /* å’Œä¸‹æ–¹Tabæ çš„é—´è· */
}

/* --- 4. å¤´åƒç»„ï¼šç²¾è‡´é‡å é£ --- */
.ls-header-avatars {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  position: relative !important; /* ä¸ºçˆ±å¿ƒå›¾æ ‡å®šä½ */
}

.ls-header-avatars img {
  width: 68px !important;
  height: 68px !important;
  border-radius: 50% !important;
  object-fit: cover !important;

  /* ç²¾è‡´ç™½è¾¹ + æŸ”å…‰é˜´å½± */
  border: 3px solid rgba(255, 255, 255, 0.95) !important;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2) !important;

  /* ç¨å¾®åˆ†å¼€ä¸€ç‚¹ï¼Œæ˜¾å¾—å¤§æ°” */
  margin: 0 15px !important;
}

/* ä¸­é—´çš„çˆ±å¿ƒ/éŸ³æ³¢å›¾æ ‡ï¼šæ‚¬æµ®æ­£ä¸­ */
.ls-header-avatars .heart-icon {
  position: absolute !important;
  left: 50% !important;
  top: 50% !important;
  transform: translate(-50%, -50%) !important;

  /* è°ƒæ•´å°ºå¯¸ï¼Œè®©å®ƒè¿æ¥ä¸¤ä¸ªå¤´åƒ */
  width: 100px !important;
  height: 30px !important;
  background-size: contain !important;
  z-index: 10 !important; /* åœ¨å¤´åƒä¸Šé¢ */
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)); /* å¢åŠ ç«‹ä½“æ„Ÿ */
}

/* --- 5. å¤©æ•°è®¡æ•°å™¨ï¼šç²¾è‡´èƒ¶å›Šé£æ ¼ --- */
#ls-days-counter {
  font-size: 14px !important;
  font-weight: 600 !important;
  color: #fff !important;
  letter-spacing: 1px;

  /* èƒ¶å›ŠèƒŒæ™¯ï¼šåŠé€æ˜ç£¨ç ‚é»‘/ç™½æ··åˆ */
  background: rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;

  padding: 6px 16px !important;
  border-radius: 20px !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1) !important;

  /* ç§»é™¤ä¹‹å‰çš„å·¦è¾¹æ¡†æ ·å¼ï¼Œæ”¹ä¸ºçº¯å‡€èƒ¶å›Š */
  border-left: 1px solid rgba(255, 255, 255, 0.3) !important;
  margin: 0 !important;
}

/* --- 6. Tabå¯¼èˆªæ ï¼šåµŒå…¥å¼æ‚¬æµ® --- */
#ls-tab-bar {
  /* ä½¿ç”¨ margin-top æŠŠå®ƒå¾€ä¸Šæ‹‰ï¼Œå¡åœ¨ Header èƒŒæ™¯å›¾çš„è¾¹ç¼˜ */
  margin-top: -35px !important;

  /* å·¦å³è¾¹è· */
  margin-left: 15px !important;
  margin-right: 15px !important;
  margin-bottom: 15px !important;

  /* è§†è§‰å‡çº§ï¼šæ›´åŠ æ¸…é€ */
  background: rgba(255, 255, 255, 0.85) !important;
  backdrop-filter: blur(20px) saturate(180%) !important;
  border: 1px solid rgba(255, 255, 255, 0.6) !important;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08) !important;

  /* åœ†è§’ */
  border-radius: 22px !important;
  padding: 6px !important;
  z-index: 20 !important;
}

/* æ¿€æ´»çš„ Tab æŒ‰é’® */
.ls-tab-item.active {
  background: #fff !important;
  border-radius: 16px !important;
  box-shadow: 0 4px 12px rgba(255, 105, 180, 0.15) !important;
  color: #ff6b81 !important; /* çŠç‘šç²‰ */
  transform: translateY(-1px); /* å¾®å¾®æµ®èµ· */
}

/* æœªæ¿€æ´»çš„ Tab å›¾æ ‡é¢œè‰² */
.ls-tab-item:not(.active) svg {
  color: #888 !important;
}

/* --- 7. ä¸‹æ–¹å†…å®¹åŒºï¼šå¾®è°ƒé¡¶éƒ¨é—´è· --- */
#ls-content-area,
.ls-view {
  padding-top: 5px !important; /* ä¸éœ€è¦å¤ªå¤šï¼Œç´§å‡‘ä¸€ç‚¹æ›´å¥½çœ‹ */
}
/* === ä¿®å¤è®°å¿†äº’é€šä¸‹æ‹‰æ¡†æ ·å¼ === */

/* 1. åˆ—è¡¨å®¹å™¨ï¼šè®¾ç½®ä¸ºç»å¯¹å®šä½çš„æµ®å±‚ï¼Œé™åˆ¶é«˜åº¦å¹¶å…è®¸æ»šåŠ¨ */
#memory-link-checkboxes-container {
  display: none; /* é»˜è®¤éšè— */
  position: absolute;
  width: 100%;
  max-height: 200px;
  overflow-y: auto;
  background: #fff; /* èƒŒæ™¯è‰² */
  border: 1px solid #ddd;
  border-radius: 8px;
  z-index: 1000; /* ç¡®ä¿æµ®åœ¨æœ€ä¸Šå±‚ */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  margin-top: 5px;
  box-sizing: border-box;
}

/* å½“ JS æ·»åŠ  .visible ç±»æ—¶æ˜¾ç¤º */
#memory-link-checkboxes-container.visible {
  display: block;
}

/* 2. åˆ—è¡¨é¡¹ï¼ˆæ¯ä¸€è¡Œï¼‰ï¼šä½¿ç”¨ Flex å¸ƒå±€å‚ç›´å±…ä¸­ */
#memory-link-checkboxes-container label {
  display: flex;
  align-items: center; /* å…³é”®ï¼šè®©å‹¾é€‰æ¡†ã€å¤´åƒã€æ–‡å­—å‚ç›´å±…ä¸­ */
  padding: 8px 12px;
  border-bottom: 1px solid #f5f5f5;
  cursor: pointer;
  transition: background 0.2s;
  color: #333;
}

#memory-link-checkboxes-container label:hover {
  background-color: #f0f2f5;
}

#memory-link-checkboxes-container label:last-child {
  border-bottom: none;
}

/* 3. â˜…â˜…â˜… æ ¸å¿ƒä¿®å¤ï¼šé™åˆ¶å¤´åƒå›¾ç‰‡çš„å¤§å° â˜…â˜…â˜… */
#memory-link-checkboxes-container .avatar-preview {
  width: 32px !important; /* å¼ºåˆ¶å®½åº¦ */
  height: 32px !important; /* å¼ºåˆ¶é«˜åº¦ */
  border-radius: 50%; /* åœ†å½¢å¤´åƒ */
  object-fit: cover; /* é˜²æ­¢å›¾ç‰‡å˜å½¢ */
  margin: 0 10px; /* å¤´åƒå·¦å³çš„é—´è· */
  flex-shrink: 0; /* é˜²æ­¢å¤´åƒè¢«æŒ¤æ‰ */
  border: 1px solid #eee;
}

/* å¾®è°ƒå¤é€‰æ¡†æ ·å¼ */
#memory-link-checkboxes-container input[type="checkbox"] {
  margin: 0;
  width: 16px;
  height: 16px;
  accent-color: var(--accent-color, #007bff);
}
/* --- å¾®åšè¯„è®ºåŒºå¤´åƒæ ·å¼ --- */
.weibo-comment-item {
  display: flex; /* ä½¿ç”¨ Flex å¸ƒå±€ */
  align-items: flex-start; /* é¡¶éƒ¨å¯¹é½ */
  gap: 8px; /* å¤´åƒå’Œæ–‡å­—çš„é—´è· */
  padding: 6px 0;
}

.weibo-comment-avatar {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0; /* é˜²æ­¢å¤´åƒè¢«æŒ¤å‹ */
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.weibo-comment-content-wrapper {
  flex: 1; /* æ–‡å­—å æ®å‰©ä½™ç©ºé—´ */
  font-size: 13px;
  line-height: 1.4;
}

/* è°ƒæ•´åŸæ¥çš„åˆ é™¤æŒ‰é’®ä½ç½® */
.weibo-comment-item .comment-delete-btn {
  margin-left: auto; /* æ¨åˆ°æœ€å³è¾¹ */
  font-size: 16px;
  color: #999;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0 4px;
  line-height: 1;
}
/* 1. èŒç³»å¼¹çª—æ ·å¼ */
#bug-report-modal .modal-content {
  background-color: #fff0f6; /* æµ…ç²‰è‰²èƒŒæ™¯ */
  border: 3px solid #ffadd2; /* æ·±ç²‰è‰²è¾¹æ¡† */
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(255, 107, 129, 0.2);
}

#bug-report-modal .modal-header {
  background-color: #ffadd2;
  color: white;
  border-bottom: none;
  border-radius: 16px 16px 0 0;
  font-size: 18px;
  font-weight: bold;
}

/* 2. æ—¥å¿—æ˜¾ç¤ºåŒºåŸŸï¼šåƒä¸€å¼ å¤„æ–¹å• */
#error-log-viewer {
  width: 100%;
  height: 100%;
  background-color: #ffffff;
  color: #ff4d4f; /* æŠ¥é”™ç”¨çº¢è‰²å­—ä½“ */
  font-family: "Consolas", "Menlo", monospace;
  font-size: 12px;
  line-height: 1.6;
  padding: 15px;
  box-sizing: border-box;
  border: 2px dashed #ffccc7; /* è™šçº¿è¾¹æ¡† */
  border-radius: 12px;
  resize: none;
  outline: none;
  white-space: pre-wrap;
}

/* 3. æŒ‰é’®ç¾åŒ– */
.nurse-btn {
  padding: 8px 16px;
  border-radius: 20px;
  border: none;
  cursor: pointer;
  font-weight: bold;
  transition: transform 0.2s;
}
.nurse-btn:active {
  transform: scale(0.95);
}

.nurse-btn-copy {
  background: #5cdbd3;
  color: white;
} /* è“ç»¿è‰² */
.nurse-btn-clear {
  background: #fff;
  color: #ff85c0;
  border: 1px solid #ff85c0;
}
.nurse-btn-close {
  background: #ff7875;
  color: white;
}
/* ç³»ç»Ÿå¼¹çª—å®¹å™¨æ ·å¼ */
#notification-bar {
  position: fixed;
  top: 20px; /* è·ç¦»é¡¶éƒ¨ç¨å¾®ç•™ç‚¹ç©ºéš™ï¼Œç±»ä¼¼iOSçµåŠ¨å²›ä¸‹æ–¹ */
  left: 50%;
  transform: translateX(-50%) translateY(-200%); /* é»˜è®¤éšè—åœ¨å±å¹•ä¸Šæ–¹ */
  width: 90%;
  max-width: 360px;
  background: rgba(255, 255, 255, 0.95); /* è½»å¾®é€æ˜çš„ç™½è‰²èƒŒæ™¯ */
  backdrop-filter: blur(10px); /* æ¯›ç»ç’ƒç‰¹æ•ˆ */
  border-radius: 16px; /* åœ†è§’å¡ç‰‡ */
  box-shadow:
    0 8px 30px rgba(0, 0, 0, 0.12),
    0 2px 5px rgba(0, 0, 0, 0.05); /* æŸ”å’Œçš„é˜´å½± */
  z-index: 10000; /* ç¡®ä¿åœ¨æœ€é¡¶å±‚ */
  display: flex;
  align-items: center;
  padding: 12px 16px;
  gap: 12px; /* å¤´åƒå’Œæ–‡å­—çš„é—´è· */
  transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); /* å¼¹æ€§åŠ¨ç”» */
  cursor: pointer;
  border: 1px solid rgba(0, 0, 0, 0.05);
}

/* å¼¹çª—æ¿€æ´»æ—¶çš„çŠ¶æ€ */
#notification-bar.visible {
  transform: translateX(-50%) translateY(0); /* æ»‘å…¥å±å¹• */
}

/* å¼¹çª—å¤´åƒæ ·å¼ */
#notification-avatar {
  width: 44px;
  height: 44px;
  border-radius: 50%; /* åœ†å½¢å¤´åƒ */
  object-fit: cover; /* é˜²æ­¢å›¾ç‰‡å˜å½¢ */
  border: 1px solid rgba(0, 0, 0, 0.1);
  flex-shrink: 0; /* é˜²æ­¢è¢«æŒ¤å‹ */
  background-color: #eee;
}

/* å¼¹çª—å†…å®¹åŒºåŸŸ */
#notification-content {
  flex: 1; /* å æ»¡å‰©ä½™ç©ºé—´ */
  display: flex;
  flex-direction: column;
  justify-content: center;
  overflow: hidden; /* é˜²æ­¢æ–‡å­—æº¢å‡º */
}

/* åå­—æ ·å¼ */
#notification-content .name {
  font-size: 14px;
  font-weight: 600;
  color: #333;
  margin-bottom: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* æ¶ˆæ¯å†…å®¹æ ·å¼ */
#notification-content .message {
  font-size: 12px;
  color: #666;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis; /* æ–‡å­—å¤ªé•¿æ˜¾ç¤ºçœç•¥å· */
}

/* --- å¤œé—´æ¨¡å¼é€‚é… (å¦‚æœæœ‰å¤œé—´æ¨¡å¼çš„è¯) --- */
.dark-mode #notification-bar {
  background: rgba(30, 30, 30, 0.95);
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
}
.dark-mode #notification-content .name {
  color: #f0f0f0;
}
.dark-mode #notification-content .message {
  color: #aaa;
}
/* === ç•ªèŒ„é’ŸéŸ³ä¹æŒ‰é’® (èŒç³»é£æ ¼) === */
#pomodoro-music-btn {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(
    135deg,
    #ff9a9e 0%,
    #fecfef 100%
  ); /* æ¨±èŠ±ç²‰æ¸å˜ */
  border: 2px solid #fff;
  box-shadow: 0 4px 15px rgba(255, 154, 158, 0.4);
  color: white;
  font-size: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* å¼¹æ€§åŠ¨ç”» */
  cursor: pointer;
  padding: 0;
}

#pomodoro-music-btn:hover {
  transform: scale(1.1) rotate(15deg);
  box-shadow: 0 6px 20px rgba(255, 154, 158, 0.6);
}

#pomodoro-music-btn:active {
  transform: scale(0.95);
}

/* === ç•ªèŒ„é’ŸéŸ³ä¹é¢æ¿ (èŒç³»å”±ç‰‡æœºé£æ ¼) === */
.moe-music-modal-content {
  background-color: #fffafb; /* ææ·¡çš„ç²‰ç™½èƒŒæ™¯ */
  border-radius: 24px !important;
  border: 4px solid #fff;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.moe-music-header {
  background: linear-gradient(
    to right,
    #a18cd1 0%,
    #fbc2eb 100%
  ); /* ç´«ç²‰æ¸å˜ */
  color: white;
  padding: 15px;
  text-align: center;
  font-weight: bold;
  font-size: 16px;
  letter-spacing: 1px;
  border-bottom: none;
}

/* æ’­æ”¾å™¨ä¸»ä½“ */
.pomo-player-container {
  padding: 20px;
  background: #fff;
  border-bottom-left-radius: 30px;
  border-bottom-right-radius: 30px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
  text-align: center;
  position: relative;
  z-index: 2;
}

/* æ—‹è½¬å”±ç‰‡å°é¢ */
.pomo-disc-wrapper {
  width: 120px;
  height: 120px;
  margin: 0 auto 15px;
  position: relative;
}

.pomo-disc {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: #333; /* é»‘èƒ¶åº•è‰² */
  padding: 4px; /* å”±ç‰‡è¾¹æ¡†åšåº¦ */
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  animation: rotate-disc 10s linear infinite;
  animation-play-state: paused;
}

.pomo-disc.playing {
  animation-play-state: running;
}

.pomo-disc img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #fff;
}

@keyframes rotate-disc {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* æ­Œæ›²ä¿¡æ¯ */
.pomo-track-info h3 {
  margin: 0;
  font-size: 16px;
  color: #333;
}
.pomo-track-info p {
  margin: 5px 0 0;
  font-size: 12px;
  color: #888;
}

/* æ’­æ”¾æ§åˆ¶æŒ‰é’®ç»„ */
.pomo-controls-row {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 25px;
  margin-top: 15px;
}

.pomo-ctrl-btn {
  background: none;
  border: none;
  color: #a18cd1;
  font-size: 24px;
  cursor: pointer;
  transition: transform 0.2s;
}

.pomo-play-btn {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); /* æ¸…æ–°è“ç»¿ */
  color: white;
  font-size: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 10px rgba(132, 250, 176, 0.4);
}

.pomo-ctrl-btn:active,
.pomo-play-btn:active {
  transform: scale(0.9);
}

/* æ’­æ”¾åˆ—è¡¨ */
.pomo-playlist {
  flex: 1;
  overflow-y: auto;
  padding: 10px 15px;
  background-color: #fffafb;
}

.pomo-playlist-item {
  display: flex;
  align-items: center;
  padding: 10px;
  border-radius: 12px;
  margin-bottom: 8px;
  background: white;
  border: 1px solid #f0f0f0;
  cursor: pointer;
  transition: all 0.2s;
}

.pomo-playlist-item:hover {
  transform: translateX(5px);
  border-color: #fbc2eb;
}

.pomo-playlist-item.active {
  background: #fff0f5;
  border-color: #ff9a9e;
}

.pomo-playlist-item.active .title {
  color: #ff9a9e;
  font-weight: bold;
}

.pomo-playlist-item .index {
  font-size: 12px;
  color: #ccc;
  width: 25px;
}

.pomo-playlist-item .info {
  flex: 1;
  overflow: hidden;
}

.pomo-playlist-item .title {
  font-size: 14px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  color: #555;
}

.pomo-playlist-item .artist {
  font-size: 11px;
  color: #999;
}

.playing-icon-gif {
  width: 15px;
  height: 15px;
  display: none;
}
.pomo-playlist-item.active .playing-icon-gif {
  display: block;
}
/* ç¡®ä¿ç½‘æ ¼å¸ƒå±€æ­£ç¡® */
#ls-album-list {
  display: grid;
  grid-template-columns: repeat(3, 1fr); /* ä¸€è¡Œ3ä¸ªï¼Œæˆ–è€…æ ¹æ®ä½ çš„éœ€æ±‚è°ƒæ•´ */
  gap: 10px;
  padding: 15px;
}

/* å¼ºåˆ¶ç›¸å†Œé¡¹æœ‰é«˜åº¦ */
.ls-album-item {
  aspect-ratio: 1 / 1; /* ä¿æŒæ­£æ–¹å½¢ */
  position: relative;
  border-radius: 8px;
  overflow: hidden;
  background-color: #f0f0f0; /* ç»™ä¸ªç°è‰²èƒŒæ™¯ï¼Œé˜²æ­¢åŠ è½½å¤±è´¥æ—¶å…¨ç™½çœ‹ä¸è§ */
}

/* åˆ é™¤æŒ‰é’®å®šä½ */
.ls-photo-delete-btn {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 20px;
  height: 20px;
  background: rgba(0, 0, 0, 0.5);
  color: white;
  border: none;
  border-radius: 50%;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
  z-index: 10; /* ç¡®ä¿åœ¨å›¾ç‰‡ä¸Šé¢ */
  display: flex;
  align-items: center;
  justify-content: center;
}
/* === æƒ…ä¾£ç©ºé—´ç…§ç‰‡è¯¦æƒ…é¡µ - èŒç³»ç¾åŒ– === */

/* 1. å¼¹çª—å®¹å™¨ */
.ls-photo-modal-content {
  background-color: #fff0f3 !important; /* æµ…ç²‰è‰²èƒŒæ™¯ */
  border-radius: 24px !important;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  max-height: 90%;
  width: 90%;
  max-width: 400px;
  box-shadow: 0 10px 30px rgba(255, 143, 171, 0.3) !important;
  border: 3px solid #fff;
}

/* 2. å¤´éƒ¨ */
.ls-photo-modal-header {
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
  padding: 15px 20px;
  color: white;
  font-weight: bold;
  font-size: 18px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 2px solid #fff;
}
.ls-photo-modal-header .close-btn {
  background: rgba(255, 255, 255, 0.3);
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 20px;
  transition: 0.2s;
}
.ls-photo-modal-header .close-btn:hover {
  background: rgba(255, 255, 255, 0.6);
  transform: rotate(90deg);
}

/* 3. ä¸­é—´å†…å®¹åŒº */
.ls-photo-modal-body {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  background-image: radial-gradient(
    #ffdde1 10%,
    transparent 10%
  ); /* æ³¢ç‚¹èƒŒæ™¯ */
  background-size: 20px 20px;
}

/* 4. æ‹ç«‹å¾—é£æ ¼ç…§ç‰‡å®¹å™¨ */
.ls-polaroid-container {
  background: white;
  padding: 12px 12px 20px 12px;
  border-radius: 8px;
  box-shadow:
    0 4px 15px rgba(0, 0, 0, 0.05),
    0 0 0 1px rgba(0, 0, 0, 0.02);
  transform: rotate(-2deg); /* å¾®å¾®å€¾æ–œï¼Œæ›´ä¿çš® */
  margin-bottom: 25px;
  text-align: center;
  transition: transform 0.3s;
}
.ls-polaroid-container:hover {
  transform: rotate(0deg) scale(1.02);
}

.ls-photo-wrapper {
  border-radius: 4px;
  overflow: hidden;
  border: 1px solid #eee;
  background: #f8f8f8;
}
.ls-photo-wrapper img {
  display: block;
  width: 100%;
  height: auto;
  object-fit: cover;
}

.ls-photo-desc {
  font-size: 15px;
  color: #555;
  margin-top: 15px;
  font-family:
    "Comic Sans MS", "Chalkboard SE", sans-serif; /* å°è¯•ç”¨å¯çˆ±å­—ä½“ */
  line-height: 1.5;
}

.ls-photo-date {
  font-size: 12px;
  color: #bbb;
  margin-top: 5px;
}

/* 5. è¯„è®ºåŒº */
.ls-comments-section-title {
  font-size: 14px;
  color: #ff8fa3;
  font-weight: bold;
  margin-bottom: 15px;
  display: flex;
  align-items: center;
  gap: 5px;
}

.ls-comments-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* å•æ¡è¯„è®ºé¡¹ */
.ls-photo-comment-item {
  display: flex;
  gap: 10px;
  align-items: flex-start;
}

.ls-photo-comment-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: 2px solid #fff;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  object-fit: cover;
  flex-shrink: 0;
}

.ls-photo-comment-bubble {
  background: white;
  padding: 8px 12px;
  border-radius: 12px;
  border-top-left-radius: 2px; /* æ°”æ³¡å°–è§’ */
  position: relative;
  box-shadow: 0 2px 8px rgba(255, 143, 171, 0.1);
  font-size: 13px;
  color: #444;
  line-height: 1.4;
  flex: 1;
}
.ls-photo-comment-item.is-me .ls-photo-comment-bubble {
  background: #ffeff4;
  border-top-left-radius: 12px;
  border-top-right-radius: 2px;
  color: #d63384;
}
.ls-photo-comment-item.is-me {
  flex-direction: row-reverse; /* æˆ‘å‘çš„åœ¨å³è¾¹ */
}

.ls-comment-author {
  font-size: 11px;
  color: #aaa;
  margin-bottom: 2px;
  display: block;
}

/* 6. åº•éƒ¨è¾“å…¥æ  */
.ls-photo-modal-footer {
  padding: 12px;
  background: white;
  display: flex;
  align-items: center;
  gap: 10px;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.03);
}

#ls-photo-comment-input {
  flex: 1;
  background: #f0f2f5;
  border: 2px solid transparent;
  padding: 10px 15px;
  border-radius: 20px;
  font-size: 14px;
  outline: none;
  transition: 0.3s;
}
#ls-photo-comment-input:focus {
  background: #fff;
  border-color: #ffb7b2;
  box-shadow: 0 0 0 3px rgba(255, 183, 178, 0.2);
}

#ls-photo-comment-send-btn {
  background: linear-gradient(45deg, #ff9a9e, #fad0c4);
  color: white;
  border: none;
  padding: 8px 18px;
  border-radius: 20px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(255, 154, 158, 0.4);
  transition: transform 0.1s;
}
#ls-photo-comment-send-btn:active {
  transform: scale(0.95);
}
/* =========================================
   ğŸ° å…”kè®°è´¦ - å…¨æ–°é«˜çº§èŒç³»ä¸»é¢˜
   ========================================= */

/* å®šä¹‰ä¸“å±å˜é‡ */
:root {
  --tukey-primary: #ff9a9e; /* æ¨±èŠ±ç²‰ */
  --tukey-primary-light: #fecfef; /* æµ…ç²‰ */
  --tukey-accent: #a18cd1; /* æ¢¦å¹»ç´« */
  --tukey-success: #84fab0; /* æ”¶å…¥/èµ„äº§ç»¿ */
  --tukey-bg: #fffafb; /* æå…¶æµ…çš„ç²‰ç™½èƒŒæ™¯ */
  --tukey-text-main: #5d4037; /* æš–æ·±æ£•å­—ä½“ */
  --tukey-text-light: #9e8a70; /* æµ…æ£•å­—ä½“ */
  --tukey-card-shadow: 0 8px 24px rgba(255, 154, 158, 0.15); /* æŸ”å’Œçš„ç²‰è‰²æŠ•å½± */
  --tukey-radius: 20px; /* ç»Ÿä¸€å¤§åœ†è§’ */
}

/* 1. å…¨å±€å®¹å™¨èƒŒæ™¯ */
#tukey-accounting-screen {
  background-color: var(--tukey-bg) !important;
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif; /* ç¡®ä¿å­—ä½“åœ†æ¶¦ */
}

/* 2. å¤´éƒ¨ç¾åŒ– */
#tukey-accounting-screen .header {
  background: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: blur(10px);
  border-bottom: none !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.02);
}
#tukey-accounting-screen .header span {
  color: var(--tukey-text-main);
  font-weight: 600;
}

/* 3. é’±åŒ…è§†å›¾ - èµ„äº§å¡ç‰‡ (é«˜çº§æ¸å˜ + ç»ç’ƒè´¨æ„Ÿ) */
#wallet-summary-card {
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
  border-radius: var(--tukey-radius);
  padding: 25px;
  margin: 15px;
  color: white;
  box-shadow: 0 10px 30px rgba(255, 154, 158, 0.4);
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(255, 255, 255, 0.3);
}

/* å¢åŠ ä¸€ç‚¹å¯çˆ±çš„è£…é¥°åœ†åœˆèƒŒæ™¯ */
#wallet-summary-card::before {
  content: "";
  position: absolute;
  top: -30px;
  right: -30px;
  width: 100px;
  height: 100px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
}

.summary-item.net-assets .label {
  font-size: 14px;
  opacity: 0.9;
  font-weight: normal;
}
.summary-item.net-assets .value {
  font-size: 32px;
  font-weight: 700;
  margin-top: 5px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.summary-details {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
  background: rgba(255, 255, 255, 0.2);
  padding: 12px 20px;
  border-radius: 12px;
}
.summary-details .summary-item {
  display: flex;
  flex-direction: column;
}
.summary-details .label {
  font-size: 12px;
  opacity: 0.9;
}
.summary-details .value {
  font-size: 16px;
  font-weight: 600;
  margin-top: 2px;
}

/* 4. è´¦æˆ·åˆ—è¡¨ç¾åŒ– */
.tukey-account-category-card {
  background: #fff;
  border-radius: 16px;
  margin: 15px;
  padding: 5px 0;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.03);
  border: 1px solid rgba(0, 0, 0, 0.02);
}

.category-header {
  padding: 12px 15px;
  border-bottom: 1px dashed #f0f0f0;
}
.category-title {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
  color: var(--tukey-text-light);
  font-weight: bold;
}

.tukey-account-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 15px;
  transition: background 0.2s;
  cursor: pointer;
}
.tukey-account-item:active {
  background-color: #fff0f5;
}

.account-info {
  display: flex;
  align-items: center;
  gap: 12px;
}
.account-icon {
  width: 40px;
  height: 40px;
  border-radius: 12px; /* åœ†è§’çŸ©å½¢å›¾æ ‡æ›´ç°ä»£ */
  padding: 6px;
  background-color: #f8f9fa; /* æµ…ç°åº•æ‰˜åº•å›¾ç‰‡ */
  box-sizing: border-box;
  object-fit: contain;
}
.account-name {
  font-size: 15px;
  color: var(--tukey-text-main);
  font-weight: 500;
}
.account-balance-and-type {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}
.account-balance {
  font-size: 15px;
  font-weight: bold;
  color: var(--tukey-text-main);
}
.account-type-name {
  font-size: 11px;
  color: #ccc;
  margin-top: 2px;
}

/* 5. æ‚¬æµ®æŒ‰é’® (FAB) - èŒç³»åŠ æˆ */
#add-new-account-fab,
#tukey-add-record-btn {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  box-shadow: 0 4px 15px rgba(255, 154, 158, 0.5);
  border: 2px solid white; /* å¢åŠ ç™½è¾¹æ˜¾å¾—æ›´ç²¾è‡´ */
  display: flex;
  align-items: center;
  justify-content: center;
  position: fixed;
  bottom: 90px; /* é¿å¼€åº•éƒ¨å¯¼èˆªæ  */
  right: 20px;
  z-index: 100;
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* å¼¹æ€§åŠ¨ç”» */
}
#add-new-account-fab:active,
#tukey-add-record-btn:active {
  transform: scale(0.9) rotate(90deg);
}
#add-new-account-fab svg,
#tukey-add-record-btn::before {
  color: white;
}
/* è®°ä¸€ç¬”æŒ‰é’®çš„åŠ å· */
#tukey-add-record-btn {
  color: white;
  font-size: 30px;
  font-weight: 300;
  padding-bottom: 4px; /* å¾®è°ƒåŠ å·ä½ç½® */
}

/* 6. è®°è´¦ç¾¤èŠåˆ—è¡¨ (æ°”æ³¡ç¾åŒ–) */
#tukey-records-list {
  background-color: var(--tukey-bg) !important;
  padding: 15px;
}

/* åŒ…è£…å™¨ï¼Œç”¨äºå¤´åƒå’Œæ°”æ³¡çš„å¸ƒå±€ */
.tukey-record-wrapper.user-record {
  display: flex;
  justify-content: flex-end; /* ç”¨æˆ·æ¶ˆæ¯é å³ */
  align-items: flex-start;
  margin-bottom: 20px;
  gap: 10px;
}

/* å¤´åƒæ ·å¼ */
.record-user-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 2px solid white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  order: 2; /* å¤´åƒåœ¨å³è¾¹ */
}

/* è®°è´¦æ°”æ³¡æ ·å¼ */
.tukey-record-bubble {
  background: #fff;
  border-radius: 18px 4px 18px 18px; /* å³ä¸Šè§’å°–è§’ */
  padding: 12px 16px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
  min-width: 180px;
  max-width: 70%;
  order: 1; /* æ°”æ³¡åœ¨å¤´åƒå·¦è¾¹ */
  position: relative;
  border: 1px solid rgba(0, 0, 0, 0.03);
}

/* æ”¶å…¥/æ”¯å‡ºçš„é¢œè‰²åŒºåˆ†æ¡ */
.tukey-record-bubble.expense {
  border-left: 4px solid #ff9a9e;
}
.tukey-record-bubble.income {
  border-left: 4px solid #84fab0;
}

.record-header {
  display: flex;
  align-items: center;
  margin-bottom: 8px;
  padding-bottom: 8px;
  border-bottom: 1px dashed #eee;
}
.record-category-icon {
  width: 24px;
  height: 24px;
  margin-right: 8px;
}
.record-category-name {
  font-size: 14px;
  color: var(--tukey-text-main);
  font-weight: bold;
}

.record-body {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}
.record-amount {
  font-size: 18px;
  font-weight: bold;
  font-family: "DIN Alternate", sans-serif; /* æ•°å­—å­—ä½“ */
}
.tukey-record-bubble.expense .record-amount {
  color: var(--tukey-text-main);
}
.tukey-record-bubble.income .record-amount {
  color: #4caf50;
}

.record-remarks {
  font-size: 13px;
  color: var(--tukey-text-light);
  margin-right: 10px;
}

.record-footer {
  font-size: 10px;
  color: #ccc;
  text-align: right;
}

/* 7. AI å›å¤æ°”æ³¡ç¾åŒ– */
.tukey-replies-container {
  background: transparent;
  padding: 0;
  margin-top: -10px; /* ç´§è´´ä¸Šä¸€æ¡ */
  margin-bottom: 20px;
  margin-right: 50px; /* ç»™ç”¨æˆ·å¤´åƒç•™ç©º */
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* é å³å¯¹é½ */
}

.tukey-reply-item {
  display: flex;
  align-items: flex-start;
  flex-direction: row-reverse; /* AIå¤´åƒåœ¨å³ï¼Œæ°”æ³¡åœ¨å·¦ï¼ˆçœ‹èµ·æ¥åƒç¾¤èŠé‡Œçš„å…¶ä»–äººå›å¤æˆ‘ï¼‰*/
  /* ä½†ç­‰ç­‰ï¼Œç¾¤èŠé€»è¾‘åº”è¯¥æ˜¯ï¼šæˆ‘æ˜¯å³è¾¹ï¼Œå…¶ä»–äººæ˜¯å·¦è¾¹ã€‚
       è¿™é‡Œä¿®æ­£ï¼šè®°è´¦è®°å½•æ˜¯æˆ‘å‘çš„ï¼ˆå³è¾¹ï¼‰ï¼ŒAIå›å¤æ˜¯AIå‘çš„ï¼ˆå·¦è¾¹ï¼‰ã€‚
    */
  flex-direction: row;
  align-self: flex-start; /* AIå›å¤æ•´ä½“é å·¦ */
  margin-top: 10px;
  max-width: 85%;
}

/* ä¿®æ­£åçš„ AI å›å¤æ ·å¼ */
.tukey-replies-container {
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* AI å›å¤é å·¦ */
  margin-top: 5px;
  padding-left: 10px;
}

.tukey-reply-item {
  display: flex;
  align-items: flex-start;
  margin-bottom: 10px;
  animation: slideInLeft 0.3s ease;
}

.reply-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  margin-right: 10px;
  border: 1px solid #fff;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.reply-content {
  display: flex;
  flex-direction: column;
}

.reply-sender-name {
  font-size: 11px;
  color: var(--tukey-text-light);
  margin-bottom: 2px;
  margin-left: 4px;
}

.reply-bubble {
  background: #fff;
  padding: 10px 14px;
  border-radius: 4px 18px 18px 18px; /* å·¦ä¸Šè§’å°–è§’ */
  font-size: 14px;
  color: var(--tukey-text-main);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
  line-height: 1.5;
}

/* 8. è®°è´¦è¾“å…¥å¡ç‰‡ (Keyboard/Modal) */
#tukey-record-input-card {
  border-radius: 24px 24px 0 0;
  box-shadow: 0 -5px 30px rgba(0, 0, 0, 0.1);
}
.type-selector {
  background: #f5f5f5;
  padding: 4px;
  border-radius: 20px;
}
.type-selector .type-btn {
  border-radius: 16px;
  font-size: 14px;
  color: #888;
}
.type-selector .type-btn.active {
  background: #fff;
  color: var(--tukey-primary);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  font-weight: bold;
}

/* é‡‘é¢è¾“å…¥åŒº */
.input-fields {
  border-bottom: 1px solid #f0f0f0;
  padding-bottom: 15px;
  margin-bottom: 15px;
}
.amount-input-wrapper {
  display: flex;
  align-items: baseline;
  margin-bottom: 10px;
}
.currency-symbol {
  font-size: 24px;
  font-weight: bold;
  color: var(--tukey-text-main);
}
#tukey-card-amount-input {
  font-size: 36px;
  font-family: "DIN Alternate", sans-serif;
  font-weight: bold;
  color: var(--tukey-text-main);
  border: none;
  background: transparent;
  width: 100%;
  margin-left: 10px;
}
#tukey-card-amount-input::placeholder {
  color: #eee;
}

/* åˆ†ç±»ç½‘æ ¼ */
.category-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 15px 10px;
  padding: 10px 0;
}
.tukey-category-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
  opacity: 0.6;
  transition: all 0.2s;
}
.tukey-category-item.selected {
  opacity: 1;
  transform: scale(1.1);
}
.tukey-category-item img {
  width: 40px;
  height: 40px;
  padding: 8px;
  background: #f8f9fa;
  border-radius: 14px;
  box-sizing: border-box;
}
.tukey-category-item.selected img {
  background: var(--tukey-primary-light);
}
.tukey-category-item span {
  font-size: 11px;
}

/* åº•éƒ¨æŒ‰é’® */
#tukey-save-from-card-btn {
  background: linear-gradient(135deg, #ff9a9e, #fecfef);
  border: none;
  border-radius: 20px;
  color: #fff; /* è¿™é‡Œè¦ç”¨ç™½è‰² */
  font-weight: bold;
  letter-spacing: 1px;
  box-shadow: 0 4px 10px rgba(255, 154, 158, 0.4);
}

/* 9. åº•éƒ¨å¯¼èˆªæ  */
#tukey-bottom-nav {
  border-top: none;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.03);
  padding-bottom: env(safe-area-inset-bottom);
}
.tukey-nav-item span {
  font-size: 10px;
  margin-top: 2px;
}
.tukey-nav-item.active svg path {
  fill: var(--tukey-primary);
}
.tukey-nav-item.active span {
  color: var(--tukey-primary);
  font-weight: bold;
}

/* åŠ¨ç”»æ•ˆæœ */
@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}
/* å…”kè®°è´¦é‡RollæŒ‰é’®æ ·å¼ */
.tukey-reroll-btn {
  font-size: 12px;
  color: #888;
  cursor: pointer;
  margin-top: 5px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  background-color: rgba(255, 255, 255, 0.5);
  border-radius: 12px;
  transition: all 0.2s;
  align-self: flex-start; /* è®©æŒ‰é’®é å·¦å¯¹é½ */
}

.tukey-reroll-btn:hover {
  background-color: #fff;
  color: #007bff;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.tukey-replies-container {
  /* ç¡®ä¿å®¹å™¨æ˜¯åˆ—å¸ƒå±€ï¼Œæ–¹ä¾¿æˆ‘ä»¬æŠŠæŒ‰é’®æ”¾åœ¨å›å¤ä¸‹é¢ */
  display: flex;
  flex-direction: column;
  gap: 8px;
}
/* å…”kè®°è´¦é‡RollæŒ‰é’®æ ·å¼ */
.tukey-reroll-btn {
  font-size: 12px;
  color: #888;
  cursor: pointer;
  margin-top: 5px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
  background-color: rgba(255, 255, 255, 0.5);
  border-radius: 12px;
  transition: all 0.2s;
  align-self: flex-start; /* è®©æŒ‰é’®é å·¦å¯¹é½ */
}

.tukey-reroll-btn:hover {
  background-color: #fff;
  color: #007bff;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.tukey-replies-container {
  /* ç¡®ä¿å®¹å™¨æ˜¯åˆ—å¸ƒå±€ï¼Œæ–¹ä¾¿æˆ‘ä»¬æŠŠæŒ‰é’®æ”¾åœ¨å›å¤ä¸‹é¢ */
  display: flex;
  flex-direction: column;
  gap: 8px;
}
#tukey-accounting-screen,
#kk-house-view-screen,
#date-a-live-screen,
#taobao-screen,
#lovers-space-screen,
#wallpaper-screen {
  height: 100vh;
}
/* --- æƒ…ä¾£ç©ºé—´åˆ†äº«åˆ—è¡¨ - èŒç³»æ”¹é€ æ ·å¼ --- */

/* å®¹å™¨ï¼šå»æ‰é»˜è®¤çš„è¾¹æ¡†å’ŒèƒŒæ™¯ï¼Œæ”¹ç”¨ flex å¸ƒå±€ */
.ls-list-item.ls-share-item {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 5px 0 !important;
  margin-bottom: 15px !important;
  cursor: default; /* å†…éƒ¨æœ‰ç‚¹å‡»äº‹ä»¶ï¼Œå¤–å±‚é»˜è®¤ */
}

/* åŒ…è£…å™¨ï¼šè´Ÿè´£å·¦å³å¸ƒå±€ */
.ls-share-wrapper {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 0 10px;
}

/* å¦‚æœæ˜¯"æˆ‘"å‘çš„ï¼Œåè½¬å¸ƒå±€ */
.ls-share-wrapper.is-me {
  flex-direction: row-reverse;
}

/* å¤´åƒæ ·å¼ */
.ls-share-avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  border: 2px solid #fff;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  object-fit: cover;
  flex-shrink: 0;
}

/* æ°”æ³¡å¡ç‰‡ä¸»ä½“ */
.ls-share-bubble {
  position: relative;
  padding: 12px;
  border-radius: 16px;
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
  max-width: 75%;
  transition: transform 0.2s;
  cursor: pointer;
}

.ls-share-bubble:active {
  transform: scale(0.98);
}

/* æ°”æ³¡å°å°¾å·´ (å¯¹æ–¹) */
.ls-share-wrapper:not(.is-me) .ls-share-bubble::before {
  content: "";
  position: absolute;
  top: 15px;
  left: -6px;
  width: 10px;
  height: 10px;
  background-color: inherit; /* ç»§æ‰¿æ°”æ³¡èƒŒæ™¯è‰² */
  border-left: inherit; /* ç»§æ‰¿è¾¹æ¡† */
  border-bottom: inherit;
  transform: rotate(45deg);
}

/* æ°”æ³¡å°å°¾å·´ (æˆ‘) */
.ls-share-wrapper.is-me .ls-share-bubble::before {
  content: "";
  position: absolute;
  top: 15px;
  right: -6px;
  width: 10px;
  height: 10px;
  background-color: inherit;
  border-right: inherit;
  border-top: inherit;
  transform: rotate(45deg);
}

/* å¤´éƒ¨ï¼šæ ‡ç­¾å’Œæ—¶é—´ */
.ls-share-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.ls-share-label {
  font-size: 10px;
  padding: 2px 8px;
  border-radius: 10px;
  font-weight: bold;
}

.ls-share-time {
  font-size: 10px;
  color: #999;
}

/* å†…å®¹ç›’å­ */
.ls-share-content-box {
  background: rgba(255, 255, 255, 0.6);
  border-radius: 8px;
  padding: 8px;
  margin-bottom: 8px;
}

.share-card-title {
  font-size: 15px;
  font-weight: bold;
  color: #333;
  margin-bottom: 4px;
}

.share-card-meta {
  font-size: 12px;
  color: #666;
}

.share-card-desc {
  font-size: 12px;
  color: #666;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* æ„Ÿæƒ³éƒ¨åˆ†ï¼ˆä¾¿åˆ©è´´é£æ ¼ï¼‰ */
.share-card-thoughts {
  font-size: 13px;
  color: #555;
  font-style: italic;
  padding: 0 5px;
  line-height: 1.4;
}

.quote-mark {
  font-family: serif;
  font-size: 16px;
  color: rgba(0, 0, 0, 0.2);
  margin: 0 2px;
}

/* ç©ºçŠ¶æ€å ä½ç¬¦ */
.ls-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 300px;
  color: #999;
  text-align: center;
}
/* === æƒ…ä¾£ç©ºé—´åˆ†äº«è¯¦æƒ…å¼¹çª— Ver 2.0 === */

/* å¼¹çª—ä¸»ä½“å®¹å™¨ */
.ls-share-card-container {
  padding: 0 !important;
  width: 320px !important;
  max-width: 90% !important;
  background: #fff !important;
  border-radius: 24px !important;
  overflow: visible !important; /* å…è®¸å¤´åƒå‡¸å‡ºå» */
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
}

/* é¡¶éƒ¨å½©è‰²èƒŒæ™¯ */
.ls-share-header-bg {
  height: 80px;
  background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); /* é»˜è®¤ç²‰è‰² */
  border-radius: 24px 24px 0 0;
}

/* å¤´åƒåŒ…è£…å™¨ (è®©å¤´åƒæ‚¬æµ®åœ¨èƒŒæ™¯å’Œå†…å®¹ä¹‹é—´) */
.ls-share-avatar-wrapper {
  position: relative;
  margin-top: -50px; /* å‘ä¸Šåç§» */
  display: flex;
  justify-content: center;
  align-items: flex-end;
}

/* è§’è‰²å¤§å¤´åƒ */
.ls-share-avatar-img {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  border: 4px solid #fff;
  object-fit: cover;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  background: #fff;
  z-index: 2;
}

/* å³ä¸‹è§’çš„ç±»å‹å°å¾½ç«  */
.ls-share-badge {
  position: absolute;
  bottom: 0;
  right: 50%;
  margin-right: -45px; /* å®šä½åˆ°å¤´åƒå³ä¸‹è§’ */
  background: #fff;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  z-index: 3;
}

/* å†…å®¹ä¸»ä½“ */
.ls-share-content-body {
  padding: 10px 25px 20px 25px;
  text-align: center;
}

/* æ°”æ³¡é£æ ¼æ¨èè¯­ */
.ls-share-speech-bubble {
  background: #fff0f5; /* æµ…ç²‰è‰²åº• */
  color: #555;
  padding: 15px;
  border-radius: 16px;
  position: relative;
  margin-top: 10px;
  margin-bottom: 20px;
  font-size: 14px;
  line-height: 1.6;
  font-style: italic;
}

/* æ°”æ³¡çš„å°ä¸‰è§’ */
.bubble-arrow {
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-bottom: 8px solid #fff0f5;
}

/* ä¿¡æ¯å¡ç‰‡ (ç®€ä»‹éƒ¨åˆ†) */
.ls-share-info-box {
  background: #f9f9f9;
  border-radius: 16px;
  padding: 15px;
  border: 1px solid #f0f0f0;
}

.ls-share-info-box h3 {
  margin: 0 0 8px 0;
  font-size: 17px;
  color: #333;
  font-weight: 700;
}

.ls-share-pill {
  display: inline-block;
  font-size: 11px;
  padding: 3px 10px;
  border-radius: 20px;
  background: #e0e0e0;
  color: #666;
  margin-bottom: 10px;
}

.ls-share-divider {
  height: 1px;
  background: #eee;
  width: 100%;
  margin: 10px 0;
}

.ls-share-summary-text {
  font-size: 13px;
  color: #666;
  text-align: left;
  line-height: 1.6;
  max-height: 120px;
  overflow-y: auto;
}

/* åº•éƒ¨æŒ‰é’®åŒº */
.ls-share-footer-action {
  padding: 0 25px 25px 25px;
}

#ls-share-detail-close-btn {
  width: 100%;
  padding: 12px;
  border: none;
  border-radius: 30px;
  background: linear-gradient(90deg, #ff9a9e 0%, #fecfef 100%);
  color: #fff;
  font-size: 15px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(255, 154, 158, 0.4);
  transition: transform 0.1s;
}
#ls-share-detail-close-btn:active {
  transform: scale(0.98);
}

/* === åŠ¨æ€é…è‰²æ–¹æ¡ˆ === */
/* ç”µå½± (è“ç´«è‰²è°ƒ) */
.modal-content.theme-movie .ls-share-header-bg {
  background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
}
.modal-content.theme-movie .ls-share-pill {
  background: #f3e5f5;
  color: #9c27b0;
}
.modal-content.theme-movie .ls-share-speech-bubble {
  background: #f3e5f5;
  color: #7b1fa2;
}
.modal-content.theme-movie .bubble-arrow {
  border-bottom-color: #f3e5f5;
}
.modal-content.theme-movie #ls-share-detail-close-btn {
  background: linear-gradient(90deg, #a18cd1 0%, #fbc2eb 100%);
  box-shadow: 0 4px 15px rgba(161, 140, 209, 0.4);
}

/* ä¹¦ç± (ç»¿è‰²è°ƒ) */
.modal-content.theme-book .ls-share-header-bg {
  background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
}
.modal-content.theme-book .ls-share-pill {
  background: #e8f5e9;
  color: #43a047;
}
.modal-content.theme-book .ls-share-speech-bubble {
  background: #e8f5e9;
  color: #2e7d32;
}
.modal-content.theme-book .bubble-arrow {
  border-bottom-color: #e8f5e9;
}
.modal-content.theme-book #ls-share-detail-close-btn {
  background: linear-gradient(90deg, #84fab0 0%, #8fd3f4 100%);
  box-shadow: 0 4px 15px rgba(132, 250, 176, 0.4);
}

/* æ¸¸æˆ (æ©™è‰²è°ƒ) */
.modal-content.theme-game .ls-share-header-bg {
  background: linear-gradient(120deg, #f6d365 0%, #fda085 100%);
}
.modal-content.theme-game .ls-share-pill {
  background: #fff3e0;
  color: #ef6c00;
}
.modal-content.theme-game .ls-share-speech-bubble {
  background: #fff3e0;
  color: #e65100;
}
.modal-content.theme-game .bubble-arrow {
  border-bottom-color: #fff3e0;
}
.modal-content.theme-game #ls-share-detail-close-btn {
  background: linear-gradient(90deg, #f6d365 0%, #fda085 100%);
  box-shadow: 0 4px 15px rgba(246, 211, 101, 0.4);
}
/* =========================================
   å…”å…”è®°è´¦ - æŠ¥è¡¨ä¸æ°”æ³¡ç¾åŒ– (é«˜çº§èŒç‰ˆ)
   ========================================= */

/* 1. åˆ—è¡¨é¡¹å®¹å™¨ï¼šå¢åŠ é—´è·ï¼Œå»é™¤é»˜è®¤èƒŒæ™¯ï¼Œæ–¹ä¾¿åšæ‚¬æµ®æ•ˆæœ */
.report-record-item {
  position: relative;
  display: flex;
  align-items: center;
  margin-bottom: 12px;
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); /* å¼¹æ€§åŠ¨ç”» */
}

.report-record-item:hover {
  transform: scale(1.01) translateX(2px); /* é¼ æ ‡æ‚¬åœæ—¶å¾®å¾®æ”¾å¤§ */
}

/* 2. æ°”æ³¡ä¸»ä½“ï¼šæ ¸å¿ƒç¾åŒ–åŒº */
.tukey-record-bubble {
  flex-grow: 1;
  position: relative;
  padding: 12px 16px;
  border-radius: 18px; /* å¤§åœ†è§’ */
  /* é»˜è®¤èƒŒæ™¯ (å…œåº•) */
  background: #fff;
  /* ç»ç’ƒæ‹Ÿæ€é˜´å½± */
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.03),
    0 1px 2px rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.6);
  overflow: hidden;
}

/* --- æ”¯å‡ºæ°”æ³¡ (Expense) - æš–è‰²è°ƒ/å¥¶æ²¹ç²‰ --- */
.tukey-record-bubble.expense {
  /* ä½¿ç”¨æŸ”å’Œçš„æ¸å˜ï¼Œæ›´æœ‰è´¨æ„Ÿ */
  background: linear-gradient(135deg, #fff0f0 0%, #ffecec 100%);
  border-left: 4px solid #ff9a9e; /* å·¦ä¾§å¼ºè°ƒæ¡ */
}

/* --- æ”¶å…¥æ°”æ³¡ (Income) - å†·è‰²è°ƒ/æ¸…æ–°ç»¿ --- */
.tukey-record-bubble.income {
  background: linear-gradient(135deg, #f0fff4 0%, #e6fcf5 100%);
  border-left: 4px solid #4caf50;
}

/* 3. æ°”æ³¡å†…éƒ¨å¸ƒå±€ */
.record-main-row {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* å›¾æ ‡å®¹å™¨ï¼šåœ†å½¢èƒŒæ™¯ */
.record-icon-wrapper {
  width: 40px;
  height: 40px;
  background: #fff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
  flex-shrink: 0;
}

.record-category-icon {
  width: 24px;
  height: 24px;
  object-fit: contain;
}

/* ä¸­é—´æ–‡å­—åŒºåŸŸ */
.record-info-col {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  overflow: hidden;
}

.record-category-name {
  font-size: 15px;
  font-weight: 600;
  color: #333;
  line-height: 1.2;
}

.record-remarks {
  font-size: 12px;
  color: #666;
  margin-top: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.record-meta {
  font-size: 11px;
  color: #999;
  margin-top: 4px;
  display: flex;
  gap: 6px;
  align-items: center;
}

/* å³ä¾§é‡‘é¢åŒºåŸŸ */
.record-amount-col {
  text-align: right;
  flex-shrink: 0;
}

/* æ”¯å‡ºé‡‘é¢é¢œè‰² */
.tukey-record-bubble.expense .record-amount,
.tukey-record-bubble.expense .record-amount-num {
  color: #ff5252;
  font-weight: bold;
  font-size: 16px;
  font-family: "Din Alternate", "Roboto", sans-serif; /* æ•°å­—å­—ä½“ä¼˜åŒ– */
}

/* æ”¶å…¥é‡‘é¢é¢œè‰² */
.tukey-record-bubble.income .record-amount,
.tukey-record-bubble.income .record-amount-num {
  color: #2e7d32;
  font-weight: bold;
  font-size: 16px;
  font-family: "Din Alternate", "Roboto", sans-serif;
}

/* 4. åˆ é™¤æŒ‰é’®ç¾åŒ– */
.delete-record-btn {
  width: 32px;
  height: 32px;
  border: none;
  background: #ffebee;
  color: #ff5252;
  border-radius: 50%;
  margin-left: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;

  /* é»˜è®¤å®Œå…¨éšè— */
  opacity: 0;
  transform: scale(0.8);
  transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  box-shadow: 0 2px 5px rgba(255, 82, 82, 0.2);
}

.delete-record-btn:hover {
  background: #ff5252;
  color: white;
  transform: scale(1.1);
}

/* é¼ æ ‡æ‚¬åœåœ¨æ•´è¡Œä¸Šæ—¶ï¼Œæ˜¾ç¤ºåˆ é™¤æŒ‰é’® */
.report-record-item:hover .delete-record-btn {
  opacity: 1;
  transform: scale(1);
}

/* 5. æŠ¥è¡¨æ—¥æœŸåˆ†ç»„å¤´éƒ¨ç¾åŒ– */
.report-day-group .day-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 4px;
  margin-top: 15px;
  margin-bottom: 5px;
  border-bottom: 1px dashed rgba(0, 0, 0, 0.05);
}

.report-day-group .day-header .date {
  font-size: 13px;
  font-weight: bold;
  color: #888;
  background: #f5f5f5;
  padding: 2px 8px;
  border-radius: 10px;
}

.report-day-group .day-header .day-summary {
  font-size: 12px;
  color: #aaa;
}

/* é€‚é…æ·±è‰²æ¨¡å¼ (è‡ªåŠ¨åè‰²) */
.dark-mode .tukey-record-bubble {
  background: #1c1c1e;
  border-color: #333;
  box-shadow: none;
}
.dark-mode .tukey-record-bubble.expense {
  background: linear-gradient(135deg, #2c1a1a 0%, #251818 100%);
  border-left-color: #ff5e67;
}
.dark-mode .tukey-record-bubble.income {
  background: linear-gradient(135deg, #1a2a20 0%, #16241b 100%);
  border-left-color: #66bb6a;
}
.dark-mode .record-category-name {
  color: #eee;
}
.dark-mode .record-icon-wrapper {
  background: #333;
}
.dark-mode .report-day-group .day-header .date {
  background: #333;
  color: #ccc;
}
/* === æ¡Œé¢ç¼–è¾‘æ¨¡å¼æ ¸å¿ƒæ ·å¼ === */

/* 1. ç¼–è¾‘æ¨¡å¼å¼€å¯æ—¶ï¼Œå›¾æ ‡æŠ–åŠ¨ */
.editing-mode .desktop-app-icon,
.editing-mode .custom-widget-container,
.editing-mode #new-custom-widget,
.editing-mode #profile-widget {
  /* ç”šè‡³è¿ä¸ªäººèµ„æ–™å¡ç‰‡ä¹Ÿå¯ä»¥æ‹– */
  animation: app-jiggle 0.25s infinite alternate;
  cursor: grab;
  /* å…³é”®ï¼šç»™ä¸ªè½®å»“è®©ç”¨æˆ·çŸ¥é“å®ƒè¢«é€‰ä¸­äº† */
  outline: 2px dashed rgba(255, 255, 255, 0.6);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  /* å…³é”®ï¼šé˜²æ­¢é€‰ä¸­æ–‡å­—å¹²æ‰°æ‹–æ‹½ */
  user-select: none;
  -webkit-user-select: none;
  z-index: 10;
}

/* 2. æ­£åœ¨è¢«æ‰‹æŒ‡æŒ‰ä½æ‹–æ‹½çš„é‚£ä¸ªå…ƒç´  */
.is-dragging-active {
  opacity: 0.9;
  z-index: 9999 !important; /* è®©å®ƒæµ®åœ¨æœ€ä¸Šé¢ */
  animation: none !important; /* æ‹–æ‹½æ—¶æš‚åœæŠ–åŠ¨ï¼Œä½“éªŒæ›´å¥½ */
  transform: scale(1.15) !important; /* ç¨å¾®æ”¾å¤§ */
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4) !important;
  outline: 2px solid #007bff !important; /* å˜æˆå®çº¿é«˜äº® */
}

/* 3. æŠ–åŠ¨åŠ¨ç”» */
@keyframes app-jiggle {
  0% {
    transform: rotate(-1.5deg);
  }
  100% {
    transform: rotate(1.5deg);
  }
}

/* 4. å®ŒæˆæŒ‰é’® */
#desktop-edit-done-btn {
  position: absolute;
  top: 50px;
  right: 20px;
  padding: 8px 20px;
  background-color: rgba(255, 255, 255, 0.9);
  color: #007bff;
  border-radius: 20px;
  font-size: 15px;
  font-weight: 800;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  z-index: 10000; /* æœ€é«˜å±‚çº§ */
  display: none; /* é»˜è®¤éšè— */
  cursor: pointer;
  backdrop-filter: blur(10px);
}
/* === ä¿®å¤ç¬¬äºŒé¡µç»„åˆç»„ä»¶çš„æ ·å¼ === */
#center-avatar-wrapper {
  position: absolute;
  /* åˆå§‹ä½ç½®è®¾å®šï¼Œè„šæœ¬æ¥ç®¡åä¼šå˜æˆå…·ä½“çš„ top/left */
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* åˆå§‹å±…ä¸­ */

  /* å…³é”®ï¼šè®©å®ƒåŒ…è£¹ä½å†…å®¹ï¼Œä½†ä¸è¦å¤ªå¤§ */
  width: 260px;
  height: 260px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  /* è°ƒè¯•ç”¨ï¼Œå¯ä»¥çœ‹åˆ°è¾¹ç•Œï¼Œä¸Šçº¿å¯å»æ‰ */
  /* border: 1px solid rgba(0,0,0,0.1); */

  pointer-events: auto !important; /* ç¡®ä¿èƒ½è¢«ç‚¹åˆ° */
}

/* æ‹–æ‹½æ—¶å–æ¶ˆ transform å±…ä¸­ï¼Œé˜²æ­¢åæ ‡å†²çª */
#center-avatar-wrapper.is-dragging-active,
#center-avatar-wrapper[style*="left"] {
  transform: none !important;
}

/* ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œè®©å¤–å±‚ Wrapper æŠ–åŠ¨ï¼Œè€Œä¸æ˜¯é‡Œé¢çš„å›¾ç‰‡æŠ–åŠ¨ */
.editing-mode #center-avatar-wrapper {
  animation: app-jiggle 0.25s infinite alternate;
  outline: 2px dashed rgba(255, 255, 255, 0.6);
  cursor: grab;
  z-index: 100;
}

/* ç¦æ­¢é‡Œé¢çš„å­å…ƒç´ å•ç‹¬æŠ–åŠ¨/å“åº”é¼ æ ‡ï¼Œå®ƒä»¬åªè·Ÿéšçˆ¶äº² */
.editing-mode #center-avatar-wrapper * {
  animation: none !important;
  pointer-events: none; /* ç¼–è¾‘æ¨¡å¼ä¸‹ç¦æ­¢æ“ä½œå†…éƒ¨å…ƒç´  */
}
/* ç¡®ä¿å¯æ‹–æ‹½å…ƒç´ é»˜è®¤æ ·å¼æ­£å¸¸ï¼Œæ‹–æ‹½å JS ä¼šæ¥ç®¡ */
.home-page .desktop-app-icon,
.home-page .custom-widget-container {
  /* å¦‚æœæœ‰ transform åŠ¨ç”»ï¼Œç¡®ä¿å®ƒä¸ä¼šå¹²æ‰° left/top */
  transition:
    transform 0.2s,
    width 0.2s,
    height 0.2s;
}

/* ç¼–è¾‘æ¨¡å¼ä¸‹çš„æŠ–åŠ¨åŠ¨ç”» */
.home-screen.editing-mode .desktop-app-icon,
.home-screen.editing-mode .custom-widget-container,
.home-screen.editing-mode #new-custom-widget,
.home-screen.editing-mode #profile-widget,
.home-screen.editing-mode #desktop-widget-column,
.home-screen.editing-mode #center-avatar-wrapper {
  animation: shake 0.3s infinite alternate;
}

@keyframes shake {
  0% {
    transform: rotate(-1deg);
  }
  100% {
    transform: rotate(1deg);
  }
}
/* --- è«å…°è¿ªæ¸…é€é£å¨ƒå¨ƒæœº --- */

/* å­—ä½“ */
@import url("https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap");

/* æœºå™¨ä¸»ä½“å®¹å™¨ */
#claw-machine-body.morandi-style {
  width: 340px;
  height: 680px;
  background: linear-gradient(
    135deg,
    #fdfbfb 0%,
    #ebedee 100%
  ); /* æå…¶æ·¡é›…çš„èƒŒæ™¯ */
  border-radius: 40px;
  position: relative;
  font-family: "Quicksand", sans-serif;
  /* æŸ”å’Œçš„é«˜çº§é˜´å½± */
  box-shadow:
    0 20px 60px rgba(100, 100, 100, 0.15),
    0 0 0 1px rgba(255, 255, 255, 0.8) inset;
  display: flex;
  flex-direction: column;
  padding: 20px;
  box-sizing: border-box;
  color: #6d5e5e; /* è«å…°è¿ªæ·±è¤ */
}

/* --- 1. é¡¶éƒ¨é¢æ¿ & é¥¼å›¾ --- */
.header-panel {
  height: 110px;
  margin-bottom: 15px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.header-title {
  font-size: 14px;
  letter-spacing: 3px;
  color: #bfaea8;
  font-weight: bold;
  margin-bottom: 8px;
}

.prob-dashboard {
  width: 100%;
  height: 80px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 20px;
  display: flex;
  align-items: center;
  padding: 0 15px;
  box-sizing: border-box;
  /* è½»å¾®çš„ç»ç’ƒæ„Ÿ */
  border: 1px solid rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(5px);
}

.pie-chart-wrapper {
  position: relative;
  width: 50px;
  height: 50px;
  margin-right: 15px;
  flex-shrink: 0;
}

.pie-chart {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  /* è¿™é‡Œçš„èƒŒæ™¯é¢œè‰²å°†ç”± JS åŠ¨æ€ç”Ÿæˆ conic-gradient */
  background: #ccc;
  box-shadow: 0 4px 10px rgba(238, 214, 211, 0.5);
}

.pie-hole {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 30px;
  height: 30px;
  background: #fdfbfb; /* ä¸æœºå™¨èƒŒæ™¯èåˆ */
  border-radius: 50%;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.05);
}

.chart-legend {
  flex: 1;
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  overflow-y: auto;
  max-height: 100%;
}

.legend-item {
  display: flex;
  align-items: center;
  font-size: 10px;
  width: 48%; /* ä¸¤åˆ—æ’å¸ƒ */
  color: #8e8080;
}

.legend-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  margin-right: 4px;
  flex-shrink: 0;
}

/* --- 2. ç»ç’ƒçª— (æ ¸å¿ƒåŒºåŸŸ) --- */
.machine-window {
  flex: 1;
  background: rgba(230, 240, 255, 0.15); /* ææ·¡çš„è“ */
  border-radius: 25px;
  border: 2px solid rgba(255, 255, 255, 0.8);
  box-shadow:
    inset 0 0 20px rgba(255, 255, 255, 0.5),
    0 5px 15px rgba(0, 0, 0, 0.03);
  position: relative;
  overflow: hidden;
  margin-bottom: 20px;
  backdrop-filter: blur(2px);
}

/* ç»ç’ƒé«˜å…‰æ¡ */
.reflection-light {
  position: absolute;
  top: -20%;
  left: -20%;
  width: 150%;
  height: 50px;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0),
    rgba(255, 255, 255, 0.4),
    rgba(255, 255, 255, 0)
  );
  transform: rotate(30deg);
  pointer-events: none;
  z-index: 20;
}

/* çˆªå­ (æç®€é£æ ¼) */
#machine-claw {
  position: absolute;
  top: 0;
  left: 50%;
  width: 60px;
  height: 80px;
  transform: translateX(-50%);
  z-index: 15;
  transition:
    top 0.5s ease-in-out,
    left 0.1s linear;
}
.claw-line {
  width: 2px;
  height: 100%;
  background: #bfaea8;
  margin: 0 auto;
}
.claw-hand {
  width: 50px;
  height: 30px;
  position: absolute;
  bottom: -20px;
  left: 5px;
  transition: transform 0.2s;
}
#machine-claw.grabbing .claw-hand {
  transform: scale(0.85);
}

.claw-finger {
  width: 4px;
  height: 25px;
  background: #bfaea8;
  position: absolute;
  bottom: 0;
  border-radius: 2px;
}
.claw-finger.left {
  left: 0;
  transform: rotate(25deg);
  transform-origin: top center;
}
.claw-finger.right {
  right: 0;
  transform: rotate(-25deg);
  transform-origin: top center;
}

#machine-claw.grabbing .claw-finger.left {
  transform: rotate(45deg);
}
#machine-claw.grabbing .claw-finger.right {
  transform: rotate(-45deg);
}

/* å¨ƒå¨ƒ (å¢åŠ æŠ•å½±) */
.game-doll {
  position: absolute;
  width: 55px;
  height: 55px;
  background-size: cover;
  background-position: center;
  filter: drop-shadow(0 5px 5px rgba(0, 0, 0, 0.1)); /* æŸ”å’ŒæŠ•å½± */
  transition: all 0.5s ease;
  z-index: 10;
}
.game-doll.caught {
  z-index: 16;
  transition: none;
}

/* è½ç‰©å£ */
.machine-chute {
  position: absolute;
  bottom: 0;
  left: 20px;
  width: 70px;
  height: 15px;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 10px 10px 0 0;
  border: 1px solid rgba(255, 255, 255, 0.5);
  color: rgba(142, 128, 128, 0.5);
  font-size: 9px;
  text-align: center;
  line-height: 12px;
  z-index: 5;
}

/* --- 3. åº•éƒ¨æ§åˆ¶å° --- */
.machine-controls {
  height: 140px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 30px;
  border: 1px solid rgba(255, 255, 255, 0.6);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  box-shadow: 0 10px 20px rgba(238, 214, 211, 0.2);
}

/* æ‘‡æ† */
.joystick-base {
  width: 70px;
  height: 70px;
  background: #eaddda; /* ç°ç²‰è‰² */
  border-radius: 50%;
  position: relative;
  box-shadow:
    inset 2px 2px 5px rgba(255, 255, 255, 0.7),
    inset -2px -2px 5px rgba(0, 0, 0, 0.05);
}
.joystick-stick {
  width: 10px;
  height: 35px;
  background: #cbbaba;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotateX(0deg) rotateY(0deg);
  transform-origin: bottom center;
  transition: transform 0.1s;
  cursor: grab;
}
.joystick-ball {
  width: 32px;
  height: 32px;
  background: #e6b2ba; /* è«å…°è¿ªç²‰çƒ */
  border-radius: 50%;
  position: absolute;
  top: -16px;
  left: -11px;
  box-shadow:
    inset -3px -3px 6px rgba(0, 0, 0, 0.1),
    inset 3px 3px 6px rgba(255, 255, 255, 0.5);
}

/* å±å¹•æ˜¾ç¤º */
.display-screen {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.display-screen .label {
  font-size: 9px;
  color: #a69292;
  letter-spacing: 1px;
  margin-bottom: 2px;
}
.display-screen .value {
  background: #fff;
  padding: 5px 12px;
  border-radius: 12px;
  color: #e5989b;
  font-weight: bold;
  font-size: 16px;
  min-width: 60px;
  text-align: center;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.03);
}

/* æŠ“å–æŒ‰é’® - åƒä¸€é¢—çç  */
.pearl-btn {
  width: 65px;
  height: 65px;
  border-radius: 50%;
  border: none;
  /* çç è´¨æ„Ÿ */
  background: radial-gradient(circle at 30% 30%, #fff, #f3e7e9);
  box-shadow:
    0 10px 20px rgba(200, 180, 180, 0.3),
    inset -2px -2px 5px rgba(0, 0, 0, 0.05);
  color: #bfaea8;
  font-weight: bold;
  font-size: 16px;
  cursor: pointer;
  transition: transform 0.1s;
}
.pearl-btn:active {
  transform: scale(0.95);
  box-shadow: 0 5px 10px rgba(200, 180, 180, 0.3);
}

/* å…³é—­æŒ‰é’® (æ‚¬æµ®åœ¨å³ä¸Šè§’) */
.close-float-btn {
  position: absolute;
  top: 15px;
  right: 15px;
  width: 32px;
  height: 32px;
  background: rgba(255, 255, 255, 0.6);
  border: none;
  border-radius: 50%;
  color: #8e8080;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.2s;
}
.close-float-btn:hover {
  background: #fff;
}
/* --- å¨ƒå¨ƒæœºæ–°æ ·å¼ --- */

/* 1. é¡¶éƒ¨åŠŸèƒ½æ å®¹å™¨ */
.machine-header-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 10px 15px 5px 15px; /* ä¸Šå³ä¸‹å·¦ */
  box-sizing: border-box;
  position: relative;
  z-index: 10;
}

/* 2. ä¸­é—´çš„æ ‡é¢˜ç»„ (æ ‡é¢˜+è®¾ç½®) */
.machine-header-bar .title-group {
  display: flex;
  align-items: center;
  gap: 5px; /* æ ‡é¢˜å’Œé½¿è½®çš„é—´è· */
  background: rgba(255, 255, 255, 0.4);
  padding: 5px 12px;
  border-radius: 20px;
  box-shadow:
    inset 0 1px 2px rgba(255, 255, 255, 0.8),
    0 2px 4px rgba(0, 0, 0, 0.05);
}

.header-title {
  font-size: 18px;
  font-weight: 800;
  color: #8d7878; /* è«å…°è¿ªè¤ */
  letter-spacing: 1px;
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.8);
}

/* 3. é€šç”¨åœ†å½¢å›¾æ ‡æŒ‰é’® */
.icon-btn {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: none;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  font-family: sans-serif; /* ç¡®ä¿å›¾æ ‡å±…ä¸­ */
  outline: none;
}

.icon-btn:active {
  transform: scale(0.9);
}

/* 4. è®¾ç½®æŒ‰é’® (âš™ï¸) */
.settings-btn {
  background: transparent;
  font-size: 18px;
  color: #a89090;
  width: auto; /* è‡ªé€‚åº” */
  padding: 0 2px;
}
.settings-btn:hover {
  color: #8d7878;
  transform: rotate(90deg); /* æ‚¬åœæ—‹è½¬ç‰¹æ•ˆ */
}

/* 5. åˆ·æ–°æŒ‰é’® (â†») - é‡æ–°è®¾è®¡ */
.refresh-btn {
  background: #fff;
  color: #8d7878;
  font-size: 18px;
  font-weight: bold;
  box-shadow:
    0 3px 6px rgba(0, 0, 0, 0.1),
    inset 0 -2px 0 rgba(0, 0, 0, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.6);
}
.refresh-btn:hover {
  background: #ffe4e1; /* æµ…ç²‰è‰²é«˜äº® */
  color: #d63031;
  transform: rotate(180deg);
}

/* 6. å·¦ä¾§è£…é¥°ç‚¹ */
.decor-dots {
  display: flex;
  gap: 6px;
}
.decor-dots span {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #d4a5a5;
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}
.decor-dots span:nth-child(2) {
  background: #edd1d1;
}

/* ä¿®æ”¹æ¦‚ç‡é¢æ¿çš„ä½ç½®ï¼Œè®©å®ƒç´§è´´ header-bar ä¸‹æ–¹ */
.prob-dashboard {
  margin-top: 5px;
  margin-bottom: 10px;
  transform: scale(0.9); /* ç¨å¾®ç¼©å°ä¸€ç‚¹ï¼Œç»™ä¸‹é¢ç•™ç©ºé—´ */
}
/* --- æ›´æ–°åçš„é¡¶éƒ¨æ æ ·å¼ --- */

.machine-header-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  padding: 10px 15px 5px 15px;
  box-sizing: border-box;
  position: relative;
  z-index: 10;
}

/* æ ‡é¢˜ç»„ä¿æŒå±…ä¸­ */
.machine-header-bar .title-group {
  display: flex;
  align-items: center;
  gap: 2px;
  background: rgba(255, 255, 255, 0.4);
  padding: 4px 10px;
  border-radius: 20px;
  /* ç»å¯¹å®šä½ç¡®ä¿æ ‡é¢˜æ°¸è¿œåœ¨æ­£ä¸­é—´ï¼Œä¸å—å·¦å³æŒ‰é’®å®½åº¦å½±å“ */
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  z-index: 1; /* å›¾å±‚åœ¨æŒ‰é’®ä¹‹ä¸‹ï¼Œé˜²æ­¢æŒ¡ä½ç‚¹å‡» */
}

/* å·¦å³æŒ‰é’®ç»„ */
.action-group {
  position: relative;
  z-index: 2; /* ç¡®ä¿æŒ‰é’®åœ¨æœ€ä¸Šå±‚ */
}

/* å…³é—­æŒ‰é’®æ ·å¼ (çº¢è‰²ç³») */
.close-header-btn {
  background: #ff7675; /* æŸ”å’Œçš„çº¢è‰² */
  color: white;
  font-size: 14px;
  font-weight: bold;
  border: 2px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 2px 5px rgba(214, 48, 49, 0.3);
}
.close-header-btn:hover {
  background: #d63031;
  transform: scale(1.1);
}

/* åˆ·æ–°æŒ‰é’®æ ·å¼ (ç™½è‰²ç³») */
.refresh-btn {
  background: #fff;
  color: #8d7878;
  font-size: 16px;
  font-weight: bold;
  border: 2px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}
.refresh-btn:hover {
  background: #ffeaa7;
  transform: rotate(180deg);
}

/* æ ‡é¢˜å­—ä½“å¾®è°ƒ */
.header-title {
  font-size: 16px;
  font-weight: 800;
  color: #8d7878;
  white-space: nowrap;
}

/* åŸæ¥çš„æ‚¬æµ®å…³é—­æŒ‰é’®æ ·å¼å¯ä»¥åˆ æ‰ï¼Œæˆ–è€…ç”¨ display: none éšè—ï¼Œé˜²æ­¢æ—§ä»£ç æ®‹ç•™å¹²æ‰° */
.close-float-btn {
  display: none !important;
}
/* === æ–°ç‰ˆå“åº”å¼ç»„ä»¶æ ·å¼ === */

/* ä¿®æ”¹ CSS (style æ ‡ç­¾æˆ– style.css ä¸­) */

.middle-layout-container {
  position: absolute;
  top: 53%;

  /* â–¼â–¼â–¼ ä¿®æ”¹è¿™é‡Œ â–¼â–¼â–¼ */
  left: 53%; /* åŸæ¥æ˜¯ 50%ï¼Œæ”¹æˆ 53% æˆ– 54% å°±ä¼šæ•´ä½“å¾€å³ç§»åŠ¨ä¸€ç‚¹ç‚¹ */
  /* â–²â–²â–² ä¿®æ”¹è¿™é‡Œ â–²â–²â–² */

  transform: translate(-50%, -50%);
  width: 92%;
  max-width: 400px;
  z-index: 4;
}

/* 2. ç»„ä»¶æœ¬ä½“ */
#glass-music-widget {
  width: 100%;
  display: flex;
  flex-direction: column;
  /* ä¸éœ€è¦èƒŒæ™¯è‰²ï¼Œä¿æŒé€šé€ */
}

/* 3. ä¸ŠåŠéƒ¨åˆ†ï¼šå°é¢ + å”±ç‰‡ */
.widget-main-row {
  position: relative;
  width: 100%;
  height: 140px; /* å¢åŠ é«˜åº¦ */
  display: flex;
  align-items: center;
}

/* å·¦ä¾§é•¿æ–¹å½¢å°é¢ */
.rect-cover-wrapper {
  width: 65%; /* å æ®å®½åº¦çš„ 65% */
  height: 100%;
  border-radius: 20px;
  overflow: hidden;
  position: relative;
  z-index: 2; /* åœ¨å”±ç‰‡ä¸‹æ–¹ï¼Œæˆ–è€…ä¸Šæ–¹ï¼Œæ ¹æ®éœ€æ±‚ã€‚è¿™é‡Œè®¾ä¸º2ç›–ä½å”±ç‰‡å·¦è¾¹ï¼Œè¿™æ˜¯å¸¸è§è®¾è®¡ */
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  background: #eee;
}

.rect-cover-wrapper img.cover-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* å³ä¾§é€æ˜å”±ç‰‡å®¹å™¨ */
.glass-record-wrapper {
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 45%; /* å”±ç‰‡åŒºåŸŸå®½åº¦ */
  z-index: 3; /* è®©å”±ç‰‡æµ®åœ¨é•¿æ–¹å½¢ä¸Šé¢ */
  display: flex;
  align-items: center;
  justify-content: center;
  /* å‘å·¦åç§»ä¸€ç‚¹ï¼Œå‹ä½é•¿æ–¹å½¢çš„è¾¹ç¼˜ */
  transform: translateX(-10%);
}

/* é€æ˜æ°´æ™¶å”±ç‰‡æœ¬ä½“ */
.glass-disc {
  width: 130px; /* å”±ç‰‡ç›´å¾„ï¼Œè°ƒå¤§ */
  height: 130px;
  border-radius: 50%;

  /* å…³é”®ï¼šé€æ˜æ°´æ™¶è´¨æ„Ÿ */
  background: rgba(255, 255, 255, 0.15); /* æ·¡æ·¡çš„ç™½è‰²åŠé€æ˜ */
  backdrop-filter: blur(4px); /* æ¯›ç»ç’ƒæ¨¡ç³Šæ•ˆæœ */
  -webkit-backdrop-filter: blur(4px);
  border: 1px solid rgba(255, 255, 255, 0.4); /* äº®ç™½è‰²ç»†è¾¹æ¡† */
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15); /* æŸ”å’Œé˜´å½± */

  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  animation: smooth-spin 10s linear infinite;
}

/* å”±ç‰‡ä¸­é—´çš„å›¾ç‰‡ */
.disc-center-img {
  width: 60%;
  height: 60%;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid rgba(255, 255, 255, 0.2); /* å›¾ç‰‡å‘¨å›´ä¸€åœˆæ·¡å…‰ */
}

/* å”±ç‰‡ä¸Šçš„é«˜å…‰åå…‰ (è£…é¥°) */
.disc-highlight {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.4) 0%,
    transparent 40%,
    transparent 60%,
    rgba(255, 255, 255, 0.1) 100%
  );
  pointer-events: none;
}

/* 4. ä¸‹æ–¹ï¼šæ–‡å­—å’ŒéŸ³æµª */
.widget-footer-row {
  margin-top: 12px;
  padding-left: 5px;
  width: 65%; /* å¯¹é½ä¸Šé¢çš„é•¿æ–¹å½¢ */
  display: flex;
  flex-direction: column;
}

.music-title-text {
  /* â–¼ å­—ä½“æ”¹å°ï¼ŒåŸæ¥æ˜¯18px â–¼ */
  font-size: 14px;
  font-weight: 500;
  color: var(--home-icon-widget-text-color, #ffffff);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  margin-bottom: 2px; /* å‡å°é—´è· */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  opacity: 0.9;
}

.music-wave-bars {
  display: flex;
  align-items: flex-end;
  height: 16px;
  gap: 4px;
}

.music-wave-bars i {
  width: 4px;
  background-color: var(--home-icon-widget-text-color, #ffffff);
  border-radius: 4px;
  animation: bar-dance 1s ease-in-out infinite;
  opacity: 0.9;
}

/* è®©éŸ³æµªåŠ¨æ„Ÿä¸€ç‚¹ */
.music-wave-bars i:nth-child(1) {
  height: 30%;
  animation-delay: 0s;
}
.music-wave-bars i:nth-child(2) {
  height: 60%;
  animation-delay: 0.2s;
}
.music-wave-bars i:nth-child(3) {
  height: 100%;
  animation-delay: 0.4s;
}
.music-wave-bars i:nth-child(4) {
  height: 50%;
  animation-delay: 0.1s;
}
.music-wave-bars i:nth-child(5) {
  height: 80%;
  animation-delay: 0.3s;
}
.music-wave-bars i:nth-child(6) {
  height: 40%;
  animation-delay: 0.5s;
}
.music-wave-bars i:nth-child(7) {
  height: 90%;
  animation-delay: 0.2s;
}

/* æ—‹è½¬åŠ¨ç”» */
@keyframes smooth-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes bar-dance {
  0%,
  100% {
    transform: scaleY(1);
    opacity: 0.8;
  }
  50% {
    transform: scaleY(1.5);
    opacity: 1;
  }
}
/* --- ä¿®å¤éŸ³ä¹ç»„ä»¶éŸ³æµªå˜å®½ --- */

/* 1. è°ƒæ•´åº•éƒ¨è¡Œå¸ƒå±€ï¼Œç¡®ä¿å®ƒè¶³å¤Ÿå®½ */
#glass-music-widget .widget-footer-row {
  /* æ ¹æ®ä½ çš„å¸ƒå±€ï¼Œè¿™é‡Œå¯èƒ½éœ€è¦è°ƒæ•´å®½åº¦ */
  width: 100%;
  padding: 0 10px; /* ä¸¤ä¾§ç¨å¾®ç•™ç‚¹ç©ºéš™ */
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-top: 5px;
}

/* 2. æ­Œåæ–‡å­—æ ·å¼å¾®è°ƒ */
#glass-music-widget .music-title-text {
  width: 100%;
  text-align: left; /* æˆ–è€… center */
  margin-bottom: 4px;
  font-size: 14px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 3. éŸ³æµªå®¹å™¨ï¼šè®¾ç½®å®½åº¦åŒ¹é…ä¸Šæ–¹åœ†è§’çŸ©å½¢ */
#custom-wide-wave {
  display: flex;
  align-items: flex-end; /* åº•éƒ¨å¯¹é½ */
  justify-content: space-between; /* æ¡çº¹å‡åŒ€åˆ†å¸ƒ */
  width: 140px; /* â˜… è¿™é‡Œè®¾ç½®å®½åº¦ï¼æ”¹æˆå’Œä¸Šæ–¹å›¾ç‰‡å·®ä¸å¤šçš„å®½åº¦ */
  height: 20px; /* éŸ³æµªæœ€å¤§é«˜åº¦ */
  margin-left: 0; /* é å·¦å¯¹é½ï¼Œå¦‚æœæƒ³å±…ä¸­æ”¹ä¸º auto */
  opacity: 0.8;
}

/* 4. å•ä¸ªéŸ³æµªæ¡çš„æ ·å¼ */
#custom-wide-wave i {
  display: inline-block;
  width: 3px; /* æ¡çº¹å˜ç»†ä¸€ç‚¹ï¼Œçœ‹èµ·æ¥æ›´åƒçº¿ */
  border-radius: 2px;
  /* ä½¿ç”¨ CSS å˜é‡å¼•ç”¨ä¸»å±å¹•å­—ä½“é¢œè‰²ï¼Œå¦‚æœæ²¡æœ‰åˆ™é»˜è®¤ç™½è‰² */
  background-color: var(--home-icon-widget-text-color, #fff);
  animation: wideWaveAnim 1.2s infinite ease-in-out;
}

/* 5. è®¾ç½®ä¸åŒçš„åŠ¨ç”»å»¶è¿Ÿï¼Œåˆ¶é€ æ³¢æµªæ„Ÿ */
#custom-wide-wave i:nth-child(1) {
  animation-delay: 0s;
  height: 30%;
}
#custom-wide-wave i:nth-child(2) {
  animation-delay: 0.1s;
  height: 40%;
}
#custom-wide-wave i:nth-child(3) {
  animation-delay: 0.2s;
  height: 50%;
}
#custom-wide-wave i:nth-child(4) {
  animation-delay: 0.3s;
  height: 40%;
}
#custom-wide-wave i:nth-child(5) {
  animation-delay: 0.4s;
  height: 30%;
}
#custom-wide-wave i:nth-child(6) {
  animation-delay: 0.5s;
  height: 40%;
}
#custom-wide-wave i:nth-child(7) {
  animation-delay: 0.6s;
  height: 60%;
}
#custom-wide-wave i:nth-child(8) {
  animation-delay: 0.5s;
  height: 80%;
}
#custom-wide-wave i:nth-child(9) {
  animation-delay: 0.4s;
  height: 60%;
}
#custom-wide-wave i:nth-child(10) {
  animation-delay: 0.3s;
  height: 40%;
}
#custom-wide-wave i:nth-child(11) {
  animation-delay: 0.2s;
  height: 30%;
}
#custom-wide-wave i:nth-child(12) {
  animation-delay: 0.1s;
  height: 50%;
}
#custom-wide-wave i:nth-child(13) {
  animation-delay: 0s;
  height: 70%;
}
#custom-wide-wave i:nth-child(14) {
  animation-delay: 0.1s;
  height: 50%;
}
#custom-wide-wave i:nth-child(15) {
  animation-delay: 0.2s;
  height: 30%;
}
#custom-wide-wave i:nth-child(16) {
  animation-delay: 0.3s;
  height: 40%;
}
#custom-wide-wave i:nth-child(17) {
  animation-delay: 0.4s;
  height: 50%;
}
#custom-wide-wave i:nth-child(18) {
  animation-delay: 0.5s;
  height: 40%;
}
#custom-wide-wave i:nth-child(19) {
  animation-delay: 0.6s;
  height: 30%;
}
#custom-wide-wave i:nth-child(20) {
  animation-delay: 0.7s;
  height: 20%;
}

/* 6. å®šä¹‰åŠ¨ç”»å…³é”®å¸§ */
@keyframes wideWaveAnim {
  0%,
  100% {
    height: 20%;
  }
  50% {
    height: 90%;
  }
}
